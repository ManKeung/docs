<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api/nextwork/http">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Http请求 | mk-react</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mankeung.github.io//docs/mk-react/docs/api/nextwork/http"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Http请求 | mk-react"><meta data-rh="true" name="description" content="简单封装axios，支持get、post、put、delete和patch方法，promise 的 HTTP 库。更多查看axios文档"><meta data-rh="true" property="og:description" content="简单封装axios，支持get、post、put、delete和patch方法，promise 的 HTTP 库。更多查看axios文档"><link data-rh="true" rel="icon" href="/docs/mk-react/img/logo.png"><link data-rh="true" rel="canonical" href="https://mankeung.github.io//docs/mk-react/docs/api/nextwork/http"><link data-rh="true" rel="alternate" href="https://mankeung.github.io//docs/mk-react/docs/api/nextwork/http" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://mankeung.github.io//docs/mk-react/docs/api/nextwork/http" hreflang="x-default"><link rel="stylesheet" href="/docs/mk-react/assets/css/styles.dacd16c5.css">
<link rel="preload" href="/docs/mk-react/assets/js/runtime~main.a16dcf0d.js" as="script">
<link rel="preload" href="/docs/mk-react/assets/js/main.bc818a83.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_khVw">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/mk-react/"><div class="navbar__logo"><img src="/docs/mk-react/img/logo.png" alt="My Site Logo" class="themedImage_ayT4 themedImage--light_La5_"><img src="/docs/mk-react/img/logo.png" alt="My Site Logo" class="themedImage_ayT4 themedImage--dark_Imjs"></div><b class="navbar__title text--truncate">mk-react</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_qTZR"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><a class="navbar__item navbar__link" href="/docs/mk-react/docs/intro">👉指栏</a><a class="navbar__item navbar__link" href="/docs/mk-react/docs/config">📝配置参考</a><a class="navbar__item navbar__link" href="/docs/mk-react/docs/function">🪧功能</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/mk-react/docs/api">📄API</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">✨v1.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mk-react/docs/changelog">🔖更新日志</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/mk-react/docs/reward">🙈打赏</a><a href="https://gitee.com/mankeung/mk-react" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_jMts"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/mankeung/mk-react" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_jMts"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_SShN colorModeToggle_EKqX"><button class="clean-btn toggleButton_t_8H toggleButtonDisabled_JoAa" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_sIlw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_HDN1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_FMlQ docsWrapper_D5uq"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_McQr" type="button"></button><div class="docPage_A3mC"><aside class="theme-doc-sidebar-container docSidebarContainer_yCF8"><div class="sidebar_oJzC"><nav class="menu thin-scrollbar menu_EsEW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mk-react/docs/api">介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/mk-react/docs/api/nextwork/http">网络</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/mk-react/docs/api/nextwork/http">Http请求</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/mk-react/docs/api/tools/cancel">工具</a></div></li></ul></nav></div></aside><main class="docMainContainer_F9e2"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_cbmN"><div class="docItemContainer_elsL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nLu4" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/docs/mk-react/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_yqhZ"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">网络</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Http请求</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_QLQY theme-doc-toc-mobile tocMobile_widH"><button type="button" class="clean-btn tocCollapsibleButton_Bggp">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Http请求</h1><p>简单封装<code>axios</code>，支持<code>get</code>、<code>post</code>、<code>put</code>、<code>delete</code>和<code>patch</code>方法，promise 的 HTTP 库。更多查看<a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">axios文档</a></p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="基本使用">基本使用<a class="hash-link" href="#基本使用" title="标题的直接链接">​</a></h2><div class="language-ts codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-ts codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">options</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">post</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">patch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="例子">例子<a class="hash-link" href="#例子" title="标题的直接链接">​</a></h2><div class="language-tsx codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Eima">@/src/pages/home/index.tsx</div><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-tsx codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">$mk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/api/get&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;mock模拟数据&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;mock模拟数据&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="图片" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAC0CAYAAACg/+cnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABmxSURBVHhe7d3vixzHncdx/Q330I9s0F+Sx/cokMdi8RIUSB5cHuRBlANhW0yISGwTH4sfWmBbSMY6EBYXRQFj7PhgvcsZG8V5lCgmliMZspBIvovt1PW3fnR/q7qqp3t2Zrdm5v2CYmequ6pnZldbH1X1dp8xAAAAlSCYAACAahBMAABANQgmAACgGgQTAABQDYIJAACoBsEEAABU48zR0ZGhUCgUCoVCqaEwYwIAAKpBMAEAANUgmAAAgGoQTAAAQDU2Lpg8+dRZ/8gJz9N6kavTSttLx8iZdwwAANDZ2GAiX0slyD0ubRfpPrk2Kb1NHucKAAB9982dC+fNszfv++er9eDmRXPu6ZfNXf/8tKxXMLl/zezsXDMP/NOcdKAPz3MBQNflHufaiLS+tJ/I9asNtQUArJH7t8yzF24NjlHTrGkwkc/h6fML97UxwUQGeF1ydaFepHXpNv1VhH3Tkts2ti4UAMAGWHowWUMHL5tz8hnYcFJhMHlwfdfszGZmRwbg2TVzdUcG4pk5cFv9c1d2rsffSmnbDt4hjETB5NBcsv0e2meBHuj1YzH0PN0mSnWldvP6mLcvAKAGbqbinP1fvy97YayJt12xA1pm/6aMmumQgbxtc9HcCU1UfdrP3b3uGLboMKT7GxWSDs0V3VcUJpL31X4Gnp8ZcZ9BouZgYoOIBIpmIL60L2Fk11xtPuODmQ4jLqRc2vdP92ddGNHaYOL2T8OMDPbp4J8WTT8f2haEOvmaazvURoR2aQEA1MMuaYRBOBlgJRR0A7EM6ipMTJ4xkYFftc+Q1zIUcO7ulY8fvY9R5P2oMCEhZ6j9ugYTGx6iQCHBpAsoQbtvQ0JLG1I0H3BkME9DiUgH+3TQzz2fsm+Qtkm/alKX257bFwBw+srBJJ1dkDImmMTtdNAIsx/Zwb0xFExkm25nX7c6ji3HCSY+eIybeUlsVTBp+rnabC8t4aSDf1qC3PPc11SuPtdGHocS6DpdAAAViZZX0hmSgcG2GEzmKwWUYjCRYyWhYyjEjFN4f4sElPULJulSjjtfJIQRaTe8lOPap+FE5Ab60uCv63VISL+KsF2XIDzWdUG6X7pPrg0A4PTEyzUx2VYc/I8xGItcsMiHDVkCKgWIoeP7mZviLMpQ8Mps84El+1mtYzAJYSQM1l1IcWzwCNtDSFHBpOm96Utt88JA37bNlGDeY10nSvuL9HmQ9jW2HQDglCQzJv1ZE7UtmUUIMx9S5s9eJH2pgTy3LBNeQ39bt5yUbotDw7RgkvbVez+5YOLrdLtpy0krDianoTTw5wLAmLrc89I+ab1It8nXtAAAatE/IdUO0BMH17UkoWLBpahl2thgkhv0dV1pe6q0v67X0n1CCYb2BwCcvt6MhBqso/oNKPHsUBfI9D7LKG+/867reISNCyYAAGB9EUwAAEA1CCYAAKAaZ46OjgyFQqFQKBRKDYUZEwAAUA2CCQAAqAbBBAAAVINgAgAAqkEwAQAA1SCYYOu9+F//Z/718iPzrUt/7xWpl+0AcPLk8vhj7rmzHO6Kt4vdeG+ZCCbYahI60jBy64tmw5dfmz1VRzgBMNfS7zWzpsGkvZFfhXcXXpy/c/BTZ82lfV+1BIO3qz6ug9vmiSdec+W775m/+GrxwfO+vim7Nz73teJj82Jo88Sb5s3PfHXjLzfebNs88fzHvnY5xn8Omdtcr9L+zN1bKLljdJbcaVr2fWpmenfcntBPbqbEBpMvvorqZD8AGFTJTfBOldx7Rz4DG042KJgczM6anevL/tb27xi5PBIwbpsP7OPPzZvffc286EdLGzDaoNLfrw0qEmxCALEhR+8Xh5bjmfA5hB8w/3SlbNDIhIw55GclH14l3O6aq3Pepw4f8wqAbeFmKqIb0bV3F463uVv+Z/Zvyqj/ABZuoqfr037kP5ddm6bo39O6v1G/v+U/oKqvKEwk7yu9w7KfGXGfQaLWYPLo0WPzwx/9WL3hrki9bO8rDSjxh6e/UdGdIKNvxMAH3k41SUkH6kNzaeHZGh1MdBAJsyA+ZOgg4tu4AJMEET8TE4LOYgY+h+gfRVPkBy/6bELJ/4OxJflhlbDw5GziLcJllmNqG/t9KoQZCTojZkx08Nj74z997TfmlqoPBcB2sGNK+L2WDLASCrqBWH63qt+Nsu+k/8zN/4+ivJahgHN3r3z86H2MIu8nGR+G2vuxYq2CifjdJ7+PBzFfpD4r+z9nN7Dm3rz94NU3ovuhSdrob1jmmxd94/0ywULBRM92qPAhyzm7Nz5uQ4c878JLU3fwntmVYPKZ/9pssUGmad/tu4iBz8EGjO4HJ/0c4n+A3pw2TY1bhpsYMhaaJRsKHyODThc8vjKHf5TzTb4y98w/zeGv41AiBcB2iAb0aIB1v0/j8WxMMInbpb9npS43von+79iObNPt7OtWx7HlOMHEvvemj+x7miP63KY5kaWcV1+/Fn1Q8rzPzVLkzgsof2OSD7HR7pskPd3H4DTYcdhQ0s12SLDYvfGePY8knkHxsyI3MiHGfn3PzqC4ZZ5jLuXM+Ry6H2o3ZRc/7yf54TbTPbi+e6xziVz7/JKNnbmZszyUho9v/fpr87fkxNdQAGwJ+x+wbozofsf1x5xIMZjMVwooxfFPjpWEjvJYOVbh/S0SUGoPJuInF5+zH7p8HZI7ZyAeDJXeD0E3mMbfID2A5gfc43LLNN2yjXAnvSZLOXYGRQKKPqm1W/6JlnuEBJXkZNopRn8OvR+i3A/ovDYLGrnskpJQUpplKZ97EkvDx7c+/KZ34msoALZDccxpyLbi4H/M34m5YJEPG/K7OHOcuceX3+tNwCjOogwFr8w2e7yB8XnBz+LEgsm9P31qg4l8HVIKJtkfhOSNyzcwJDr9zYyTqB6cc9zMzZRlBRtAMuHBzZj4k1tliaYNHPEsiA0job1a/gkBJlrGsX9xMv+kzmD4cwghw/+w6h+i7A/VnDYNO0sxNWSkwcQupcl7dMtC8r2wMyNRv0Mntw6ce5JI/ypHzjP5W1jSUQGFv8oBtkgyY9L93hThd58vySxC+D0rJTtuRZK+0vEs2ta9hv627j+M6bZ4rPPHGxlM0r567ycXTHydbjdtOekEg4l4+FD+DnNIaUCJv3n6w4k+OP0Doj6cZ28eZv6n3/UXf2gTg4ldvpGZEVXakOJmQlx9shxjg0q6v+NmWlzpnVsyMZgMfQ7dZ9fUHTT79Wafus+o/w8i12axYNKb+RgVTAbCx4QZmN51TGTGxIrPM+E6JsC20P8Bc+zvvYmD61qS8SL5nX4aTjSYzLXglP426Q/Q62/ssktk4OTWoSWeHAkdueuZSJF6QgmwXdKZAv2f3qh+A0o8O9QFMr3PMsrb77zrOh6hrmDSfOtXcWG1zeBmcjYtlFh2Fmjke7OzKfIzkpktmdIPAKBKlQUTAACwzQgmAACgGgQTAABQDYIJAACoBsEEAABUg2ACAACqsd3BZP8V89N/ecHc/rN/vlT64mrphdIGLrymL9jWXgHWGbzwGgAAG4Bgsqpg0gSM9nL0Nmx098yRgBFfqt5v048ber/uPjvC35FYBxoAADbAmgeT++b2zsUmXPhyOVwJtFQvDs3rod4WFUxsUAn1r5gPfbUz8VL1kXBX4fRxw8+QhBv4tYElzKrYy9XH99YJl7Pv9gUAYDOscTDx4WPnrWbYjn14WdX/+S2z1wSNvTfkOru+TQgqesbE7teFlKgP6xjBRMJHuB+OhAr/ONy8783nXTCRGRK3RONv3ncj7KvCjJ99eTMKMQAAbIb1DSY+cLzeu3S9mxFxQUSoMJK2UcHk8zdeULMlvmRCz2R2diOZ7WjCxgdqaSYEEvdVLdO0IcYHExVw4tkVAAA2A8EkCibp8s0x+SWX+ERVNxvSnS/ilmzCUk50MmwbRPSyjhOdpwIAwIbYwKWcpD4KIzq0+P3C8o0/v6QLNKmpSzl+OSYKJU63ZNPwSzPtya9t+HBhJISPaIYknYUBAGBDrPnJr8mJrO1JrnF9FDbUCa57l19pQkt3XklvOSc5aXZKMJHw0f7Zry/dDIefNbElDhhu1sRvi/5c2M+a+G25wAMAwLpb82ACAAA2CcEEAABUg2ACAACqQTABAADVIJgAAIBqEEwAAEA1CCYAAKAaBBMAAFCNjQkm/ZvulU3ZFwAAnByCCQAAqEZVweTRo8fmhz/6sTn39PlekXrZHlGXl7fFh43ipeXT/W3xl6T399Tp6tMb+k29Vw4AAJiquhmT333y+2wwkfpIcqfg4ixI5i7E82dM1B2JWwQTAABWrcqlnFdfvxaFEnmecrMi3axGHDaSm/uNDCa2XreLggkAAFi1as8x+cnF52woka855WDiZztC8Bg5Y+L6C3cazs2YAACAVas2mNz706c2mMjXLHu+SHJ+iA4mPlSEWZBxwcQHnXAuCks5AACcqGqDiXj48Av/KK9bennBvH65CRYhbKiTXPfeeMsu6+hgEp/oGmZJ1PJP089t6ZtgAgDAiao6mAAAgO1CMAEAANUgmAAAgGoQTAAAQDUIJgAAoBoEEwAAUA2CCQAAqAbBBAAAVINgUo3fmo/OnDEfvW/MvWfOmP9+5re+fsCnr5r977xqhi9DN8UCrwEAgCUimFRDQsG3zSefnnYwmfgaAABYou0JJvYy9P7S9f7S8+Ey9e4+Of5y9FLCpejl0vY7L/jL17/StI3b6Uvf6xsKOlMvYd+Fgi9e+7bZf+2+q5bwceY5c889syQ0yKxGCCafSIg4I6W/n6s/0/Unx4nauGM6hdcAAMAJ2bJg0gQIfz+d3I38LH034vZGge4+Ontv3Lft5GsIOu4+O7n+lndvnTaIWBIefACxoaXbJmEizHLEweK++eQ7YT9p3wUV3QYAgNO2dcEkzHbEQcIFj272QwcTmQlx26XOtrt82J9lkZILOsvw/nNdeNCP06Wc9rkLImG2JJQumKiZFd0fAACnjGDSDOK3d1So6M2YDAWTdPlmVSRouDBx7xm19JIGkzZkyP56iUYjmAAA6kUwCcHEn1di60cEk3B+iV3WyVreUo6QJZeP3m9CRXaGxJEln/lLNAQTAEC9CCbyxIcMFzTeakPIYDBpFE+atZYbTML5JNEJqb6uXa6JAka6nBPCCMEEAFCv7QkmAACgegQTAABQDYIJAACoBsEEAABUg2ACAACqQTABAADVIJgAAIBqEEywfu5fMztPnTWX/DVpAACbYyOCya9u/8Y/mufQXHn6vDlny8vmrq8VD25e9PXnzbM3u4uY3d0L+/e3LUZeQ3zsMeR1XDnwT1bmvrlzIbzXi+ZO9FbLn91C9mfmySZcuDIz4a09uL47/6J0SwsmchG87tgAgNO3EcFEBsvZz35hHj5sL9ZeUA4FEkxyoSMKBPdvmWd7A/ZUNQeTQAJK6X0u9vojNljsmqu+fwkjT+5cMxJHRgWTpSGYAEBtNiaYSPneD/7NHBz+j6/NOWYw8TMK7rnr646aaUn3C/Wh33T2xZa9cBn7fBtz8HK8vy3uPUh/0WuWfS/ccgN887qu3JQg5du0x2nYgBX3FZseTA5mZ9twMU8/fDwwV3dcUHHbrtnL+dvZlFn3uu0x2lmWZMZEz8CkryMzO5P2ZYs6FgDgdGxUMAnlxZf2zKNHj/1W7ZjBxA7oob30pYKBbPOhIA4MOsyI/GsYbpO8jkAdU+h93NJUOI7uLzm+CjOd1QYT2Tddhgl1dvakncWQwJJfson6kBkYdWzbRwgZdnamNCvCjAkA1GYzg8kvlxtMur71YF3qqz+ox33n2s1rUwgmUbumXxUw0vbt89wMzBKCyRTzgomeTenPrji6Dxdm8rMfpfYOwQQAarNRweT891e9lKPVEEwaTdAIgUNvz7UP+0XLOlmrDSb9sJAu5XTbciFGpMGkFD4IJgCwXjbo5Nefr/7k10i5rzYEWLKf7kOe9wf94Tbpdq3Z98Itc2cvfi39MBSOmT9+bHowkaAwdiknXV6R8JA/+VWCQ3eSrBYFlqHlGnt+SSl8lPsHAJyOjQgm0/5cePXBxG3rlkrSfuVYYVs3ezHcZuiEVXmN6SxIdIymRO8hWc7pv+8VB5OGDSNh2SU9P0QtyeRmS0Q6kzLULt4Wh5RoGye/AsCp24hgMt70YFK/fIg43vtZ7VLO8XVLPwCAzbKFwSTMFMSDq55hWI+AIuHBvd7cjM5iwaTrc+UXWJtMll3CrMfZgfNGAADrbMuCCQAAqBnBBAAAVINgAgAAqkEwAQAA1SCYAACAahBMcPrsBdLK1ywBAGyPKoPJtAum5f+EtfTnv/ZiZG2bZfxp8GLX9ShfuG2ZTvDPfzN38BVyAbO5f9q7tGDCJeYBYN1VGUxksJz97Berv8S8vZpq6UJiY9UcTIIVXzDNBovugmf2aqrZS8yvGsEEANZdtcFEyvd+sOqb8rkZBffc9XVHzbSk+4X60G86+2JLe2n4fJvs3X39e5D+otcs+/o7/8r7uXJTXZZeX4J+4HL1zvRgMuUS8/3wkd6U71p3cTR12Xd7jHaWJZkx0TMw6evIzM6kfdnCJeYBYO1UHUxCefGlPfPo0WO/VTtmMLEDemgvfalgINt8KIgDgw4zIv8ahtskryNQxxR6H7c0FY6j+0uOr8JMZ7XBJL1vjQh1dvakncWQwJJfson6kBmY9P45IWQM3bCveS/MmADAeluPYPLL5QaTrm89WJf66g/qcd+5dvPaFIJJ1K7pVwWMtH37PDcDs4RgMsW8YKJnU/qzK47uw4WZ/OxHqb1DMAGAdVd1MDn//VUv5Wg1BJNGEzRC4NDbc+3DfumdhftWG0z6YSFdyum25UKMSINJKXwQTABgs1V88uvPV3/ya6TcVxsCLNlP9yHP+4P+cJt0u9bse+GWubMXv5Z+GArHzB8/Nj2YSFAYu5STLq9IeMif/CrBIX9X4CiwDC3X2PNLSuGj3D8AYD1UGUym/bnw6oOJ29YtlaT9yrHCtm72YrjN0Amr8hrTWZDoGE2J3kOynNN/3ysOJg0bRsKyS3p+iFqSyc2WiHQmZahdvC0OKdE2Tn4FgLVTZTAZb3owqV8+RBzv/ax2Kef4uqUfAMB224BgEmYK4sFVzzCsR0CR8OBeb25GZ7Fg0vW58gusTSbLLmHW4+zAeSMAgG2y5sEEAABsEoIJAACoBsEEAABUg2ACAACqcebo6MhQKBQKhUKh1FCYMQEAANUgmAAAgGoQTAAAQDUIJgAAoBobF0zkKqJaeJ7Wi1ydVtpeOkbOvGMAAIDOxgYT+VoqQe5xabtI98m1Selt8jhXAADoc7cVOanbqrhbuZz2vdPWLZjI7fDn3PE2HejD81wA0HW5x7k2Iq0v7Sdy/WpDbQEAa0TuGn/h1ui7ss+3psGkvXv+Yn1tTDCRAV6XXF2oF2lduk1/FWHftOS2ja0LBQCwAZYeTNbQwcvmnHwGNpxUGEweXN81O7OZ2ZEBeHbNXN2RgXhm3M1z5Vb33eCc3l1W2raDdwgjUTDxd6edHdpngR7o9WMx9DzdJkp1pXbz+pi3LwCgBvrO7L7shbEm3ubuBp/ZvymjZjpkIG/bqLvAq/q0n7t73TFs0WFI9zcqJOk7zUvRYSJ5X+1n4PmZkdwd8d22SoOJDSISKJqB+NK+hJFdc7X5jA9mOoy4kHJp3z/dn3VhRGuDids/DTMy2KeDf1o0/XxoWxDq5Guu7VAbEdqlBQBQD7ukEQbhZICVUNANxDKoqzAxecZEBn7VPkNey1DAubtXPn70PkaR96PChIScofbrGkxseIgChQSTLqAE7b4NCS1tSNF8wJHBPA0lIh3s00E/93zKvkHaJv2qSV1ue25fAMDpKweTdHZByphgErfTQSPMfmQH98ZQMJFtup193eo4thwnmPjgMW7mJbFVwaTp52qzvbSEkw7+aQlyz3NfU7n6XBt5HEqg63QBAFQkWl5JZ0gGBttiMJmvFFCKwUSOlYSOoRAzTuH9LRJQ1i+YpEs57nyREEak3fBSjmufhhORG+hLg7+u1yEh/SrCdl2C8FjXBel+6T65NgCA0xMv18RkW3HwP8ZgLHLBIh82ZAmoFCCGju9nboqzKEPBK7PNB5bsZ7WOwSSEkTBYdyHFscEjbA8hRQWTpvemL7XNCwN92zZTgnmPdZ0o7S/S50Ha19h2AIBTksyY9GdN1LZkFiHMfEiZP3uR9KUG8tyyTHgN/W3dclK6LQ4N04JJ2lfv/eSCia/T7aYtJ604mJyG0sCfCwBj6nLPS/uk9SLdJl/TAgCoRf+EVDtATxxc15KEigWXopZpY4NJbtDXdaXtqdL+ul5L9wklGNofAHD6ejMSarCO6jegxLNDXSDT+yyjvP3Ou67jETYumAAAgPVFMAEAANU4c3R0ZCgUCoVCoVBqKMyYAACAahBMAABANQgmAACgGgQTAABQDYIJAACoBsEEAABUY1Qw+c3H/zCf/fUb/wwAAGA15gaTL/9hzKX//NJcuvGYcAIAAFZq1IyJhJOXfuXCyR8eEE4AAMBqjD7HJISTf7/22Bz+4WtfCwAAsDyTgsl/3P5fggkAAFiZUcHkr3//xoYSOdeEpRwAALAq409+bQonvwIAgFUaNWPCnwsDAICTMPocEwAAgFUjmAAAgGoQTAAAQDUIJgAAoBoEEwAAUA2CCQAAqAbBBAAAVINgAgAAqkEwAQAA1SCYAACAahBMAABANQgmAACgGgQTAABQDYIJAACoBsEEAABUg2ACAACqQTABAACVMOb/AT3Q0D5XWfe1AAAAAElFTkSuQmCC" width="550" height="180" class="img_wrHa"></p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="全局配置">全局配置<a class="hash-link" href="#全局配置" title="标题的直接链接">​</a></h2><div class="language-ts codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Eima">@/src/http/index.ts</div><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-ts codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> http </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    headers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    responseType</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="请求拦截">请求拦截<a class="hash-link" href="#请求拦截" title="标题的直接链接">​</a></h2><div class="language-ts codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Eima">@/src/http/requestInterceptors.ts</div><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-ts codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AxiosRequestConfig </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onFulfilled</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> AxiosRequestConfig</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cancelToken </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">CancelToken</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// ! 全局没挂上设置默认值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cancelHttpArr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cancelHttpArr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// TODO 把请求push进去便于取消请求</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_cancelHttpArr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onRejected</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="响应拦截">响应拦截<a class="hash-link" href="#响应拦截" title="标题的直接链接">​</a></h2><div class="language-ts codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Eima">@/src/http/responseInterceptors.ts</div><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-ts codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AxiosResponse </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;axios&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CODE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./code&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onFulfilled</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> AxiosResponse</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token operator" style="color:#393A34">?.</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CODE</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">onRejected</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">isCancel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">reject</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="code码">code码<a class="hash-link" href="#code码" title="标题的直接链接">​</a></h2><p>具体码值根据你项目自行修改</p><div class="language-ts codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Eima">@/src/http/code.ts</div><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-ts codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> code </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">OK</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 服务正常，且返回数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">ERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 参数错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">LOGINERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4001</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 用户登陆认证失败</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">DATAERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4002</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 数据不是最新，需刷新</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">AUTHERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4003</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 无权限操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">ERR404</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4004</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 找不到资源</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">TOKENERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">401</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// token验证错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">SERVERERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 服务端异常</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">OTHERERR</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6000</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 未知错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> code</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="取消请求">取消请求<a class="hash-link" href="#取消请求" title="标题的直接链接">​</a></h2><p>细心的你肯定，发现在请求拦截中使用了<code>window._cancelHttpArr</code>存储<code>c</code>方便取消请求，响应拦截<code>axios.isCancel(error)</code>处理取消请求错误，具体使用工具函数会介绍。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mankeung/mk-react/edit/master/docs/api/nextwork/http.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_BJG6" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_uXFU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/mk-react/docs/api"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">介绍</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/mk-react/docs/api/tools/cancel"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">取消请求</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_LUX6 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#基本使用" class="table-of-contents__link toc-highlight">基本使用</a></li><li><a href="#例子" class="table-of-contents__link toc-highlight">例子</a></li><li><a href="#全局配置" class="table-of-contents__link toc-highlight">全局配置</a></li><li><a href="#请求拦截" class="table-of-contents__link toc-highlight">请求拦截</a></li><li><a href="#响应拦截" class="table-of-contents__link toc-highlight">响应拦截</a></li><li><a href="#code码" class="table-of-contents__link toc-highlight">code码</a></li><li><a href="#取消请求" class="table-of-contents__link toc-highlight">取消请求</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">mkimq版权所有 © 2022</div></div></div></footer></div>
<script src="/docs/mk-react/assets/js/runtime~main.a16dcf0d.js"></script>
<script src="/docs/mk-react/assets/js/main.bc818a83.js"></script>
</body>
</html>