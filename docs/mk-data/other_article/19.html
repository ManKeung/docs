<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/docs/mk-data/assets/logo.png"><title>å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€» | mkimq</title><meta name="description" content="å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼">
    <link rel="modulepreload" href="/docs/mk-data/assets/app.5d0cbf7a.js"><link rel="modulepreload" href="/docs/mk-data/assets/19.html.b0c5219d.js"><link rel="modulepreload" href="/docs/mk-data/assets/19.html.6bca0256.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.1793ff0e.js"><link rel="prefetch" href="/docs/mk-data/assets/reward.html.53204b08.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.eb19c3ef.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.2047c8b5.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.e6201015.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.f59244bb.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.2699c96b.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.ba709041.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.219cd9c5.js"><link rel="prefetch" href="/docs/mk-data/assets/bg.html.cb507c5e.js"><link rel="prefetch" href="/docs/mk-data/assets/box.html.e26a7990.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.498713f3.js"><link rel="prefetch" href="/docs/mk-data/assets/flex.html.416f56d5.js"><link rel="prefetch" href="/docs/mk-data/assets/float.html.b539bb87.js"><link rel="prefetch" href="/docs/mk-data/assets/grid.html.c6cdd22a.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.9cdf4c93.js"><link rel="prefetch" href="/docs/mk-data/assets/keyframes.html.9831e17e.js"><link rel="prefetch" href="/docs/mk-data/assets/media.html.6b04ac79.js"><link rel="prefetch" href="/docs/mk-data/assets/next.html.16f25e0a.js"><link rel="prefetch" href="/docs/mk-data/assets/position.html.01fa35fb.js"><link rel="prefetch" href="/docs/mk-data/assets/selector.html.92bc99fa.js"><link rel="prefetch" href="/docs/mk-data/assets/size.html.e5d2d993.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.611fe334.js"><link rel="prefetch" href="/docs/mk-data/assets/transform.html.cf9f50f0.js"><link rel="prefetch" href="/docs/mk-data/assets/transition.html.50a838c5.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.89861ea0.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.a7726e0a.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.7df60ed2.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.bc5d87ef.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.7ebe1572.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.2745dbab.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.650681f8.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.280a71b9.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.94171bdf.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.30d6a524.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.da3f7c57.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.d2dea09a.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.bcf80507.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.2eba8f9c.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.77f0b255.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.76d4bc4a.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.6bfb3daa.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.dd7188f7.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.20f034a1.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.b6e8736c.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.8b9078e3.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.3fcb1a1c.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.8ad1a96d.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.0dfe64aa.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.2d988385.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.815e2add.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.235d0022.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.19810b8d.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.0909a849.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.bde1efe7.js"><link rel="prefetch" href="/docs/mk-data/assets/backEnd.html.dce09508.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.1d3ecb0f.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.ade6a666.js"><link rel="prefetch" href="/docs/mk-data/assets/web.html.177d2d89.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.e01b323c.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.5aae4566.js"><link rel="prefetch" href="/docs/mk-data/assets/form.html.f4dcb621.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.3a0a73ac.js"><link rel="prefetch" href="/docs/mk-data/assets/link.html.ba4c07d6.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.017a1d96.js"><link rel="prefetch" href="/docs/mk-data/assets/skill.html.43d12579.js"><link rel="prefetch" href="/docs/mk-data/assets/table.html.e04f748a.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.40e30420.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.310314ce.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.31bc025d.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.b570030d.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.3522de4e.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.858b4ee8.js"><link rel="prefetch" href="/docs/mk-data/assets/ajax.html.1074308e.js"><link rel="prefetch" href="/docs/mk-data/assets/array.html.a14faaf4.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.a9e241d8.js"><link rel="prefetch" href="/docs/mk-data/assets/baseType.html.101de080.js"><link rel="prefetch" href="/docs/mk-data/assets/canvas.html.8ba8b85c.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.58b99c1b.js"><link rel="prefetch" href="/docs/mk-data/assets/dom.html.9993de62.js"><link rel="prefetch" href="/docs/mk-data/assets/event.html.2b0e6d75.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.5a73a70c.js"><link rel="prefetch" href="/docs/mk-data/assets/fun.html.52f76373.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.6f6f3f79.js"><link rel="prefetch" href="/docs/mk-data/assets/map.html.2a7fa975.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.bf4a1eed.js"><link rel="prefetch" href="/docs/mk-data/assets/object.html.21289035.js"><link rel="prefetch" href="/docs/mk-data/assets/promise.html.3718c27c.js"><link rel="prefetch" href="/docs/mk-data/assets/promiseMy.html.f899a5c5.js"><link rel="prefetch" href="/docs/mk-data/assets/prototype.html.4228b2b9.js"><link rel="prefetch" href="/docs/mk-data/assets/reg.html.9c42e002.js"><link rel="prefetch" href="/docs/mk-data/assets/scope.html.abd922d0.js"><link rel="prefetch" href="/docs/mk-data/assets/set.html.1abde6ae.js"><link rel="prefetch" href="/docs/mk-data/assets/symbol.html.abca4564.js"><link rel="prefetch" href="/docs/mk-data/assets/task.html.228db5e2.js"><link rel="prefetch" href="/docs/mk-data/assets/xy.html.dd7c61bf.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.5072746f.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.f0bee911.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.86e2230c.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.6aaef737.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.1e5a197b.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.a5f1a195.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.b32d0fc2.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.e8615b2f.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.228f3558.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.843a2db3.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.94c5ac4f.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.7d38a32f.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.42d9d1c0.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.9e168184.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.cc5ececc.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.8c0f6ece.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.54b98845.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.425589dd.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.09214d30.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.757d0057.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.f09618e8.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.97dd4b1e.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.b241539f.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.66a597cb.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.96030957.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.bbd696ec.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.ff19106c.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.d16fc714.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.91dac928.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.073b2201.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.f93b517e.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.f67e085d.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.460e8f34.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.3fe22172.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.20757566.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.ed2f5270.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.a725602e.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.9c66a5e1.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.d90189b2.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.fdb3c0f6.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.88446e34.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.b6bfc64e.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.ebc0c724.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.ec6072a1.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.3f5c540b.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.b97cd643.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.ef4f1603.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.e0e36206.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.ec68f83f.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.7116b9ff.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.5e815c4b.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.a4ed858f.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.d3d968ec.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.e302ff12.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.a87d9dd3.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.f2699037.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.1e2f1c66.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.e27e2efa.js"><link rel="prefetch" href="/docs/mk-data/assets/know.html.680d07c6.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.b7167c8f.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.19005b7a.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.821e8c20.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.0c503358.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.73ca2b9a.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.02ccaee1.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.2813a74a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.29ebc478.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.8163db7a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.c2fca78d.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.e6970896.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.7bc34980.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.41999214.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.9e7367b6.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.2bf58b7f.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.d455b5f0.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.448d85c7.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.3190f58b.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.682b4b46.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.bcdd042c.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.6876f6da.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.081b9dbc.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.ed8d5f36.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.4e31cbad.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.e8b4a15a.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.32010fbe.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.c507776c.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.b59e61a5.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.8d6e09c8.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.276dcad1.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.2d4ce031.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.18f8c247.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.5d4a11eb.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.0e8a2e29.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.3d4221f5.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.6a58eff5.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.41284d03.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.051cf7b3.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.ef74fbb6.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.0e71cc97.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.14c82ff7.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.0c9d62e8.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.19924664.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.1e99019c.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.2c305bb3.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.694f7163.js"><link rel="prefetch" href="/docs/mk-data/assets/build.html.74a33316.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.19ea390e.js"><link rel="prefetch" href="/docs/mk-data/assets/common.html.ed89e815.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.2698da5e.js"><link rel="prefetch" href="/docs/mk-data/assets/design.html.dc72fd93.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.f3f45c79.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.e573bd99.js"><link rel="prefetch" href="/docs/mk-data/assets/gitrec.html.2fd376f9.js"><link rel="prefetch" href="/docs/mk-data/assets/icon.html.2482e920.js"><link rel="prefetch" href="/docs/mk-data/assets/lang.html.d9fb48bc.js"><link rel="prefetch" href="/docs/mk-data/assets/lint.html.07cb0595.js"><link rel="prefetch" href="/docs/mk-data/assets/opendoc.html.c55c9b26.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.58d50abc.js"><link rel="prefetch" href="/docs/mk-data/assets/static.html.be2766ce.js"><link rel="prefetch" href="/docs/mk-data/assets/template.html.0386b184.js"><link rel="prefetch" href="/docs/mk-data/assets/test.html.922e0253.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.e3d789fa.js"><link rel="prefetch" href="/docs/mk-data/assets/ui.html.94323cc2.js"><link rel="prefetch" href="/docs/mk-data/assets/video.html.de543272.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.0df1bb37.js"><link rel="prefetch" href="/docs/mk-data/assets/doc.html.0ad702e2.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.8063dbed.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.ee8b365b.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.f7f6b762.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.f687b45e.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.e9b1ca89.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.9690fdc8.js"><link rel="prefetch" href="/docs/mk-data/assets/illustrate.html.c789f71e.js"><link rel="prefetch" href="/docs/mk-data/assets/md.html.4456dfb5.js"><link rel="prefetch" href="/docs/mk-data/assets/npm.html.1273d37a.js"><link rel="prefetch" href="/docs/mk-data/assets/nvm.html.861568ba.js"><link rel="prefetch" href="/docs/mk-data/assets/pm2.html.17ca893c.js"><link rel="prefetch" href="/docs/mk-data/assets/pnpm.html.9215128b.js"><link rel="prefetch" href="/docs/mk-data/assets/yarn.html.e36eb6c9.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.c631fae1.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.9e981702.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.5a7920b5.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.a32c9112.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.e23687ba.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.411ce5c5.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.cfc8fc3e.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.ad3e268b.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.f404935a.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.3aad0478.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.d804ef64.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.8066c606.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.064a9c6c.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.c877e4d7.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.f940923b.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.b6a0824a.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.8bd98dec.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.33703bd3.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.c20f7dc1.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.4b145618.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.dd41321e.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.3db02394.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.cee6bebb.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.92ac82e0.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.0c66e4a1.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.908fda53.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.06680db1.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.88499525.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.5010a0fb.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.e859da7b.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.309a91e2.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.32a6e2cf.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.27575047.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.8adbc7b7.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.4e64e1ed.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.1d16732f.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.94a877a8.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.b3ca5c08.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.fb628b09.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.63e4949b.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.2e404d04.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.1354afab.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.cc6e19d2.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.5b9467d6.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.a389c089.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.63ba6eb0.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.e4f33d32.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.9f6ff188.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.b6532577.js"><link rel="prefetch" href="/docs/mk-data/assets/assert.html.de34697e.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.be3c534c.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.f2e52fcc.js"><link rel="prefetch" href="/docs/mk-data/assets/decorators.html.34055a29.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.cc2b65b7.js"><link rel="prefetch" href="/docs/mk-data/assets/t.html.06a37180.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.10b236b9.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.9893ca39.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.f5f98916.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.aa2f383d.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.5c97884b.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.c83c0ac2.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.7c33a921.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.3bfb95b4.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.ac381406.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.0876a8ef.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.ac7c41b4.js"><link rel="prefetch" href="/docs/mk-data/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.561fb949.js"><link rel="prefetch" href="/docs/mk-data/assets/reward.html.3f7e15fa.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.d4310a92.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.b117165d.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.9693de0f.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.cd0ccf6e.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.4baf62da.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.b1627f2d.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.35c39d26.js"><link rel="prefetch" href="/docs/mk-data/assets/bg.html.d2ab8d5a.js"><link rel="prefetch" href="/docs/mk-data/assets/box.html.babc119f.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.9a017fae.js"><link rel="prefetch" href="/docs/mk-data/assets/flex.html.1fa61d29.js"><link rel="prefetch" href="/docs/mk-data/assets/float.html.505eb053.js"><link rel="prefetch" href="/docs/mk-data/assets/grid.html.ada2ae28.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.77002537.js"><link rel="prefetch" href="/docs/mk-data/assets/keyframes.html.16304c1d.js"><link rel="prefetch" href="/docs/mk-data/assets/media.html.6b973111.js"><link rel="prefetch" href="/docs/mk-data/assets/next.html.ca1ad6b7.js"><link rel="prefetch" href="/docs/mk-data/assets/position.html.1dfdc11b.js"><link rel="prefetch" href="/docs/mk-data/assets/selector.html.a33b1cfe.js"><link rel="prefetch" href="/docs/mk-data/assets/size.html.6ff283e8.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.20671bd2.js"><link rel="prefetch" href="/docs/mk-data/assets/transform.html.51df3652.js"><link rel="prefetch" href="/docs/mk-data/assets/transition.html.f1f15d5f.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.d443d54c.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.e1ed2ff4.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.3c58402f.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.35a910f7.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.ca5c509e.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.79ff9361.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.ec5253b3.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.01b352ba.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.fc998c1c.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.bdd8b213.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.3acc4f37.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.ab03d604.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.519beb1e.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.3ed904bb.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.6fd13f3d.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.07dfd403.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.889d38f8.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.7a048562.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.e8ef4881.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.41f05a99.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.4e1b806f.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.6e071c56.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.0e80f26a.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.8b9fac9e.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.0c32eff1.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.afee17cb.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.88b69a5e.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.883f8e4a.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.9e237035.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.1be0d750.js"><link rel="prefetch" href="/docs/mk-data/assets/backEnd.html.005c91c7.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.64ce85c5.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.891f8c82.js"><link rel="prefetch" href="/docs/mk-data/assets/web.html.97f1b0a7.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.8599762f.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.628f59e4.js"><link rel="prefetch" href="/docs/mk-data/assets/form.html.4c2c35de.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.780038ec.js"><link rel="prefetch" href="/docs/mk-data/assets/link.html.4062ca71.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.983d680a.js"><link rel="prefetch" href="/docs/mk-data/assets/skill.html.436bc86b.js"><link rel="prefetch" href="/docs/mk-data/assets/table.html.bb611969.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.de3820de.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.cc8de7da.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.56516d4f.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.8e3bb343.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.0e142d3f.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.7962673c.js"><link rel="prefetch" href="/docs/mk-data/assets/ajax.html.99dbc063.js"><link rel="prefetch" href="/docs/mk-data/assets/array.html.06081655.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.7555170f.js"><link rel="prefetch" href="/docs/mk-data/assets/baseType.html.887ef72d.js"><link rel="prefetch" href="/docs/mk-data/assets/canvas.html.dcd37ce8.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.e3f827f5.js"><link rel="prefetch" href="/docs/mk-data/assets/dom.html.1d061a44.js"><link rel="prefetch" href="/docs/mk-data/assets/event.html.c386f86c.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.0f842c1a.js"><link rel="prefetch" href="/docs/mk-data/assets/fun.html.a5957d0b.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.6fee3e64.js"><link rel="prefetch" href="/docs/mk-data/assets/map.html.e3193f2c.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.7d8b50ec.js"><link rel="prefetch" href="/docs/mk-data/assets/object.html.ec8d5dac.js"><link rel="prefetch" href="/docs/mk-data/assets/promise.html.d4152b87.js"><link rel="prefetch" href="/docs/mk-data/assets/promiseMy.html.dda75a78.js"><link rel="prefetch" href="/docs/mk-data/assets/prototype.html.cefe5f23.js"><link rel="prefetch" href="/docs/mk-data/assets/reg.html.d9abed0f.js"><link rel="prefetch" href="/docs/mk-data/assets/scope.html.f08b4ac4.js"><link rel="prefetch" href="/docs/mk-data/assets/set.html.37837e7d.js"><link rel="prefetch" href="/docs/mk-data/assets/symbol.html.f7b52ffb.js"><link rel="prefetch" href="/docs/mk-data/assets/task.html.2f7efc18.js"><link rel="prefetch" href="/docs/mk-data/assets/xy.html.e0c68b4a.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.03a28124.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.29931b6d.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.f6776be4.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.8155f50d.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.1cc7f260.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.90fecccd.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.9207100c.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.d513f777.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.2b389cf2.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.854e4e26.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.1bd0f024.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.2432b145.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.02166dfa.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.dd4bfbe3.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.10f71c5c.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.207da689.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.5a78994f.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.1877c652.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.7201fd1d.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.f3d0a8f4.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.02186e5c.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.1cf98666.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.492b4515.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.f4d607e1.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.43c4fdf3.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.acf567d8.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.eca8761c.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.de46fd51.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.39e9f6a5.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.d6c1615c.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.3c179888.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.9fd66f73.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.c09948d1.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.21f2b80b.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.1a86d204.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.cc42a679.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.52bc49b2.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.24b46c4f.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.a7d719ab.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.cd30c9d0.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.0348445a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.f642873c.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.5f8ae6f1.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.cf21d54c.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.cb92de7d.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.0cb01759.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.ebe11052.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.fa638739.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.550f473a.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.c62b0763.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.1aeab2ce.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.c6878bd0.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.c74ff4e9.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.415655eb.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.802e754e.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.ec162c27.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.b7b12f1b.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.c0774073.js"><link rel="prefetch" href="/docs/mk-data/assets/know.html.61cc4c9d.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.eeaaa4c8.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.f0e77242.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.eaef8ca0.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.de452ff2.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.eec5e12b.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.e35bd9fb.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.4159347d.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.e149664f.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.16b65d9c.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.7d5f02f4.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.92655a09.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.49e15690.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.7c328cad.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.c5140b79.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.66cf6406.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.788e3b16.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.277b5ba7.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.c36b545f.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.0faba217.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.50c8e2f7.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.8ac1b201.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.869b10df.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.eb9d3b45.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.b28d790c.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.d6b1a150.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.3f413227.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.ebfcad2e.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.3781f277.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.9681eb29.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.268a5c42.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.db128f7c.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.07d37886.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.3bfa5939.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.b628a9bb.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.0f3a0405.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.6f17f8b4.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.9e2c1876.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.154a80cf.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.2251812e.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.9eec6996.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.ecc7d1fe.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.7fdec604.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.b29dac9c.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.7456cf8a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.96c64d6c.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.5d86ea76.js"><link rel="prefetch" href="/docs/mk-data/assets/build.html.21725851.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.f8db7779.js"><link rel="prefetch" href="/docs/mk-data/assets/common.html.f5a7ef79.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.77e937c8.js"><link rel="prefetch" href="/docs/mk-data/assets/design.html.5f9557d6.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.1480a9cd.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.1191d278.js"><link rel="prefetch" href="/docs/mk-data/assets/gitrec.html.0776a365.js"><link rel="prefetch" href="/docs/mk-data/assets/icon.html.df9bdb0d.js"><link rel="prefetch" href="/docs/mk-data/assets/lang.html.4256c58d.js"><link rel="prefetch" href="/docs/mk-data/assets/lint.html.df34a0ac.js"><link rel="prefetch" href="/docs/mk-data/assets/opendoc.html.4af84ee3.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.24033abf.js"><link rel="prefetch" href="/docs/mk-data/assets/static.html.feba83f6.js"><link rel="prefetch" href="/docs/mk-data/assets/template.html.aa3f1481.js"><link rel="prefetch" href="/docs/mk-data/assets/test.html.aa78e1d7.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.481eef86.js"><link rel="prefetch" href="/docs/mk-data/assets/ui.html.ccd17353.js"><link rel="prefetch" href="/docs/mk-data/assets/video.html.9a9e7444.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.155ada4f.js"><link rel="prefetch" href="/docs/mk-data/assets/doc.html.76eab0d2.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.4e866b4f.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.344e8ce2.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.e1a41328.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.fcd1df96.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.49fdf624.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.22fc46b9.js"><link rel="prefetch" href="/docs/mk-data/assets/illustrate.html.ee11ca0d.js"><link rel="prefetch" href="/docs/mk-data/assets/md.html.713d2936.js"><link rel="prefetch" href="/docs/mk-data/assets/npm.html.12ca8860.js"><link rel="prefetch" href="/docs/mk-data/assets/nvm.html.de9159f7.js"><link rel="prefetch" href="/docs/mk-data/assets/pm2.html.25c6af87.js"><link rel="prefetch" href="/docs/mk-data/assets/pnpm.html.e6a11eb5.js"><link rel="prefetch" href="/docs/mk-data/assets/yarn.html.9ed5f02a.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.3654edaa.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.9c13d474.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.6ddb0f61.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.09b9428f.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.e50b9025.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.6fb7ea91.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.66518a8d.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.7f477ce1.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.27c6bca7.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.83094bce.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.6aa5c806.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.c811baae.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.1697e7a9.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.f2a06c09.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.e2dd4130.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.36b4caf1.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.55151866.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.29e2849b.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.0bc44240.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.543516d0.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.23d2c81a.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.4b1e2c24.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.3ce996d3.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.7c883a4a.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.38ea2e4f.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.3c57d849.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.d5b5bc2c.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.82cddb68.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.b7efb886.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.1ed073f7.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.4c44bf01.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.a341e8ac.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.6a721f94.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.de360de8.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.04410578.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.584df432.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.5759916b.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.8ddd4f17.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.6fa8508b.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.85e64133.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.9e390a3a.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.f7bce0b1.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.a84cef5b.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.a1d3229c.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.3d52f7f1.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.181ec5c6.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.99c60b13.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.8c899ba4.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.0eff8a39.js"><link rel="prefetch" href="/docs/mk-data/assets/assert.html.79a7b16c.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.9c114ab8.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.21568f8c.js"><link rel="prefetch" href="/docs/mk-data/assets/decorators.html.7d140882.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.4bcaad7e.js"><link rel="prefetch" href="/docs/mk-data/assets/t.html.6a173ef0.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.ac3fc687.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.cfd8db19.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.39aaa0e7.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.5dc7a53e.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.513cacc3.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.ca9c80f3.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.77d61ea6.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.e12f802b.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.ed3eded6.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.b38aa292.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.ac893b92.js"><link rel="prefetch" href="/docs/mk-data/assets/404.html.d66a8def.js"><link rel="prefetch" href="/docs/mk-data/assets/CodeOpen.05967a8f.js"><link rel="prefetch" href="/docs/mk-data/assets/CodeType.5f736887.js"><link rel="prefetch" href="/docs/mk-data/assets/Site.90ff2fb4.js"><link rel="prefetch" href="/docs/mk-data/assets/Tip.c1fd9897.js">
    <link rel="stylesheet" href="/docs/mk-data/assets/style.07bd37ba.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="åˆ‡æ¢ä¾§è¾¹æ " aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/mk-data/" class=""><!----><span class="site-name can-hide">mkimq</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/mk-data/standard/" class="" aria-label="ğŸ«°è§„èŒƒ"><!--[--><!--]--> ğŸ«°è§„èŒƒ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ“çŸ¥è¯†"><span class="title">ğŸ“çŸ¥è¯†</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ“çŸ¥è¯†"><span class="title">ğŸ“çŸ¥è¯†</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/web.md" class="" aria-label="ğŸ”–å‰ç«¯"><!--[--><!--]--> ğŸ”–å‰ç«¯ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/backEnd.md" class="" aria-label="ğŸ”–åç«¯"><!--[--><!--]--> ğŸ”–åç«¯ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ“„æ–‡ç« "><span class="title">ğŸ“„æ–‡ç« </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ“„æ–‡ç« "><span class="title">ğŸ“„æ–‡ç« </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/html.md" class="" aria-label="ğŸ”–html"><!--[--><!--]--> ğŸ”–html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/css.md" class="" aria-label="ğŸ”–css"><!--[--><!--]--> ğŸ”–css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/js.md" class="" aria-label="ğŸ”–js"><!--[--><!--]--> ğŸ”–js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/ts.md" class="" aria-label="ğŸ”–ts"><!--[--><!--]--> ğŸ”–ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/node.md" class="" aria-label="ğŸ”–node"><!--[--><!--]--> ğŸ”–node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/other.md" class="" aria-label="ğŸ”–å…¶ä»–"><!--[--><!--]--> ğŸ”–å…¶ä»– <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ±é¢è¯•"><span class="title">ğŸ±é¢è¯•</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ±é¢è¯•"><span class="title">ğŸ±é¢è¯•</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/html.md" class="" aria-label="ğŸ”–html"><!--[--><!--]--> ğŸ”–html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/css.md" class="" aria-label="ğŸ”–css"><!--[--><!--]--> ğŸ”–css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/js.md" class="" aria-label="ğŸ”–js"><!--[--><!--]--> ğŸ”–js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/node.md" class="" aria-label="ğŸ”–node"><!--[--><!--]--> ğŸ”–node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/other.md" class="" aria-label="ğŸ”–å…¶ä»–"><!--[--><!--]--> ğŸ”–å…¶ä»– <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/docs/mk-data/site/" class="" aria-label="ğŸ”ç½‘ç«™"><!--[--><!--]--> ğŸ”ç½‘ç«™ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/mk-data/reward" class="" aria-label="ğŸ™ˆæ‰“èµ"><!--[--><!--]--> ğŸ™ˆæ‰“èµ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="æœç´¢æ–‡æ¡£å…³é”®å­—" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/mk-data/standard/" class="" aria-label="ğŸ«°è§„èŒƒ"><!--[--><!--]--> ğŸ«°è§„èŒƒ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ“çŸ¥è¯†"><span class="title">ğŸ“çŸ¥è¯†</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ“çŸ¥è¯†"><span class="title">ğŸ“çŸ¥è¯†</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/web.md" class="" aria-label="ğŸ”–å‰ç«¯"><!--[--><!--]--> ğŸ”–å‰ç«¯ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/backEnd.md" class="" aria-label="ğŸ”–åç«¯"><!--[--><!--]--> ğŸ”–åç«¯ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ“„æ–‡ç« "><span class="title">ğŸ“„æ–‡ç« </span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ“„æ–‡ç« "><span class="title">ğŸ“„æ–‡ç« </span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/html.md" class="" aria-label="ğŸ”–html"><!--[--><!--]--> ğŸ”–html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/css.md" class="" aria-label="ğŸ”–css"><!--[--><!--]--> ğŸ”–css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/js.md" class="" aria-label="ğŸ”–js"><!--[--><!--]--> ğŸ”–js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/ts.md" class="" aria-label="ğŸ”–ts"><!--[--><!--]--> ğŸ”–ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/node.md" class="" aria-label="ğŸ”–node"><!--[--><!--]--> ğŸ”–node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/other.md" class="" aria-label="ğŸ”–å…¶ä»–"><!--[--><!--]--> ğŸ”–å…¶ä»– <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ±é¢è¯•"><span class="title">ğŸ±é¢è¯•</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ±é¢è¯•"><span class="title">ğŸ±é¢è¯•</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/html.md" class="" aria-label="ğŸ”–html"><!--[--><!--]--> ğŸ”–html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/css.md" class="" aria-label="ğŸ”–css"><!--[--><!--]--> ğŸ”–css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/js.md" class="" aria-label="ğŸ”–js"><!--[--><!--]--> ğŸ”–js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/node.md" class="" aria-label="ğŸ”–node"><!--[--><!--]--> ğŸ”–node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/tools.md" class="" aria-label="ğŸ”–å·¥å…·"><!--[--><!--]--> ğŸ”–å·¥å…· <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/other.md" class="" aria-label="ğŸ”–å…¶ä»–"><!--[--><!--]--> ğŸ”–å…¶ä»– <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/docs/mk-data/site/" class="" aria-label="ğŸ”ç½‘ç«™"><!--[--><!--]--> ğŸ”ç½‘ç«™ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/mk-data/reward" class="" aria-label="ğŸ™ˆæ‰“èµ"><!--[--><!--]--> ğŸ™ˆæ‰“èµ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">html <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/html.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/html_article/01.html" class="sidebar-item" aria-label="ä½ å¯èƒ½ä»æœªå¬è¯´è¿‡çš„HTMLåŠŸèƒ½"><!--[--><!--]--> ä½ å¯èƒ½ä»æœªå¬è¯´è¿‡çš„HTMLåŠŸèƒ½ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">css <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/css.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/01.html" class="sidebar-item" aria-label="4ä¸ªå¾ˆç‰›é€¼çš„å³å°†æ¨å‡ºçš„CSSç‰¹æ€§"><!--[--><!--]--> 4ä¸ªå¾ˆç‰›é€¼çš„å³å°†æ¨å‡ºçš„CSSç‰¹æ€§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/02.html" class="sidebar-item" aria-label="CSSå®ç”¨æŠ€å·§"><!--[--><!--]--> CSSå®ç”¨æŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/03.html" class="sidebar-item" aria-label="SCSS ä¸­è¿™äº›æŠ€å·§ï¼Œä½ å¯èƒ½è¿˜ä¸çŸ¥é“ï¼"><!--[--><!--]--> SCSS ä¸­è¿™äº›æŠ€å·§ï¼Œä½ å¯èƒ½è¿˜ä¸çŸ¥é“ï¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/04.html" class="sidebar-item" aria-label="cssææ•ˆæŠ€å·§"><!--[--><!--]--> cssææ•ˆæŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/05.html" class="sidebar-item" aria-label="loading"><!--[--><!--]--> loading <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/06.html" class="sidebar-item" aria-label="CSS æ–‡æœ¬ä¸‹åˆ’çº¿çš„å®ç°æ¡ˆä¾‹"><!--[--><!--]--> CSS æ–‡æœ¬ä¸‹åˆ’çº¿çš„å®ç°æ¡ˆä¾‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/07.html" class="sidebar-item" aria-label="é€‚åˆåˆå­¦è€…ç»ƒä¹ HTMLå’ŒCSSçš„æ¡ˆä¾‹"><!--[--><!--]--> é€‚åˆåˆå­¦è€…ç»ƒä¹ HTMLå’ŒCSSçš„æ¡ˆä¾‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/08.html" class="sidebar-item" aria-label="ä»…ç”¨ CSS å°±èƒ½å®ç°çš„æœ‰è¶£çš„åŠŸèƒ½"><!--[--><!--]--> ä»…ç”¨ CSS å°±èƒ½å®ç°çš„æœ‰è¶£çš„åŠŸèƒ½ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/09.html" class="sidebar-item" aria-label="ç½‘é¡µåŠ¨ç”»çš„åäºŒåŸåˆ™"><!--[--><!--]--> ç½‘é¡µåŠ¨ç”»çš„åäºŒåŸåˆ™ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/10.html" class="sidebar-item" aria-label="1px é—®é¢˜"><!--[--><!--]--> 1px é—®é¢˜ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/11.html" class="sidebar-item" aria-label="å“åº”å¼å¸ƒå±€"><!--[--><!--]--> å“åº”å¼å¸ƒå±€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/12.html" class="sidebar-item" aria-label="å¯èƒ½æ˜¯æœ€å…¨æœ€æ˜“è®°çš„CSSé€‰æ‹©å™¨åˆ†ç±»å¤§æ³•"><!--[--><!--]--> å¯èƒ½æ˜¯æœ€å…¨æœ€æ˜“è®°çš„CSSé€‰æ‹©å™¨åˆ†ç±»å¤§æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/13.html" class="sidebar-item" aria-label="çº¯CSSä¸€åˆ†é’Ÿè®©ç½‘ç«™æ‹¥æœ‰æš—é»‘æ¨¡å¼åˆ‡æ¢åŠŸèƒ½"><!--[--><!--]--> çº¯CSSä¸€åˆ†é’Ÿè®©ç½‘ç«™æ‹¥æœ‰æš—é»‘æ¨¡å¼åˆ‡æ¢åŠŸèƒ½ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/14.html" class="sidebar-item" aria-label="æ·±å…¥ç†è§£CSS background-blend-modeçš„ä½œç”¨æœºåˆ¶"><!--[--><!--]--> æ·±å…¥ç†è§£CSS background-blend-modeçš„ä½œç”¨æœºåˆ¶ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/15.html" class="sidebar-item" aria-label="åˆ«æ•´ä¸€å¨ CSS ä»£ç äº†ï¼Œè¯•è¯•è¿™å‡ ä¸ªå®ç”¨å‡½æ•°"><!--[--><!--]--> åˆ«æ•´ä¸€å¨ CSS ä»£ç äº†ï¼Œè¯•è¯•è¿™å‡ ä¸ªå®ç”¨å‡½æ•° <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/16.html" class="sidebar-item" aria-label="å‰ç«¯ä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆ"><!--[--><!--]--> å‰ç«¯ä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/17.html" class="sidebar-item" aria-label="CSS maské®ç½©å±‚è¯¦è§£"><!--[--><!--]--> CSS maské®ç½©å±‚è¯¦è§£ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/18.html" class="sidebar-item" aria-label="CSSåˆ›æ„ä½œå“"><!--[--><!--]--> CSSåˆ›æ„ä½œå“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">js <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/js.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/01.html" class="sidebar-item" aria-label="å°è£… axios æ‹¦æˆªå™¨å®ç°ç”¨æˆ·æ— æ„Ÿåˆ·æ–° access_token"><!--[--><!--]--> å°è£… axios æ‹¦æˆªå™¨å®ç°ç”¨æˆ·æ— æ„Ÿåˆ·æ–° access_token <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/02.html" class="sidebar-item" aria-label="ä½¿ç”¨JavaScripté˜»æ­¢å±å¹•è¿›å…¥ç¡çœ çŠ¶æ€"><!--[--><!--]--> ä½¿ç”¨JavaScripté˜»æ­¢å±å¹•è¿›å…¥ç¡çœ çŠ¶æ€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/03.html" class="sidebar-item" aria-label="ä½¿ç”¨JSå®Œæˆä¸€ä¸ªLRUç¼“å­˜ï¼Ÿ"><!--[--><!--]--> ä½¿ç”¨JSå®Œæˆä¸€ä¸ªLRUç¼“å­˜ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/04.html" class="sidebar-item" aria-label="jsä»£ç ç‰‡æ®µ"><!--[--><!--]--> jsä»£ç ç‰‡æ®µ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/05.html" class="sidebar-item" aria-label="ReduceæŠ€å·§"><!--[--><!--]--> ReduceæŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/06.html" class="sidebar-item" aria-label="æœ‰ç”¨çš„æ­£åˆ™"><!--[--><!--]--> æœ‰ç”¨çš„æ­£åˆ™ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/07.html" class="sidebar-item" aria-label="JavaScript è‡ªå®šä¹‰äº‹ä»¶"><!--[--><!--]--> JavaScript è‡ªå®šä¹‰äº‹ä»¶ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/08.html" class="sidebar-item" aria-label="ç«‹å³æ‰§è¡Œå‡½æ•°"><!--[--><!--]--> ç«‹å³æ‰§è¡Œå‡½æ•° <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/09.html" class="sidebar-item" aria-label="ä»£ç ä¼˜åŒ–æŠ€å·§"><!--[--><!--]--> ä»£ç ä¼˜åŒ–æŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/10.html" class="sidebar-item" aria-label="JavaScript ä¸­â€œthisâ€å¯ä»¥æŒ‡å‘çš„ 8 ä¸ªä¸åŒçš„åœ°æ–¹"><!--[--><!--]--> JavaScript ä¸­â€œthisâ€å¯ä»¥æŒ‡å‘çš„ 8 ä¸ªä¸åŒçš„åœ°æ–¹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/11.html" class="sidebar-item" aria-label="å‡½æ•°é€’å½’ä¼˜åŒ–"><!--[--><!--]--> å‡½æ•°é€’å½’ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/12.html" class="sidebar-item" aria-label="5 ç§ for å¾ªç¯ä¸€æ¬¡å½»åº•ææ‡‚"><!--[--><!--]--> 5 ç§ for å¾ªç¯ä¸€æ¬¡å½»åº•ææ‡‚ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/13.html" class="sidebar-item" aria-label="4ç§Javascriptç±»å‹æ£€æµ‹çš„æ–¹å¼"><!--[--><!--]--> 4ç§Javascriptç±»å‹æ£€æµ‹çš„æ–¹å¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/14.html" class="sidebar-item" aria-label="ç”¨JSä¹Ÿèƒ½è½»æ¾å®ç°ä¸€ä¸ªå½•éŸ³ã€å½•åƒã€å½•å±å·¥å…·åº“"><!--[--><!--]--> ç”¨JSä¹Ÿèƒ½è½»æ¾å®ç°ä¸€ä¸ªå½•éŸ³ã€å½•åƒã€å½•å±å·¥å…·åº“ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/15.html" class="sidebar-item" aria-label="Asyncæ˜¯å¦‚ä½•è¢« JavaScript å®ç°çš„"><!--[--><!--]--> Asyncæ˜¯å¦‚ä½•è¢« JavaScript å®ç°çš„ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/16.html" class="sidebar-item" aria-label="å¯èƒ½æœ‰ç”¨çš„å¥‡æ€ª JavaScript ç±»"><!--[--><!--]--> å¯èƒ½æœ‰ç”¨çš„å¥‡æ€ª JavaScript ç±» <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/17.html" class="sidebar-item" aria-label="å®ç°å•è¯é¦–å­—æ¯å¤§å†™çš„æ–¹æ³•æ€»æ±‡"><!--[--><!--]--> å®ç°å•è¯é¦–å­—æ¯å¤§å†™çš„æ–¹æ³•æ€»æ±‡ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/18.html" class="sidebar-item" aria-label="JavaScriptæ–‡å­—è½¬è¯­éŸ³"><!--[--><!--]--> JavaScriptæ–‡å­—è½¬è¯­éŸ³ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/19.html" class="sidebar-item" aria-label="æ­£åˆ™è¡¨è¾¾å¼çš„æ•´ç†"><!--[--><!--]--> æ­£åˆ™è¡¨è¾¾å¼çš„æ•´ç† <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/20.html" class="sidebar-item" aria-label="JavaScripté«˜é˜¶å‡½æ•°çš„å¥½å¤„"><!--[--><!--]--> JavaScripté«˜é˜¶å‡½æ•°çš„å¥½å¤„ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/21.html" class="sidebar-item" aria-label="äº†è§£ä¸€ä¸‹ JavaScript çš„ new Function"><!--[--><!--]--> äº†è§£ä¸€ä¸‹ JavaScript çš„ new Function <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/22.html" class="sidebar-item" aria-label="å‡½æ•°å¼ç¼–ç¨‹"><!--[--><!--]--> å‡½æ•°å¼ç¼–ç¨‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/23.html" class="sidebar-item" aria-label="ES6 è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><!--[--><!--]--> ES6 è¿­ä»£å™¨å’Œç”Ÿæˆå™¨ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/24.html" class="sidebar-item" aria-label="ä½¿ç”¨ES6ä¸­Classå®ç°æ‰‹å†™Promise"><!--[--><!--]--> ä½¿ç”¨ES6ä¸­Classå®ç°æ‰‹å†™Promise <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/25.html" class="sidebar-item" aria-label="JavaScriptä¸­å¸¸ç”¨çš„æ’åºæ–¹æ³•"><!--[--><!--]--> JavaScriptä¸­å¸¸ç”¨çš„æ’åºæ–¹æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/26.html" class="sidebar-item" aria-label="åŸå‹å’ŒåŸå‹é“¾"><!--[--><!--]--> åŸå‹å’ŒåŸå‹é“¾ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/27.html" class="sidebar-item" aria-label="JavaScriptæ•°ç»„æ‹å¹³/æ‰å¹³åŒ–çš„æ–¹æ³•æ€»æ±‡"><!--[--><!--]--> JavaScriptæ•°ç»„æ‹å¹³/æ‰å¹³åŒ–çš„æ–¹æ³•æ€»æ±‡ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/28.html" class="sidebar-item" aria-label="æœ€å¸¸ç”¨çš„ JavaScript å®ç”¨ç¨‹åºå‡½æ•°"><!--[--><!--]--> æœ€å¸¸ç”¨çš„ JavaScript å®ç”¨ç¨‹åºå‡½æ•° <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/29.html" class="sidebar-item" aria-label="å¼ºå¤§JavaScriptè¿ç®—ç¬¦"><!--[--><!--]--> å¼ºå¤§JavaScriptè¿ç®—ç¬¦ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/30.html" class="sidebar-item" aria-label="å¦‚ä½•ç¦æ­¢JavaScriptå¯¹è±¡é‡å†™ï¼Ÿ"><!--[--><!--]--> å¦‚ä½•ç¦æ­¢JavaScriptå¯¹è±¡é‡å†™ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/31.html" class="sidebar-item" aria-label="10ç§JavaScriptä»£ç å¤ç”¨æ¨¡å¼"><!--[--><!--]--> 10ç§JavaScriptä»£ç å¤ç”¨æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/32.html" class="sidebar-item" aria-label="ä¸è¦ç»™ async å‡½æ•°å†™é‚£ä¹ˆå¤š try/catch äº†"><!--[--><!--]--> ä¸è¦ç»™ async å‡½æ•°å†™é‚£ä¹ˆå¤š try/catch äº† <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/33.html" class="sidebar-item" aria-label="åå¤§æ’åºçš„ç®—æ³•æ€è·¯å’Œä»£ç å®ç°"><!--[--><!--]--> åå¤§æ’åºçš„ç®—æ³•æ€è·¯å’Œä»£ç å®ç° <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/34.html" class="sidebar-item" aria-label="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><!--[--><!--]--> å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/35.html" class="sidebar-item" aria-label="äºŒå‰æ ‘"><!--[--><!--]--> äºŒå‰æ ‘ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/36.html" class="sidebar-item" aria-label="JavaScriptä¸­thisçš„è¿è¡Œæœºåˆ¶åŠçˆ¬å‘æŒ‡å—"><!--[--><!--]--> JavaScriptä¸­thisçš„è¿è¡Œæœºåˆ¶åŠçˆ¬å‘æŒ‡å— <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/37.html" class="sidebar-item" aria-label="å‡ ä¸ªéå¸¸æœ‰æ„æ€çš„javascriptçŸ¥è¯†ç‚¹"><!--[--><!--]--> å‡ ä¸ªéå¸¸æœ‰æ„æ€çš„javascriptçŸ¥è¯†ç‚¹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/38.html" class="sidebar-item" aria-label="3åˆ†é’Ÿæ•™ä½ ç”¨åŸç”Ÿjså®ç°å…·æœ‰è¿›åº¦ç›‘å¬çš„æ–‡ä»¶ä¸Šä¼ é¢„è§ˆç»„ä»¶"><!--[--><!--]--> 3åˆ†é’Ÿæ•™ä½ ç”¨åŸç”Ÿjså®ç°å…·æœ‰è¿›åº¦ç›‘å¬çš„æ–‡ä»¶ä¸Šä¼ é¢„è§ˆç»„ä»¶ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/39.html" class="sidebar-item" aria-label="é€’å½’å®ç°jsæ•°ç»„å…¨æ’åˆ—"><!--[--><!--]--> é€’å½’å®ç°jsæ•°ç»„å…¨æ’åˆ— <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/40.html" class="sidebar-item" aria-label="JSON.stringifyï¼ˆï¼‰ åæ—¥æœŸå°‘ä¸€å¤©çš„åŸå› å³å¤„ç†æ–¹å¼"><!--[--><!--]--> JSON.stringifyï¼ˆï¼‰ åæ—¥æœŸå°‘ä¸€å¤©çš„åŸå› å³å¤„ç†æ–¹å¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/41.html" class="sidebar-item" aria-label="æœ€å¸¸è§çš„JavaScripté—®é¢˜"><!--[--><!--]--> æœ€å¸¸è§çš„JavaScripté—®é¢˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">ts <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/ts.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/01.html" class="sidebar-item" aria-label="TypeScriptå­¦ä¹ å…¥é—¨"><!--[--><!--]--> TypeScriptå­¦ä¹ å…¥é—¨ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/02.html" class="sidebar-item" aria-label="ç”¨TSå°è£…axios"><!--[--><!--]--> ç”¨TSå°è£…axios <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/03.html" class="sidebar-item" aria-label="type ä¸ interface çš„åŒºåˆ«"><!--[--><!--]--> type ä¸ interface çš„åŒºåˆ« <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/04.html" class="sidebar-item" aria-label="è¿›é˜¶TypeScriptåŠŸåº•"><!--[--><!--]--> è¿›é˜¶TypeScriptåŠŸåº• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/05.html" class="sidebar-item" aria-label="TypeScript é«˜çº§ç”¨æ³•æ€»ç»“"><!--[--><!--]--> TypeScript é«˜çº§ç”¨æ³•æ€»ç»“ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/06.html" class="sidebar-item" aria-label="React + TypeScript å®è·µæ€»ç»“ç¯‡"><!--[--><!--]--> React + TypeScript å®è·µæ€»ç»“ç¯‡ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/07.html" class="sidebar-item" aria-label="å¦‚ä½•ä¸º Vue3 ç»„ä»¶æ ‡æ³¨ TS ç±»å‹ï¼Œçœ‹è¿™ä¸ªå°±å¤Ÿäº†ï¼"><!--[--><!--]--> å¦‚ä½•ä¸º Vue3 ç»„ä»¶æ ‡æ³¨ TS ç±»å‹ï¼Œçœ‹è¿™ä¸ªå°±å¤Ÿäº†ï¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/08.html" class="sidebar-item" aria-label="Typescript å¼€å‘å®ç”¨æŠ€å·§æ¸…å•"><!--[--><!--]--> Typescript å¼€å‘å®ç”¨æŠ€å·§æ¸…å• <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">node <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/node.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/01.html" class="sidebar-item" aria-label="NodeJS ä¸­çš„ LRU ç¼“å­˜ï¼ˆCLOCK-2-handï¼‰å®ç°"><!--[--><!--]--> NodeJS ä¸­çš„ LRU ç¼“å­˜ï¼ˆCLOCK-2-handï¼‰å®ç° <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/02.html" class="sidebar-item" aria-label="å‰ç«¯å¿…å¤‡çŸ¥è¯†ä¹‹Nginx"><!--[--><!--]--> å‰ç«¯å¿…å¤‡çŸ¥è¯†ä¹‹Nginx <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/03.html" class="sidebar-item" aria-label="Nginxé…ç½®å‚æ•°è¯´æ˜"><!--[--><!--]--> Nginxé…ç½®å‚æ•°è¯´æ˜ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/04.html" class="sidebar-item" aria-label="nodeçˆ¬è™«ç±»&amp;&amp;åˆ‡æ¢å…è´¹IPä»£ç†æ± "><!--[--><!--]--> nodeçˆ¬è™«ç±»&amp;&amp;åˆ‡æ¢å…è´¹IPä»£ç†æ±  <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/05.html" class="sidebar-item" aria-label="è®°ä¸€æ¬¡nodeçˆ¬è™«ç»å†ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ çˆ¬è™«"><!--[--><!--]--> è®°ä¸€æ¬¡nodeçˆ¬è™«ç»å†ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ çˆ¬è™« <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/06.html" class="sidebar-item" aria-label="Node + jså®ç°å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ åŸºæœ¬åŸç†åŠå®è·µ"><!--[--><!--]--> Node + jså®ç°å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ åŸºæœ¬åŸç†åŠå®è·µ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/07.html" class="sidebar-item" aria-label="Node.js èµ„æºæ±‡æ€»æ¨è"><!--[--><!--]--> Node.js èµ„æºæ±‡æ€»æ¨è <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">å·¥å…· <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/tools.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/01.html" class="sidebar-item" aria-label="13ä¸ªä½ åº”è¯¥çŸ¥é“çš„Webpackä¼˜åŒ–æŠ€å·§"><!--[--><!--]--> 13ä¸ªä½ åº”è¯¥çŸ¥é“çš„Webpackä¼˜åŒ–æŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/02.html" class="sidebar-item" aria-label="å¦‚ä½•å¼€å‘babelæ’ä»¶ï¼ˆå…¥é—¨ï¼‰"><!--[--><!--]--> å¦‚ä½•å¼€å‘babelæ’ä»¶ï¼ˆå…¥é—¨ï¼‰ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/03.html" class="sidebar-item" aria-label="Reactæ€§èƒ½ä¼˜åŒ–"><!--[--><!--]--> Reactæ€§èƒ½ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/04.html" class="sidebar-item" aria-label="Git ç»å…¸æ“ä½œåœºæ™¯ï¼Œä¸“æ²»ä¸ä¼šåˆä»£ç "><!--[--><!--]--> Git ç»å…¸æ“ä½œåœºæ™¯ï¼Œä¸“æ²»ä¸ä¼šåˆä»£ç  <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/05.html" class="sidebar-item" aria-label="æ€ä¹ˆä½¿ç”¨console?"><!--[--><!--]--> æ€ä¹ˆä½¿ç”¨console? <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/06.html" class="sidebar-item" aria-label="åŸºç¡€æ¡†æ¶/å·¥ç¨‹åŒ–"><!--[--><!--]--> åŸºç¡€æ¡†æ¶/å·¥ç¨‹åŒ– <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/07.html" class="sidebar-item" aria-label="å€’æ•°è®¡æ—¶å™¨"><!--[--><!--]--> å€’æ•°è®¡æ—¶å™¨ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/08.html" class="sidebar-item" aria-label="æŒ‰é’®"><!--[--><!--]--> æŒ‰é’® <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/09.html" class="sidebar-item" aria-label="JavaScriptå®ç°æ¨¡æ¿èµ‹å€¼-æ¨¡æ¿å˜é‡æ›¿æ¢çš„æ–¹æ³•"><!--[--><!--]--> JavaScriptå®ç°æ¨¡æ¿èµ‹å€¼-æ¨¡æ¿å˜é‡æ›¿æ¢çš„æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/10.html" class="sidebar-item" aria-label="å›¾ç‰‡åŠ è½½å¤±è´¥çš„å‰ç«¯è§£å†³æ–¹æ¡ˆ"><!--[--><!--]--> å›¾ç‰‡åŠ è½½å¤±è´¥çš„å‰ç«¯è§£å†³æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/11.html" class="sidebar-item" aria-label="ç ”ç©¶å¤§ä½¬ç”¨ Vueå†™çš„å€’è®¡æ—¶ç»„ä»¶ï¼Œå­¦åˆ°ä¸å°‘ä¸œè¥¿"><!--[--><!--]--> ç ”ç©¶å¤§ä½¬ç”¨ Vueå†™çš„å€’è®¡æ—¶ç»„ä»¶ï¼Œå­¦åˆ°ä¸å°‘ä¸œè¥¿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/12.html" class="sidebar-item" aria-label="äº†è§£è™šæ‹ŸDOMä¸Diffç®—æ³•"><!--[--><!--]--> äº†è§£è™šæ‹ŸDOMä¸Diffç®—æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/13.html" class="sidebar-item" aria-label="å‰ç«¯è‡ªåŠ¨åŸ‹ç‚¹æ ¸å¿ƒåŸç†æ­ç§˜"><!--[--><!--]--> å‰ç«¯è‡ªåŠ¨åŸ‹ç‚¹æ ¸å¿ƒåŸç†æ­ç§˜ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/14.html" class="sidebar-item" aria-label="èƒ½ç”¨CSSå®ç°çš„å°±ä¸ç”¨éº»çƒ¦JavaScript"><!--[--><!--]--> èƒ½ç”¨CSSå®ç°çš„å°±ä¸ç”¨éº»çƒ¦JavaScript <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/15.html" class="sidebar-item" aria-label="å¤šè¡Œæ–‡æœ¬å†…å®¹è¶…å‡ºæ˜¾ç¤ºçœç•¥å·... çš„ç»ˆæè§£å†³æ–¹æ¡ˆ"><!--[--><!--]--> å¤šè¡Œæ–‡æœ¬å†…å®¹è¶…å‡ºæ˜¾ç¤ºçœç•¥å·... çš„ç»ˆæè§£å†³æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/16.html" class="sidebar-item" aria-label="å¸¸ç”¨å·¥å…·ç±»çš„å°è£…æ•´ç†"><!--[--><!--]--> å¸¸ç”¨å·¥å…·ç±»çš„å°è£…æ•´ç† <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/17.html" class="sidebar-item" aria-label="console ç›¸å…³çš„æ–¹æ³•"><!--[--><!--]--> console ç›¸å…³çš„æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/18.html" class="sidebar-item" aria-label="éªŒè¯ Vue Props ç±»å‹"><!--[--><!--]--> éªŒè¯ Vue Props ç±»å‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/19.html" class="sidebar-item" aria-label="Vueé¡¹ç›®å¦‚ä½•åšå•å…ƒæµ‹è¯•"><!--[--><!--]--> Vueé¡¹ç›®å¦‚ä½•åšå•å…ƒæµ‹è¯• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/20.html" class="sidebar-item" aria-label="ä» 0 åˆ° 1 æ­å»ºä¸€ä¸ªä¼ä¸šçº§å‰ç«¯å¼€å‘è§„èŒƒ"><!--[--><!--]--> ä» 0 åˆ° 1 æ­å»ºä¸€ä¸ªä¼ä¸šçº§å‰ç«¯å¼€å‘è§„èŒƒ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/21.html" class="sidebar-item" aria-label="Vueè·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ"><!--[--><!--]--> Vueè·¯ç”±è¿‡æ¸¡åŠ¨æ•ˆ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/22.html" class="sidebar-item" aria-label="ç½‘ç«™ä¼˜åŒ–"><!--[--><!--]--> ç½‘ç«™ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/23.html" class="sidebar-item" aria-label="å‰ç«¯ä»£ç å·¥ä½œæµ"><!--[--><!--]--> å‰ç«¯ä»£ç å·¥ä½œæµ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/24.html" class="sidebar-item" aria-label="ä½¿ç”¨React Hooks æ—¶è¦é¿å…çš„5ä¸ªé”™è¯¯ï¼"><!--[--><!--]--> ä½¿ç”¨React Hooks æ—¶è¦é¿å…çš„5ä¸ªé”™è¯¯ï¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/25.html" class="sidebar-item" aria-label="åœ¨ Vue ä¸­ï¼Œä½¿ç”¨ $attrs æ„å»ºé«˜çº§ç»„ä»¶"><!--[--><!--]--> åœ¨ Vue ä¸­ï¼Œä½¿ç”¨ $attrs æ„å»ºé«˜çº§ç»„ä»¶ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/26.html" class="sidebar-item" aria-label="Reactç»„ä»¶ä¹‹é—´é€šä¿¡çš„æ–¹æ³•"><!--[--><!--]--> Reactç»„ä»¶ä¹‹é—´é€šä¿¡çš„æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/27.html" class="sidebar-item" aria-label="å¦‚ä½•å°†Canvasç»˜åˆ¶è¿‡ç¨‹è½¬ä¸ºè§†é¢‘"><!--[--><!--]--> å¦‚ä½•å°†Canvasç»˜åˆ¶è¿‡ç¨‹è½¬ä¸ºè§†é¢‘ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/28.html" class="sidebar-item" aria-label="æœ‰ç”¨çš„ Vueå¼€å‘æŠ€å·§"><!--[--><!--]--> æœ‰ç”¨çš„ Vueå¼€å‘æŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/29.html" class="sidebar-item" aria-label="Chrome Devtools æŠ€å·§"><!--[--><!--]--> Chrome Devtools æŠ€å·§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/30.html" class="sidebar-item" aria-label="å‰ç«¯åŸºäºhuskyé€šè¿‡eslintæ£€æµ‹æäº¤ä»£ç "><!--[--><!--]--> å‰ç«¯åŸºäºhuskyé€šè¿‡eslintæ£€æµ‹æäº¤ä»£ç  <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/31.html" class="sidebar-item" aria-label="å†™ä¸€ä¸ªè‡ªç”¨çš„å‰ç«¯è„šæ‰‹æ¶"><!--[--><!--]--> å†™ä¸€ä¸ªè‡ªç”¨çš„å‰ç«¯è„šæ‰‹æ¶ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/32.html" class="sidebar-item" aria-label="å…³äºå›¾ç‰‡åŠ è½½ï¼Œä½ éœ€è¦å­¦ä¹ ä¸€ä¸‹"><!--[--><!--]--> å…³äºå›¾ç‰‡åŠ è½½ï¼Œä½ éœ€è¦å­¦ä¹ ä¸€ä¸‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/33.html" class="sidebar-item" aria-label="å¦‚ä½•ä¼˜é›…åœ°ä¸­æ–­ Promiseï¼Ÿ"><!--[--><!--]--> å¦‚ä½•ä¼˜é›…åœ°ä¸­æ–­ Promiseï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/34.html" class="sidebar-item" aria-label="ä½ çš„ React Hooks å¤Ÿä¼˜é›…å—ï¼Ÿ"><!--[--><!--]--> ä½ çš„ React Hooks å¤Ÿä¼˜é›…å—ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/35.html" class="sidebar-item" aria-label="å±å¹•é€‚é…çš„ä¸¤ç§æ–¹æ¡ˆ"><!--[--><!--]--> å±å¹•é€‚é…çš„ä¸¤ç§æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">å…¶ä»– <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/other.html" class="sidebar-item" aria-label="åºè¨€"><!--[--><!--]--> åºè¨€ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/01.html" class="sidebar-item" aria-label="20ä¸ªç¨€å¥‡å¤æ€ªçš„JavaScriptè¡¨è¾¾å¼ï¼Œä½ èƒ½ç­”å¯¹å‡ é“"><!--[--><!--]--> 20ä¸ªç¨€å¥‡å¤æ€ªçš„JavaScriptè¡¨è¾¾å¼ï¼Œä½ èƒ½ç­”å¯¹å‡ é“ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/02.html" class="sidebar-item" aria-label="é«˜æ•ˆç¼–ç¨‹çš„å‰ç«¯è½®å­"><!--[--><!--]--> é«˜æ•ˆç¼–ç¨‹çš„å‰ç«¯è½®å­ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/03.html" class="sidebar-item" aria-label="UIè®¾è®¡æ•ˆæœ"><!--[--><!--]--> UIè®¾è®¡æ•ˆæœ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/04.html" class="sidebar-item" aria-label="å¿…é¡»è¦çŸ¥é“çš„metaæ ‡ç­¾çŸ¥è¯†"><!--[--><!--]--> å¿…é¡»è¦çŸ¥é“çš„metaæ ‡ç­¾çŸ¥è¯† <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/05.html" class="sidebar-item" aria-label="å‰ç«¯ä»£ç çš„ä¸‰ç§è®¾è®¡æ¨¡å¼"><!--[--><!--]--> å‰ç«¯ä»£ç çš„ä¸‰ç§è®¾è®¡æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/06.html" class="sidebar-item" aria-label="ç½‘ç«™çš„HTMLè¾“å…¥æ•ˆæœçš„è®¾è®¡"><!--[--><!--]--> ç½‘ç«™çš„HTMLè¾“å…¥æ•ˆæœçš„è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/07.html" class="sidebar-item" aria-label="ä½ å¯èƒ½è¿˜æ²¡æœ‰å¬è¯´è¿‡çš„ HTML å±æ€§"><!--[--><!--]--> ä½ å¯èƒ½è¿˜æ²¡æœ‰å¬è¯´è¿‡çš„ HTML å±æ€§ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/08.html" class="sidebar-item" aria-label="å‰ç«¯å¼€å‘å¿…å¤‡åŸºç¡€è‹±æ–‡å•è¯æ•´ç†æ±‡æ€»"><!--[--><!--]--> å‰ç«¯å¼€å‘å¿…å¤‡åŸºç¡€è‹±æ–‡å•è¯æ•´ç†æ±‡æ€» <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/09.html" class="sidebar-item" aria-label="uni-appå…³é—­ç³»ç»Ÿä¾§è¾¹æ»‘åŠ¨è¿”å›çš„æ–¹æ³•æ€»æ±‡"><!--[--><!--]--> uni-appå…³é—­ç³»ç»Ÿä¾§è¾¹æ»‘åŠ¨è¿”å›çš„æ–¹æ³•æ€»æ±‡ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/10.html" class="sidebar-item" aria-label="å‡ ä¸ªé«˜çº§å‰ç«¯å¸¸ç”¨çš„APIï¼Œä½ ç”¨åˆ°äº†å—ï¼Ÿ"><!--[--><!--]--> å‡ ä¸ªé«˜çº§å‰ç«¯å¸¸ç”¨çš„APIï¼Œä½ ç”¨åˆ°äº†å—ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/11.html" class="sidebar-item" aria-label="ç²¾ç¾çš„æ—¶é—´çº¿"><!--[--><!--]--> ç²¾ç¾çš„æ—¶é—´çº¿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/12.html" class="sidebar-item" aria-label="ç¤¾äº¤åª’ä½“åˆ†äº«æŒ‰é’®çš„æ¡ˆä¾‹"><!--[--><!--]--> ç¤¾äº¤åª’ä½“åˆ†äº«æŒ‰é’®çš„æ¡ˆä¾‹ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/13.html" class="sidebar-item" aria-label="è¾“å…¥URLå¼€å§‹å»ºç«‹å‰ç«¯çŸ¥è¯†ä½“ç³»"><!--[--><!--]--> è¾“å…¥URLå¼€å§‹å»ºç«‹å‰ç«¯çŸ¥è¯†ä½“ç³» <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/14.html" class="sidebar-item" aria-label="ç§»åŠ¨ç«¯å“åº”å¼èœå•ç»ƒä¹ "><!--[--><!--]--> ç§»åŠ¨ç«¯å“åº”å¼èœå•ç»ƒä¹  <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/15.html" class="sidebar-item" aria-label="ä¿è¯æ¥å£æ•°æ®å®‰å…¨çš„æ–¹æ¡ˆ"><!--[--><!--]--> ä¿è¯æ¥å£æ•°æ®å®‰å…¨çš„æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/16.html" class="sidebar-item" aria-label="å¦‚ä½•é˜²æ­¢åˆ«äººæ¶æ„è°ƒè¯•æˆ‘ä»¬çš„ä»£ç "><!--[--><!--]--> å¦‚ä½•é˜²æ­¢åˆ«äººæ¶æ„è°ƒè¯•æˆ‘ä»¬çš„ä»£ç  <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/17.html" class="sidebar-item" aria-label="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><!--[--><!--]--> å‰ç«¯æ€§èƒ½ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/18.html" class="sidebar-item" aria-label="ç§»åŠ¨ç«¯å¿…å¤‡çš„H5é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><!--[--><!--]--> ç§»åŠ¨ç«¯å¿…å¤‡çš„H5é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€»"><!--[--><!--]--> å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€» <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#htmlé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTMLé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ"><!--[--><!--]--> HTMLé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#scriptæ ‡ç­¾-å‘htmlæ’å…¥jsçš„æ–¹æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="Scriptæ ‡ç­¾ï¼šå‘HTMLæ’å…¥JSçš„æ–¹æ³•"><!--[--><!--]--> Scriptæ ‡ç­¾ï¼šå‘HTMLæ’å…¥JSçš„æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#meta" class="router-link-active router-link-exact-active sidebar-item" aria-label="meta"><!--[--><!--]--> meta <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹"><!--[--><!--]--> åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡"><!--[--><!--]--> ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å˜é‡æå‡" class="router-link-active router-link-exact-active sidebar-item" aria-label="å˜é‡æå‡"><!--[--><!--]--> å˜é‡æå‡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#é—­åŒ…" class="router-link-active router-link-exact-active sidebar-item" aria-label="é—­åŒ…"><!--[--><!--]--> é—­åŒ… <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#thisæŒ‡å‘é—®é¢˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="thisæŒ‡å‘é—®é¢˜"><!--[--><!--]--> thisæŒ‡å‘é—®é¢˜ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å¯¹è±¡å±æ€§ç±»å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¯¹è±¡å±æ€§ç±»å‹"><!--[--><!--]--> å¯¹è±¡å±æ€§ç±»å‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å‡½æ•°å¼ç¼–ç¨‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‡½æ•°å¼ç¼–ç¨‹"><!--[--><!--]--> å‡½æ•°å¼ç¼–ç¨‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#è·¨åŸŸ" class="router-link-active router-link-exact-active sidebar-item" aria-label="è·¨åŸŸ"><!--[--><!--]--> è·¨åŸŸ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ¨¡å—åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ¨¡å—åŒ–"><!--[--><!--]--> æ¨¡å—åŒ– <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#httpå’Œhttps" class="router-link-active router-link-exact-active sidebar-item" aria-label="httpå’Œhttps"><!--[--><!--]--> httpå’Œhttps <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#ç»§æ‰¿" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç»§æ‰¿"><!--[--><!--]--> ç»§æ‰¿ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#call-bind-applyå®ç°" class="router-link-active router-link-exact-active sidebar-item" aria-label="Call, bind, applyå®ç°"><!--[--><!--]--> Call, bind, applyå®ç° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#åŸå‹ä¸åŸå‹é“¾" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸå‹ä¸åŸå‹é“¾"><!--[--><!--]--> åŸå‹ä¸åŸå‹é“¾ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-diff" class="router-link-active router-link-exact-active sidebar-item" aria-label="react diff"><!--[--><!--]--> react diff <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#éå†å¯¹è±¡" class="router-link-active router-link-exact-active sidebar-item" aria-label="éå†å¯¹è±¡"><!--[--><!--]--> éå†å¯¹è±¡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å¼‚æ­¥åŠ è½½è„šæœ¬" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¼‚æ­¥åŠ è½½è„šæœ¬"><!--[--><!--]--> å¼‚æ­¥åŠ è½½è„šæœ¬ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#css3ç¡¬ä»¶åŠ é€Ÿ-gpuåŠ é€Ÿ" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSS3ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUåŠ é€Ÿï¼‰"><!--[--><!--]--> CSS3ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUåŠ é€Ÿï¼‰ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#httpè¯·æ±‚æ–¹æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="httpè¯·æ±‚æ–¹æ³•"><!--[--><!--]--> httpè¯·æ±‚æ–¹æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#jsåˆ¤æ–­æ•°æ®ç±»å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="jsåˆ¤æ–­æ•°æ®ç±»å‹"><!--[--><!--]--> jsåˆ¤æ–­æ•°æ®ç±»å‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æµè§ˆå™¨äº‹ä»¶æ¨¡å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="æµè§ˆå™¨äº‹ä»¶æ¨¡å‹"><!--[--><!--]--> æµè§ˆå™¨äº‹ä»¶æ¨¡å‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#httpç¼“å­˜-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜" class="router-link-active router-link-exact-active sidebar-item" aria-label="httpç¼“å­˜: å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜"><!--[--><!--]--> httpç¼“å­˜: å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#é˜²æŠ–å’ŒèŠ‚æµ" class="router-link-active router-link-exact-active sidebar-item" aria-label="é˜²æŠ–å’ŒèŠ‚æµ"><!--[--><!--]--> é˜²æŠ–å’ŒèŠ‚æµ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å¤§å°å•ä½åŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¤§å°å•ä½åŒºåˆ«"><!--[--><!--]--> å¤§å°å•ä½åŒºåˆ« <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼"><!--[--><!--]--> å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#äº‹ä»¶å¾ªç¯eventloop" class="router-link-active router-link-exact-active sidebar-item" aria-label="äº‹ä»¶å¾ªç¯EventLoop"><!--[--><!--]--> äº‹ä»¶å¾ªç¯EventLoop <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#promise-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#è™šæ‹ŸdomåŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="è™šæ‹ŸdomåŸç†"><!--[--><!--]--> è™šæ‹ŸdomåŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«"><!--[--><!--]--> ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ« <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#new" class="router-link-active router-link-exact-active sidebar-item" aria-label="new"><!--[--><!--]--> new <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼"><!--[--><!--]--> æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ’åº" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ’åº"><!--[--><!--]--> æ’åº <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ´—ç‰Œç®—æ³•" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ´—ç‰Œç®—æ³•"><!--[--><!--]--> æ´—ç‰Œç®—æ³• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active sidebar-item" aria-label="react ç”Ÿå‘½å‘¨æœŸ"><!--[--><!--]--> react ç”Ÿå‘½å‘¨æœŸ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-16åšäº†å“ªäº›æ›´æ–°" class="router-link-active router-link-exact-active sidebar-item" aria-label="react 16åšäº†å“ªäº›æ›´æ–°"><!--[--><!--]--> react 16åšäº†å“ªäº›æ›´æ–° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-hooksåŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="React hooksåŸç†"><!--[--><!--]--> React hooksåŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-setstate-å¼‚æ­¥æ›´æ–°" class="router-link-active router-link-exact-active sidebar-item" aria-label="react setState å¼‚æ­¥æ›´æ–°"><!--[--><!--]--> react setState å¼‚æ­¥æ›´æ–° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-fiber" class="router-link-active router-link-exact-active sidebar-item" aria-label="React Fiber"><!--[--><!--]--> React Fiber <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#hoc-ä¸render-propsåŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="HOC ä¸render propsåŒºåˆ«"><!--[--><!--]--> HOC ä¸render propsåŒºåˆ« <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-é€šä¿¡" class="router-link-active router-link-exact-active sidebar-item" aria-label="React é€šä¿¡"><!--[--><!--]--> React é€šä¿¡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#reactåˆæˆäº‹ä»¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="reactåˆæˆäº‹ä»¶"><!--[--><!--]--> reactåˆæˆäº‹ä»¶ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-è™šæ‹Ÿdom" class="router-link-active router-link-exact-active sidebar-item" aria-label="react è™šæ‹Ÿdom"><!--[--><!--]--> react è™šæ‹Ÿdom <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#reactä¸vueåŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="reactä¸vueåŒºåˆ«"><!--[--><!--]--> reactä¸vueåŒºåˆ« <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ€§èƒ½ä¼˜åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ€§èƒ½ä¼˜åŒ–"><!--[--><!--]--> æ€§èƒ½ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ" class="router-link-active router-link-exact-active sidebar-item" aria-label="è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ"><!--[--><!--]--> è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å‰ç«¯è·¯ç”±" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‰ç«¯è·¯ç”±"><!--[--><!--]--> å‰ç«¯è·¯ç”± <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#babel-pluginä¸presetåŒºåˆ«" class="router-link-active router-link-exact-active sidebar-item" aria-label="Babel Pluginä¸presetåŒºåˆ«"><!--[--><!--]--> Babel Pluginä¸presetåŒºåˆ« <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç " class="router-link-active router-link-exact-active sidebar-item" aria-label="æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç "><!--[--><!--]--> æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç  <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#å¤§æ•°ç›¸åŠ " class="router-link-active router-link-exact-active sidebar-item" aria-label="å¤§æ•°ç›¸åŠ "><!--[--><!--]--> å¤§æ•°ç›¸åŠ  <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ"><!--[--><!--]--> æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/docs/mk-data/other_article/20.html" class="sidebar-item" aria-label="å¦‚ä½•ä¼˜é›…å¤„ç†å‰ç«¯å¼‚å¸¸"><!--[--><!--]--> å¦‚ä½•ä¼˜é›…å¤„ç†å‰ç«¯å¼‚å¸¸ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/21.html" class="sidebar-item" aria-label="å¦‚æœåç«¯APIä¸€æ¬¡è¿”å›10ä¸‡æ¡æ•°æ®ï¼Œå‰ç«¯åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ"><!--[--><!--]--> å¦‚æœåç«¯APIä¸€æ¬¡è¿”å›10ä¸‡æ¡æ•°æ®ï¼Œå‰ç«¯åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/22.html" class="sidebar-item" aria-label="ä»‹ç»å‡ ä¸ªå¼€å‘å‰ç«¯åŠ¨ç”»ä¸å¾—ä¸å­¦çš„åŠ¨ç”»åº“"><!--[--><!--]--> ä»‹ç»å‡ ä¸ªå¼€å‘å‰ç«¯åŠ¨ç”»ä¸å¾—ä¸å­¦çš„åŠ¨ç”»åº“ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/23.html" class="sidebar-item" aria-label="å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹å‡å°‘é‡æ’å’Œé‡ç»˜"><!--[--><!--]--> å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹å‡å°‘é‡æ’å’Œé‡ç»˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€»" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€»" aria-hidden="true">#</a> å‰ç«¯åŸºç¡€çŸ¥è¯†æ•´ç†æ±‡æ€»</h1><h2 id="htmlé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#htmlé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> HTMLé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ</h2><ul><li><p>HTMLé¡µé¢çš„ç”Ÿå‘½å‘¨æœŸæœ‰ä»¥ä¸‹ä¸‰ä¸ªé‡è¦äº‹ä»¶ï¼š</p><ul><li>DOMContentLoaded â€”â€” æµè§ˆå™¨å·²ç»å®Œå…¨åŠ è½½äº† HTMLï¼ŒDOM æ ‘å·²ç»æ„å»ºå®Œæ¯•ï¼Œä½†æ˜¯åƒæ˜¯ <code>&lt;img&gt;</code> å’Œæ ·å¼è¡¨ç­‰å¤–éƒ¨èµ„æºå¯èƒ½å¹¶æ²¡æœ‰ä¸‹è½½å®Œæ¯•ã€‚</li><li>load â€”â€” æµè§ˆå™¨å·²ç»åŠ è½½äº†æ‰€æœ‰çš„èµ„æºï¼ˆå›¾åƒï¼Œæ ·å¼è¡¨ç­‰ï¼‰ã€‚</li><li>beforeunload â€”â€” å½“ç”¨æˆ·å³å°†ç¦»å¼€å½“å‰é¡µé¢ï¼ˆåˆ·æ–°æˆ–å…³é—­ï¼‰æ—¶è§¦å‘ã€‚æ­£è¦å»æœåŠ¡å™¨è¯»å–æ–°çš„é¡µé¢æ—¶è°ƒç”¨ï¼Œæ­¤æ—¶è¿˜æ²¡å¼€å§‹è¯»å–ï¼›</li><li>unload â€”â€” åœ¨ç”¨æˆ·ç¦»å¼€é¡µé¢åè§¦å‘ã€‚ä»æœåŠ¡å™¨ä¸Šè¯»åˆ°äº†éœ€è¦åŠ è½½çš„æ–°çš„é¡µé¢ï¼Œåœ¨å³å°†æ›¿æ¢æ‰å½“å‰é¡µé¢æ—¶è°ƒç”¨ã€‚</li></ul></li><li><p>æ¯ä¸ªäº‹ä»¶éƒ½æœ‰ç‰¹å®šçš„ç”¨é€”:</p><ul><li>DOMContentLoaded â€”â€” DOM åŠ è½½å®Œæ¯•ï¼Œæ‰€ä»¥ JS å¯ä»¥è®¿é—®æ‰€æœ‰ DOM èŠ‚ç‚¹ï¼Œåˆå§‹åŒ–ç•Œé¢ã€‚</li><li>load â€”â€” é™„åŠ èµ„æºå·²ç»åŠ è½½å®Œæ¯•ï¼Œå¯ä»¥åœ¨æ­¤äº‹ä»¶è§¦å‘æ—¶è·å¾—å›¾åƒçš„å¤§å°ï¼ˆå¦‚æœæ²¡æœ‰è¢«åœ¨ HTML/CSS ä¸­æŒ‡å®šï¼‰</li><li>beforeunload â€”â€” è¯¥äº‹ä»¶å¯ç”¨äºå¼¹å‡ºå¯¹è¯æ¡†ï¼Œæç¤ºç”¨æˆ·æ˜¯ç»§ç»­æµè§ˆé¡µé¢è¿˜æ˜¯ç¦»å¼€å½“å‰é¡µé¢ã€‚</li><li>unload â€”â€” åˆ é™¤æœ¬åœ°æ•°æ®localstorageç­‰</li></ul></li></ul><p><strong>DOMContentLoaded</strong></p><p>DOMContentLoaded ç”± document å¯¹è±¡è§¦å‘ã€‚ä½¿ç”¨ addEventListener æ¥ç›‘å¬å®ƒï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>DOMContentLoaded å’Œè„šæœ¬</strong></p><p>å½“æµè§ˆå™¨åœ¨è§£æ HTML é¡µé¢æ—¶é‡åˆ°äº† <code>&lt;script&gt;...&lt;/script&gt;</code> æ ‡ç­¾ï¼Œå°†æ— æ³•ç»§ç»­æ„å»ºDOMæ ‘ï¼ˆUI æ¸²æŸ“çº¿ç¨‹ä¸ JS å¼•æ“æ˜¯äº’æ–¥çš„ï¼Œå½“ JS å¼•æ“æ‰§è¡Œæ—¶ UI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼‰ï¼Œå¿…é¡»ç«‹å³æ‰§è¡Œè„šæœ¬ã€‚æ‰€ä»¥ DOMContentLoaded æœ‰å¯èƒ½åœ¨æ‰€æœ‰è„šæœ¬æ‰§è¡Œå®Œæ¯•åè§¦å‘ã€‚</p><p>å¤–éƒ¨è„šæœ¬ï¼ˆå¸¦ src çš„ï¼‰çš„åŠ è½½å’Œè§£æä¹Ÿä¼šæš‚åœDOMæ ‘æ„å»ºï¼Œæ‰€ä»¥ DOMContentLoaded ä¹Ÿä¼šç­‰å¾…å¤–éƒ¨è„šæœ¬ã€‚å¸¦ async çš„å¤–éƒ¨è„šæœ¬ï¼Œå¯èƒ½ä¼šåœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œã€‚å¸¦ defer çš„è„šæœ¬è‚¯å®šä¼šåœ¨åœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚</p><p><strong>DOMContentLoaded ä¸æ ·å¼è¡¨</strong></p><p>å¤–éƒ¨æ ·å¼è¡¨å¹¶ä¸ä¼šé˜»å¡ DOM çš„è§£æï¼Œæ‰€ä»¥ DOMContentLoaded å¹¶ä¸ä¼šè¢«å®ƒä»¬å½±å“ã€‚</p><p><strong>load</strong></p><p>window å¯¹è±¡ä¸Šçš„ load äº‹ä»¶åœ¨æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬æ ·å¼è¡¨ï¼Œå›¾ç‰‡å’Œå…¶ä»–èµ„æºä¸‹è½½å®Œæ¯•åè§¦å‘ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>beforeunload</strong></p><p>å½“çª—å£å³å°†è¢«å¸è½½ï¼ˆå…³é—­ï¼‰æ—¶, ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚æ­¤æ—¶é¡µé¢æ–‡æ¡£ä¾ç„¶å¯è§, ä¸”è¯¥äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œå¯ä»¥è¢«å–æ¶ˆã€‚beforeunloadåœ¨unloadä¹‹å‰æ‰§è¡Œï¼Œå®ƒè¿˜å¯ä»¥é˜»æ­¢unloadçš„æ‰§è¡Œã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ¨èä½¿ç”¨</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;beforeunload&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Cancel the event as stated by the standard.</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Chrome requires returnValue to be set.</span>
  event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token string">&#39;å…³é—­æç¤º&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token comment">// å…¼å®¹IE8å’ŒFirefox 4ä¹‹å‰çš„ç‰ˆæœ¬</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token string">&#39;å…³é—­æç¤º&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+</span>
  <span class="token keyword">return</span> <span class="token string">&#39;å…³é—­æç¤º&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>unload</strong></p><p>ç”¨æˆ·ç¦»å¼€é¡µé¢çš„æ—¶å€™ï¼Œwindow å¯¹è±¡ä¸Šçš„ unload äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œæ— æ³•é˜»æ­¢ç”¨æˆ·è½¬ç§»åˆ°å¦ä¸€ä¸ªé¡µé¢ä¸Šã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ¨èä½¿ç”¨</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>readyState</strong></p><ul><li>document.readyState è¡¨ç¤ºé¡µé¢çš„åŠ è½½çŠ¶æ€ï¼Œæœ‰ä¸‰ä¸ªå€¼ï¼š <ul><li>loading åŠ è½½ â€”â€” documentä»åœ¨åŠ è½½ã€‚</li><li>interactive äº’åŠ¨ â€”â€” æ–‡æ¡£å·²ç»å®ŒæˆåŠ è½½ï¼Œæ–‡æ¡£å·²è¢«è§£æï¼Œä½†æ˜¯è¯¸å¦‚å›¾åƒï¼Œæ ·å¼è¡¨å’Œæ¡†æ¶ä¹‹ç±»çš„å­èµ„æºä»åœ¨åŠ è½½ã€‚</li><li>complete â€”â€” æ–‡æ¡£å’Œæ‰€æœ‰å­èµ„æºå·²å®ŒæˆåŠ è½½ã€‚ load äº‹ä»¶å³å°†è¢«è§¦å‘ã€‚</li></ul></li></ul><p>å¯ä»¥åœ¨ readystatechange ä¸­è¿½è¸ªé¡µé¢çš„å˜åŒ–çŠ¶æ€ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;readystatechange&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scriptæ ‡ç­¾-å‘htmlæ’å…¥jsçš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#scriptæ ‡ç­¾-å‘htmlæ’å…¥jsçš„æ–¹æ³•" aria-hidden="true">#</a> Scriptæ ‡ç­¾ï¼šå‘HTMLæ’å…¥JSçš„æ–¹æ³•</h2><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>async</td><td>async</td><td>ç«‹å³ä¸‹è½½è„šæœ¬ï¼ˆä»…é€‚ç”¨äºå¤–éƒ¨è„šæœ¬ï¼‰ã€‚</td></tr><tr><td>charset</td><td>charset</td><td>è¡¨ç¤ºé€šè¿‡srcå±æ€§æŒ‡å®šçš„ä»£ç çš„å­—ç¬¦é›†</td></tr><tr><td>defer</td><td>defer</td><td>è¡¨ç¤ºè„šæœ¬å¯ä»¥å»¶è¿Ÿåˆ°æ–‡æ¡£å®Œå…¨è¢«è§£æå’Œæ˜¾ç¤ºä¹‹åå†æ‰§è¡Œï¼ˆä»…é€‚ç”¨äºå¤–éƒ¨è„šæœ¬ï¼‰ã€‚</td></tr><tr><td>language</td><td>script(å·²åºŸå¼ƒ)</td><td>è¡¨ç¤ºç¼–å†™ä»£ç ä½¿ç”¨çš„è„šæœ¬è¯­è¨€ã€‚ç”¨ type å±æ€§ä»£æ›¿å®ƒã€‚</td></tr><tr><td>src</td><td>URL</td><td>è§„å®šå¤–éƒ¨è„šæœ¬æ–‡ä»¶çš„ URLã€‚</td></tr><tr><td>xml:space</td><td>preserve</td><td>è§„å®šæ˜¯å¦ä¿ç•™ä»£ç ä¸­çš„ç©ºç™½ã€‚</td></tr><tr><td>type</td><td>text/xxx</td><td>languageçš„æ›¿æ¢å±æ€§ï¼Œè¡¨ç¤ºç¼–å†™ä»£ç ä½¿ç”¨çš„è„šæœ¬è¯­è¨€çš„å†…å®¹ç±»å‹,ä¹Ÿç§°ä¸ºMIMEå±æ€§ã€‚</td></tr></tbody></table><p>æ²¡æœ‰ defer æˆ– asyncï¼Œæ‰€æœ‰<code>&lt;script&gt;</code>å…ƒç´ ä¼šæŒ‰ç…§åœ¨é¡µé¢å‡ºç°çš„å…ˆåé¡ºåºä¾æ¬¡è¢«è§£æï¼Œæµè§ˆå™¨ä¼šç«‹å³åŠ è½½å¹¶æ‰§è¡ŒæŒ‡å®šçš„è„šæœ¬, åªæœ‰è§£æå®Œå‰é¢çš„scriptå…ƒç´ çš„å†…å®¹åï¼Œæ‰ä¼šè§£æåé¢çš„ä»£ç ã€‚</p><p><strong>async å’Œ defer å±æ€§ä»…ä»…å¯¹å¤–éƒ¨è„šæœ¬èµ·ä½œç”¨ï¼Œåœ¨ src ä¸å­˜åœ¨æ—¶ä¼šè¢«è‡ªåŠ¨å¿½ç•¥ã€‚</strong></p><p>ä½¿ç”¨<code>&lt;script&gt;</code>çš„ä¸¤ç§æ–¹å¼</p><ul><li>é¡µé¢ä¸­åµŒå…¥scriptä»£ç ï¼Œ åªéœ€æŒ‡å®štypeå±æ€§</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hihihi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å†…éƒ¨ä¸èƒ½å‡ºç°&#39;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>&#39;å­—ç¬¦ä¸²ï¼Œå¦‚æœå¿…é¡»å‡ºç°ï¼Œå¿…é¡»ä½¿ç”¨è½¬ä¹‰æ ‡ç­¾â€˜\â€™
    alert(&#39;&lt;\/script&gt;&#39;);
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒ…å«åœ¨<code>&lt;script&gt;</code>å…ƒç´ å†…çš„ä»£ç ä¼šä»ä¸Šè€Œä¸‹ä¾æ¬¡è§£é‡Šï¼Œåœ¨è§£é‡Šå™¨å¯¹<code>&lt;script&gt;</code>å…ƒç´ å†…çš„æ‰€æœ‰ä»£ç æ±‚å€¼å®Œæ¯•ä¹‹å‰ï¼Œé¡µé¢ä¸­çš„å…¶ä½™å†…å®¹éƒ½ä¸ä¼šè¢«æµè§ˆå™¨åŠ è½½æˆ–æ˜¾ç¤º</p><ul><li>åŒ…å«å¤–éƒ¨jsæ–‡ä»¶, srcå±æ€§æ˜¯å¿…é¡»çš„ã€‚</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
// å¸¦æœ‰srcå±æ€§çš„å…ƒç´ ä¸åº”è¯¥åœ¨æ ‡ç­¾ä¹‹é—´åŒ…å«é¢å¤–çš„jsä»£ç ï¼Œå³ä½¿åŒ…å«ï¼Œåªä¼šä¸‹è½½å¹¶æ‰§è¡Œå¤–éƒ¨æ–‡ä»¶ï¼Œå†…éƒ¨ä»£ç ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸åµŒå…¥å¼jsä»£ç ä¸€æ ·, åœ¨è§£æå¤–éƒ¨jsæ–‡ä»¶æ—¶ï¼Œé¡µé¢çš„å¤„ç†ä¼šæš‚æ—¶åœæ­¢ã€‚</p><p>æ”¹å˜è„šæœ¬è¡Œä¸ºçš„æ–¹æ³•</p><ul><li>defer: ç«‹å³ä¸‹è½½ï¼Œå»¶è¿Ÿæ‰§è¡Œ</li></ul><p>åŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œè„šæœ¬çš„åŠ è½½å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½†æ˜¯è„šæœ¬çš„æ‰§è¡Œä¼šåœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹åã€‚è„šæœ¬æ€»ä¼šæŒ‰ç…§å£°æ˜é¡ºåºæ‰§è¡Œã€‚ åœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>async: å¼‚æ­¥è„šæœ¬</li></ul><p>åŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œè„šæœ¬çš„åŠ è½½ä¸æ‰§è¡Œå¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ã€‚ä½†æ˜¯async åœ¨ä¸‹è½½å®Œæ¯•åçš„æ‰§è¡Œä¼šé˜»å¡HTMLçš„è§£æã€‚è„šæœ¬åŠ è½½åé©¬ä¸Šæ‰§è¡Œï¼Œä¸èƒ½ä¿è¯å¼‚æ­¥è„šæœ¬æŒ‰ç…§ä»–ä»¬åœ¨é¡µé¢ä¸­å‡ºç°çš„é¡ºåºæ‰§è¡Œã€‚ ä¸€å®šä¼šåœ¨loadäº‹ä»¶ä¹‹å‰æ‰§è¡Œï¼Œå¯èƒ½ä¼šåœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>async<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åŒºåˆ«ï¼š</p><table><thead><tr><th>æè¿°</th><th>defer</th><th>async</th></tr></thead><tbody><tr><td>æ‰§è¡Œæ—¶æœº</td><td>åœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹å</td><td>åŠ è½½åå³æ‰§è¡Œ</td></tr><tr><td>æ‰§è¡Œé¡ºåº</td><td>æŒ‰ç…§å£°æ˜é¡ºåºåŠ è½½å’Œæ‰§è¡Œè„šæœ¬</td><td>ä¸ç®¡å£°æ˜çš„é¡ºåºå¦‚ä½•ï¼Œåªè¦åŠ è½½å®Œäº†å°±ä¼šç«‹åˆ»æ‰§è¡Œ</td></tr><tr><td>DOMContentLoaded</td><td>è„šæœ¬ä¼šåœ¨é¡µé¢åŠ è½½å’Œè§£æå®Œæ¯•åæ‰§è¡Œï¼Œåœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚ï¼ˆè„šæœ¬ä¸‹è½½å¹¶æ‰§è¡Œå®Œï¼Œæ‰è§¦å‘DOMContentLoadedï¼‰</td><td>å¯èƒ½ä¼šåœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œ</td></tr><tr><td>load</td><td>loadä¹‹å‰æ‰§è¡Œ</td><td>loadä¹‹å‰æ‰§è¡Œ</td></tr></tbody></table><h2 id="meta" tabindex="-1"><a class="header-anchor" href="#meta" aria-hidden="true">#</a> meta</h2><p>METAæ ‡ç­¾æ˜¯HTMLæ ‡è®°HEADåŒºçš„ä¸€ä¸ªå…³é”®æ ‡ç­¾ï¼Œå®ƒæä¾›çš„ä¿¡æ¯è™½ç„¶ç”¨æˆ·ä¸å¯è§ï¼Œä½†å´æ˜¯æ–‡æ¡£çš„æœ€åŸºæœ¬çš„å…ƒä¿¡æ¯ã€‚<code>&lt;meta&gt;</code>é™¤äº†æä¾›æ–‡æ¡£å­—ç¬¦é›†ã€ä½¿ç”¨è¯­è¨€ã€ä½œè€…ç­‰ç½‘é¡µç›¸å…³ä¿¡æ¯å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¿¡æ¯ç»™æœç´¢å¼•æ“ï¼Œç›®çš„æ˜¯ä¸ºäº†SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰ã€‚</p><p>HTML <code>&lt;meta&gt;</code> å…ƒç´ è¡¨ç¤ºé‚£äº›ä¸èƒ½ç”±å…¶å®ƒ HTML å…ƒç›¸å…³ï¼ˆmeta-relatedï¼‰å…ƒç´ ï¼ˆ(<code>&lt;base&gt;ã€&lt;link&gt;, &lt;script&gt;ã€&lt;style&gt; æˆ– &lt;title&gt;</code>ï¼‰ä¹‹ä¸€è¡¨ç¤ºçš„ä»»ä½•å…ƒæ•°æ®ä¿¡æ¯ã€‚</p><h3 id="å±æ€§" tabindex="-1"><a class="header-anchor" href="#å±æ€§" aria-hidden="true">#</a> å±æ€§</h3><p><strong>name</strong></p><p>è®¾ç½®å…ƒæ•°æ®çš„åç§°ã€‚name å’Œ content å±æ€§å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å-å€¼å¯¹çš„æ–¹å¼ç»™æ–‡æ¡£æä¾›å…ƒæ•°æ®ï¼Œcontent ä½œä¸ºå…ƒæ•°æ®çš„å€¼ã€‚</p><p><strong>content</strong></p><p>è®¾ç½®ä¸ http-equiv æˆ– name å±æ€§ç›¸å…³çš„å…ƒä¿¡æ¯ã€‚</p><p><strong>charset</strong></p><p>å£°æ˜äº†æ–‡æ¡£çš„å­—ç¬¦ç¼–ç ã€‚å¦‚æœä½¿ç”¨äº†è¿™ä¸ªå±æ€§ï¼Œå…¶å€¼å¿…é¡»æ˜¯ä¸ASCIIå¤§å°å†™æ— å…³ï¼ˆASCII case-insensitiveï¼‰çš„&quot;utf-8&quot;ã€‚</p><p><strong>http-equiv</strong></p><p>å®šä¹‰äº†ä¸€ä¸ªç¼–è¯‘æŒ‡ç¤ºæŒ‡ä»¤ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºhttpåè®®, å‘Šè¯‰æµè§ˆå™¨ä¸€äº›å…³äºå­—ç¬¦è®¾å®š,é¡µé¢åˆ·æ–°,cookie,ç¼“å­˜ç­‰ç­‰ç›¸å…³ä¿¡æ¯ã€‚å±æ€§åå«åš http-equiv æ˜¯å› ä¸ºæ‰€æœ‰å…è®¸çš„å€¼éƒ½æ˜¯HTTPå¤´éƒ¨çš„åç§°ã€‚</p><ul><li>å¯è®¾ç½®çš„å€¼æœ‰ï¼š <ul><li>content-security-policyï¼šå®ƒå…è®¸é¡µé¢ä½œè€…å®šä¹‰å½“å‰é¡µçš„å†…å®¹ç­–ç•¥ã€‚å†…å®¹ç­–ç•¥ä¸»è¦æŒ‡å®šå…è®¸çš„æœåŠ¡å™¨æºå’Œè„šæœ¬ç«¯ç‚¹ï¼Œè¿™æœ‰åŠ©äºé˜²æ­¢è·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ã€‚</li><li>Expiresï¼šå¯ä»¥ç”¨äºè®¾å®šç½‘é¡µçš„åˆ°æœŸæ—¶é—´ï¼Œä¸€æ—¦è¿‡æœŸåˆ™å¿…é¡»åˆ°æœåŠ¡å™¨ä¸Šé‡æ–°è°ƒç”¨ã€‚contentå¿…é¡»ä½¿ç”¨GMTæ—¶é—´æ ¼å¼ï¼›</li><li>content-typeï¼šå¦‚æœä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå…¶å€¼å¿…é¡»æ˜¯&quot;text/html; charset=utf-8&quot;ã€‚æ³¨æ„ï¼šè¯¥å±æ€§åªèƒ½ç”¨äº MIME typeä¸º text/html çš„æ–‡æ¡£ï¼Œä¸èƒ½ç”¨äºMIMEç±»å‹ä¸ºXMLçš„æ–‡æ¡£ã€‚</li><li>default-styleï¼šè®¾ç½®é»˜è®¤CSS æ ·å¼è¡¨ç»„çš„åç§°ã€‚</li><li>refreshï¼šå®šæ—¶è®©ç½‘é¡µåœ¨æŒ‡å®šçš„æ—¶é—´nå†…ï¼Œåˆ·æ–°æˆ–è·³è½¬ï¼›</li></ul></li></ul><p>å¦‚æœ content åªåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œåˆ™æ˜¯nç§’å, é¡µé¢åˆ·æ–°ã€‚ å¦‚æœ content åŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå¹¶ä¸”åé¢è·Ÿç€å­—ç¬¦ä¸² &#39;;url=&#39; å’Œä¸€ä¸ªåˆæ³•çš„ URLï¼Œåˆ™æ˜¯é‡å®šå‘åˆ°æŒ‡å®šé“¾æ¥çš„æ—¶é—´é—´éš”(ç§’)ã€‚</p><p><strong>meta å…ƒç´ å®šä¹‰çš„å…ƒæ•°æ®çš„ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</strong></p><ul><li><p>å¦‚æœè®¾ç½®äº† name å±æ€§ï¼Œmeta å…ƒç´ æä¾›çš„æ˜¯æ–‡æ¡£çº§åˆ«ï¼ˆdocument-levelï¼‰çš„å…ƒæ•°æ®ï¼Œåº”ç”¨äºæ•´ä¸ªé¡µé¢ã€‚</p></li><li><p>å¦‚æœè®¾ç½®äº† http-equiv å±æ€§ï¼Œmeta å…ƒç´ åˆ™æ˜¯ç¼–è¯‘æŒ‡ä»¤ï¼Œæä¾›çš„ä¿¡æ¯ä¸ç±»ä¼¼å‘½åçš„HTTPå¤´éƒ¨ç›¸åŒã€‚</p></li><li><p>å¦‚æœè®¾ç½®äº† charset å±æ€§ï¼Œmeta å…ƒç´ æ˜¯ä¸€ä¸ªå­—ç¬¦é›†å£°æ˜ï¼Œå‘Šè¯‰æ–‡æ¡£ä½¿ç”¨å“ªç§å­—ç¬¦ç¼–ç ã€‚</p></li><li><p>å¦‚æœè®¾ç½®äº† itemprop å±æ€§ï¼Œmeta å…ƒç´ æä¾›ç”¨æˆ·å®šä¹‰çš„å…ƒæ•°æ®ã€‚</p></li></ul><blockquote><p>æ³¨æ„: å…¨å±€å±æ€§ name åœ¨ <code>&lt;meta&gt;</code> å…ƒç´ ä¸­å…·æœ‰ç‰¹æ®Šçš„è¯­ä¹‰ï¼›å¦å¤–ï¼Œ åœ¨åŒä¸€ä¸ª <code>&lt;meta&gt;</code> æ ‡ç­¾ä¸­ï¼Œname, http-equiv æˆ–è€… charset ä¸‰è€…ä¸­ä»»ä½•ä¸€ä¸ªå±æ€§å­˜åœ¨æ—¶ï¼Œitemprop å±æ€§ä¸èƒ½è¢«ä½¿ç”¨ã€‚</p></blockquote><p><strong>ä½¿ç”¨</strong></p><p>contentå€¼é‡Œæœ‰å¤šä¸ªå±æ€§é€šè¿‡,éš”å¼€ï¼ŒåŒæ—¶è®¾ç½®å¤šä¸ªå±æ€§ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>/* name */
// é€‚é…ç§»åŠ¨è®¾å¤‡
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
// æ£€æµ‹htmlæ ¼å¼ï¼šç¦æ­¢æŠŠæ•°å­—è½¬åŒ–ä¸ºæ‹¨å·é“¾æ¥
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>telephone=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 

/* charset */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

/* http-equiv */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3;url=https://www.mozilla.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mon,12 May 2001 00:20:00 GMT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="meta-viewportå…ƒä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#meta-viewportå…ƒä¿¡æ¯" aria-hidden="true">#</a> meta viewportå…ƒä¿¡æ¯</h3><ul><li>ä»€ä¹ˆæ˜¯ viewport?</li></ul><p>viewport æ˜¯æµè§ˆå™¨çš„å¯è§†åŒºåŸŸï¼Œå¯è§†åŒºåŸŸçš„å¤§å°æ˜¯æµè§ˆå™¨è‡ªå·±è®¾ç½®çš„ã€‚å®ƒå¯èƒ½å¤§äºç§»åŠ¨è®¾å¤‡å¯è§†åŒºåŸŸï¼Œä¹Ÿå¯èƒ½å°äºç§»åŠ¨è®¾å¤‡å¯è§†åŒºåŸŸã€‚ä¸€èˆ¬æ¥è®²ï¼Œç§»åŠ¨è®¾å¤‡ä¸Šçš„viewportéƒ½æ˜¯å¤§äºç§»åŠ¨è®¾å¤‡å¯è§†åŒºåŸŸã€‚åœ¨æ§åˆ¶å°è¾“å‡ºwindow.innerWidthæŸ¥çœ‹Viewportå¤§å°ã€‚</p><ul><li>ç›¸å…³æ¦‚å¿µ</li></ul><p><strong>è®¾å¤‡åƒç´ </strong>ï¼šè®¾å¤‡å±å¹•åˆ†è¾¨ç‡ã€‚iphone6p çš„åˆ†è¾¨ç‡æ˜¯ 1334<em>750ï¼› <strong>è®¾å¤‡ç‹¬ç«‹åƒç´ </strong>ï¼šè®¾å¤‡ä¸Šç¨‹åºç”¨æ¥æç»˜æ•°æ®çš„ä¸€ä¸ªä¸ªçš„â€œç‚¹â€, åœ¨æ§åˆ¶å°ç”¨ screen.width/heightæŸ¥çœ‹ã€‚iphone6p çš„è®¾å¤‡ç‹¬ç«‹åƒç´ æ˜¯375</em>667ï¼› <strong>è®¾å¤‡åƒç´ æ¯”ï¼ˆDPRï¼‰</strong>ï¼šè®¾å¤‡åƒç´ (å®½)/è®¾å¤‡ç‹¬ç«‹åƒç´ (å®½)ï¼ŒDPRè¶Šé«˜æ¸²æŸ“è¶Šç²¾è‡´ã€‚åœ¨æ§åˆ¶å°è¾“å‡ºwindow.devicePixelRatioæŸ¥çœ‹è®¾å¤‡åƒç´ æ¯”ã€‚iphone6s çš„è®¾å¤‡åƒç´ æ¯”å°±æ˜¯ 750 / 375 = 2ï¼› <strong>CSSåƒç´ </strong>ï¼šæµè§ˆå™¨ä½¿ç”¨çš„å•ä½ï¼Œç”¨æ¥ç²¾ç¡®åº¦é‡ç½‘é¡µä¸Šçš„å†…å®¹ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹(é¡µé¢ç¼©æ”¾æ¯”ä¸º 1)ï¼Œ1 ä¸ª CSS åƒç´ ç­‰äº 1 ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚ <strong>å±å¹•å°ºå¯¸</strong>ï¼šå±å¹•å¯¹è§’çº¿çš„é•¿åº¦ï¼Œä»¥è‹±å°ºä¸ºå•ä½ã€‚ <strong>åƒç´ å¯†åº¦ï¼ˆPPIï¼‰</strong>ï¼šæ¯è‹±å¯¸å±å¹•æ‹¥æœ‰çš„åƒç´ æ•°ã€‚</p><ul><li>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨meta viewportï¼Ÿ</li></ul><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç§»åŠ¨è®¾å¤‡ä¸Šçš„æµè§ˆå™¨éƒ½ä¼šæŠŠviewportè®¾ä¸º980pxæˆ–1024pxï¼Œæ­¤æ—¶é¡µé¢ä¼šå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ï¼Œå› ä¸ºç§»åŠ¨è®¾å¤‡å¯è§†åŒºåŸŸå®½åº¦æ˜¯æ¯”è¿™ä¸ªé»˜è®¤çš„viewportçš„å®½åº¦è¦å°ã€‚æ‰€ä»¥å‡ºç°äº†meta æ ‡ç­¾è®¾ç½®viewport å…ƒå§‹æ€§è¿›è¡Œç§»åŠ¨ç«¯ç½‘é¡µä¼˜åŒ–ã€‚</p><ul><li>meta viewport å±æ€§ <ul><li>widthï¼šæ§åˆ¶ viewport çš„å¤§å°ï¼Œå¯ä»¥ç»™å®ƒæŒ‡å®šä¸€ä¸ªå€¼(æ­£æ•´æ•°)ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼(å¦‚ï¼šdevice-width è®¾å¤‡ç‹¬ç«‹åƒç´ å®½åº¦ï¼Œå•ä½ç¼©æ”¾ä¸º 1 æ—¶)ï¼›</li><li>initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œå³å½“é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li><li>maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li><li>minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li><li>user-scalableï¼šæ˜¯å¦å…è®¸ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾ï¼Œå€¼ä¸º &quot;no&quot;(ä¸å…è®¸) æˆ– &quot;yes&quot;(å…è®¸)ï¼›</li><li>heightï¼šä¸ width ç›¸å¯¹åº”(å¾ˆå°‘ä½¿ç”¨)ã€‚</li></ul></li></ul><h2 id="åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹" aria-hidden="true">#</a> åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹</h2><h3 id="åŸºæœ¬ç±»å‹" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹" aria-hidden="true">#</a> åŸºæœ¬ç±»å‹</h3><p>åŸºæœ¬ç±»å‹ï¼šundefinedã€nullã€stringã€numberã€booleanã€symbol</p><p><strong>ç‰¹ç‚¹</strong></p><ol><li>åŸºæœ¬ç±»å‹çš„å€¼æ˜¯ä¸å¯å˜å¾—</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ä»»ä½•æ–¹æ³•éƒ½æ— æ³•æ”¹å˜ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å€¼</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&#39;jay&#39;</span><span class="token punctuation">;</span>
name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º &#39;JAY&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º  &#39;jay&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>åŸºæœ¬ç±»å‹çš„æ¯”è¾ƒæ˜¯å€¼çš„æ¯”è¾ƒ</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// åªæœ‰åœ¨å®ƒä»¬çš„å€¼ç›¸ç­‰çš„æ—¶å€™å®ƒä»¬æ‰ç›¸ç­‰</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token comment">// ç”¨==æ¯”è¾ƒä¸¤ä¸ªä¸åŒç±»å‹çš„å˜é‡æ—¶ä¼šè¿›è¡Œä¸€äº›ç±»å‹è½¬æ¢ã€‚</span>
<span class="token comment">// å…ˆä¼šæŠŠtrueè½¬æ¢ä¸ºæ•°å­—1å†å’Œæ•°å­—1è¿›è¡Œæ¯”è¾ƒï¼Œç»“æœå°±æ˜¯trueäº†</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>åŸºæœ¬ç±»å‹çš„å˜é‡æ˜¯å­˜æ”¾åœ¨æ ˆåŒºçš„ï¼ˆæ ˆåŒºæŒ‡å†…å­˜é‡Œçš„æ ˆå†…å­˜ï¼‰</li></ol><h3 id="å¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨ç±»å‹" aria-hidden="true">#</a> å¼•ç”¨ç±»å‹</h3><p>å¼•ç”¨ç±»å‹ï¼šObjectã€Arrayã€RegExpã€Dateã€Functionç­‰ å¼•ç”¨ç±»å‹ä¹Ÿå¯ä»¥è¯´æ˜¯å¯¹è±¡ã€‚å¯¹è±¡æ˜¯å±æ€§å’Œæ–¹æ³•çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯è¯´å¼•ç”¨ç±»å‹å¯ä»¥æ‹¥æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå±æ€§åˆå¯ä»¥åŒ…å«åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚</p><p><strong>ç‰¹ç‚¹</strong></p><ol><li>å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯å˜çš„</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æˆ‘ä»¬å¯ä¸ºä¸ºå¼•ç”¨ç±»å‹æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å…¶å±æ€§å’Œæ–¹æ³•</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;pig&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;pig&#39;</span>
<span class="token keyword">delete</span> person<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>å¼•ç”¨ç±»å‹çš„æ¯”è¾ƒæ˜¯å¼•ç”¨çš„æ¯”è¾ƒ</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token string">&#39;{}&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token string">&#39;{}&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">==</span> person2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­—ç¬¦ä¸²å€¼ç›¸åŒï¼Œtrue</span>

<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">==</span> person2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸¤ä¸ªå¯¹è±¡çš„å †å†…å­˜ä¸­çš„åœ°å€ä¸åŒï¼Œfalse</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>å¼•ç”¨ç±»å‹çš„å€¼æ˜¯åŒæ—¶ä¿å­˜åœ¨æ ˆå†…å­˜å’Œå †å†…å­˜ä¸­çš„å¯¹è±¡</li></ol><p>javascriptå’Œå…¶ä»–è¯­è¨€ä¸åŒï¼Œå…¶ä¸å…è®¸ç›´æ¥è®¿é—®å†…å­˜ä¸­çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›´æ¥æ“ä½œå¯¹è±¡çš„å†…å­˜ç©ºé—´ã€‚</p><p>å®é™…ä¸Šï¼Œæ˜¯æ“ä½œå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„ã€‚å‡†ç¡®åœ°è¯´ï¼Œå¼•ç”¨ç±»å‹çš„å­˜å‚¨éœ€è¦å†…å­˜çš„æ ˆåŒºå’Œå †åŒºï¼ˆå †åŒºæ˜¯æŒ‡å†…å­˜é‡Œçš„å †å†…å­˜ï¼‰å…±åŒå®Œæˆï¼Œæ ˆåŒºå†…å­˜ä¿å­˜å˜é‡æ ‡è¯†ç¬¦å’ŒæŒ‡å‘å †å†…å­˜ä¸­è¯¥å¯¹è±¡çš„æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯è¯¥å¯¹è±¡åœ¨å †å†…å­˜çš„åœ°å€ã€‚</p><h2 id="ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡" aria-hidden="true">#</a> ä½œç”¨åŸŸå’Œæ‰§è¡Œä¸Šä¸‹æ–‡</h2><ul><li>JavaScriptä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä»£ç ç¼–è¯‘é˜¶æ®µä¸ä»£ç æ‰§è¡Œé˜¶æ®µã€‚ <ul><li>ç¼–è¯‘é˜¶æ®µï¼šç”±ç¼–è¯‘å™¨å®Œæˆï¼Œå°†ä»£ç ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ã€‚è¿™ä¸ªé˜¶æ®µä½œç”¨åŸŸè§„åˆ™ä¼šç¡®å®šã€‚</li><li>æ‰§è¡Œé˜¶æ®µï¼šç”±å¼•æ“å®Œæˆï¼Œä¸»è¦ä»»åŠ¡æ˜¯æ‰§è¡Œå¯æ‰§è¡Œä»£ç ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡åœ¨è¿™ä¸ªé˜¶æ®µåˆ›å»ºã€‚</li></ul></li></ul><h3 id="ä½œç”¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#ä½œç”¨åŸŸ" aria-hidden="true">#</a> ä½œç”¨åŸŸ</h3><p>ç®€å•æ¥è¯´ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ªåŒºåŸŸï¼Œæ²¡æœ‰å˜é‡ã€‚ä½œç”¨åŸŸå¯ä»¥åµŒå¥—ã€‚ä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ï¼Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨ç¡®å®šã€‚</p><p>ES6 ä¹‹å‰ JavaScript åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸã€‚ES6 åï¼Œå¢åŠ äº†å—çº§ä½œç”¨åŸŸï¼ˆæœ€è¿‘å¤§æ‹¬å·çš„ä½œç”¨èŒƒå›´ï¼‰, é€šè¿‡let å’Œ const å£°æ˜çš„å˜é‡ã€‚</p><ul><li><p>ä½œç”¨åŸŸå…¶å®ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>è®°å½•ä½œç”¨åŸŸå†…å˜é‡ä¿¡æ¯ï¼ˆå‡è®¾å˜é‡ï¼Œå¸¸é‡ï¼Œå‡½æ•°ç­‰ç»Ÿç§°ä¸ºå˜é‡ï¼‰å’Œä»£ç ç»“æ„ä¿¡æ¯çš„ä¸œè¥¿ï¼Œç§°ä¹‹ä¸º Environment Recordã€‚</li><li>ä¸€ä¸ªå¼•ç”¨<code>__outer__</code>ï¼Œè¿™ä¸ªå¼•ç”¨æŒ‡å‘å½“å‰ä½œç”¨åŸŸçš„çˆ¶ä½œç”¨åŸŸã€‚å…¨å±€ä½œç”¨åŸŸçš„<code>__outer__</code>ä¸º nullã€‚</li></ul></li><li><p>è¯æ³•ä½œç”¨åŸŸ</p></li></ul><p>JavaScript é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p><p>æ‰€è°“è¯æ³•ï¼ˆä»£ç ï¼‰ä½œç”¨åŸŸï¼Œå°±æ˜¯ä»£ç åœ¨ç¼–å†™è¿‡ç¨‹ä¸­ä½“ç°å‡ºæ¥çš„ä½œç”¨èŒƒå›´ï¼Œä»£ç ä¸€æ—¦å†™å¥½äº†ï¼Œæ²¡æœ‰è¿è¡Œä¹‹å‰ï¼ˆä¸ç”¨æ‰§è¡Œï¼‰ï¼Œä½œç”¨èŒƒå›´å°±å·²ç»ç¡®å®šå¥½äº†ï¼Œè¿™ä¸ªå°±æ˜¯æ‰€è°“çš„è¯æ³•ä½œç”¨åŸŸã€‚</p><ul><li>è¯æ³•ä½œç”¨åŸŸçš„è§„åˆ™: <ul><li>å‡½æ•°å…è®¸è®¿é—®å‡½æ•°å¤–éƒ¨çš„æ•°æ®</li><li>æ•´ä¸ªä»£ç ç»“æ„ä¸­åªæœ‰å‡½æ•°æ‰èƒ½é™å®šä½œç”¨åŸŸ</li><li>ä½œç”¨è§„åˆ™é¦–å…ˆä½¿ç”¨å˜é‡æå‡è§„åˆ™åˆ†æ</li><li>å¦‚æœå½“å‰ä½œç”¨è§„åˆ™é‡Œé¢æœ‰è¯¥åå­—ï¼Œåˆ™ä¸è€ƒè™‘å¤–é¢çš„å¤–é¢çš„åå­—</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//====&gt;  1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½œç”¨åŸŸé“¾" tabindex="-1"><a class="header-anchor" href="#ä½œç”¨åŸŸé“¾" aria-hidden="true">#</a> ä½œç”¨åŸŸé“¾</h3><p>å½“æŸ¥æ‰¾å˜é‡çš„æ—¶å€™ï¼Œä¼šå…ˆä»å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„æŒ‡é’ˆé“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾ã€‚</p><p>ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰ç¯å¢ƒä¸ä¸Šå±‚ç¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼ˆå®ƒåªå¼•ç”¨ä½†ä¸å®é™…åŒ…å«å˜é‡å¯¹è±¡ï¼‰ï¼Œä½œç”¨åŸŸé“¾ä¿è¯äº†å½“å‰æ‰§è¡Œç¯å¢ƒå¯¹ç¬¦åˆè®¿é—®æƒé™çš„å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚</p><p>ä¾‹å­ï¼š</p><p>ç”¨ä¸€ä¸ªæ•°ç»„scopeChainæ¥è¡¨ç¤ºä½œç”¨åŸŸé“¾ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹scopeChain[0]ä¸ºä½œç”¨åŸŸé“¾çš„æœ€å‰ç«¯ï¼Œè€Œæ•°ç»„çš„æœ€åä¸€é¡¹ï¼Œä¸ºä½œç”¨åŸŸé“¾çš„æœ€æœ«ç«¯ï¼Œæ‰€æœ‰çš„æœ€æœ«ç«¯éƒ½ä¸ºå…¨å±€å˜é‡å¯¹è±¡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆï¼Œä»£ç å¼€å§‹è¿è¡Œæ—¶å°±åˆ›å»ºäº†å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ¥ç€è¿è¡Œåˆ°out()æ—¶åˆ›å»º outå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæœ€åè¿è¡Œåˆ°inner()æ—¶åˆ›å»º innerå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬è®¾å®šä»–ä»¬çš„å˜é‡å¯¹è±¡åˆ†åˆ«ä¸ºVO(global)ï¼ŒVO(out), VO(inner)ã€‚</p><p>å½“å‡½æ•°åˆ›å»ºæ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¸ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
globalEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">out</span><span class="token operator">:</span> <span class="token operator">&lt;</span>out reference<span class="token operator">&gt;</span><span class="token punctuation">,</span>  <span class="token comment">// è¡¨ç¤º out çš„åœ°å€å¼•ç”¨</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ä½œç”¨åŸŸé“¾</span>
<span class="token punctuation">}</span>

<span class="token comment">// out å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡</span>
outEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">inner</span><span class="token operator">:</span> <span class="token operator">&lt;</span>inner reference<span class="token operator">&gt;</span><span class="token punctuation">,</span>  <span class="token comment">// è¡¨ç¤º inner çš„åœ°å€å¼•ç”¨</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ä½œç”¨åŸŸé“¾</span>
<span class="token punctuation">}</span>

<span class="token comment">// inner å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡</span>
innerEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>inner<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ä½œç”¨åŸŸé“¾</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰§è¡Œä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œä¸Šä¸‹æ–‡" aria-hidden="true">#</a> æ‰§è¡Œä¸Šä¸‹æ–‡</h3><p>ç®€å•æ¥è¯´ï¼Œå½“åœ¨ä»£ç æ‰§è¡Œé˜¶æ®µæ‰§è¡Œåˆ°ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šè¿›è¡Œå‡†å¤‡å·¥ä½œï¼Œè¿™é‡Œçš„â€œå‡†å¤‡å·¥ä½œâ€ï¼Œå°±å«åš&quot;æ‰§è¡Œä¸Šä¸‹æ–‡(EC)&quot;ï¼Œä¹Ÿå«æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œä¹Ÿå«æ‰§è¡Œç¯å¢ƒã€‚jså¼•æ“åˆ›å»ºäº†æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECSï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p>å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šè¢«åˆ›å»ºã€‚è€Œä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸå¯</p><ul><li><p>ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p><ul><li>åˆ›å»ºé˜¶æ®µï¼šåœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šåˆ†åˆ«åˆ›å»ºå˜é‡å¯¹è±¡ï¼Œå»ºç«‹ä½œç”¨åŸŸé“¾ï¼Œä»¥åŠç¡®å®šthisçš„æŒ‡å‘ã€‚</li><li>ä»£ç æ‰§è¡Œé˜¶æ®µï¼šå¼€å§‹æ‰§è¡Œä»£ç ï¼Œä¼šå®Œæˆå˜é‡èµ‹å€¼ï¼Œå‡½æ•°å¼•ç”¨ï¼Œä»¥åŠæ‰§è¡Œå…¶ä»–ä»£ç ã€‚</li></ul></li><li><p>ç‰¹ç‚¹</p><ul><li>å¤„äºæ´»åŠ¨çŠ¶æ€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒåªæœ‰ä¸€ä¸ª, åªæœ‰æ ˆé¡¶çš„ä¸Šä¸‹æ–‡å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚</li><li>å‡½æ•°æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</li><li>å…¨å±€ä¸Šä¸‹æ–‡åœ¨ä»£ç å¼€å§‹æ‰§è¡Œæ—¶å°±åˆ›å»ºï¼Œåªæœ‰å”¯ä¸€çš„ä¸€ä¸ªï¼Œæ°¸è¿œåœ¨æ ˆåº•ï¼Œæµè§ˆå™¨çª—å£å…³é—­æ—¶å‡ºæ ˆã€‚</li><li>å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™åˆ›å»ºä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</li></ul></li></ul><h3 id="å˜é‡å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å˜é‡å¯¹è±¡" aria-hidden="true">#</a> å˜é‡å¯¹è±¡</h3><p><strong>å˜é‡å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹</strong></p><ul><li><p>å»ºç«‹argumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±æ€§ä¸å±æ€§å€¼ã€‚</p></li><li><p>æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°å£°æ˜ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨functionå…³é”®å­—å£°æ˜çš„å‡½æ•°ã€‚åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºæŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚å¦‚æœå‡½æ•°åçš„å±æ€§å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥å±æ€§å°†ä¼šè¢«æ–°çš„å¼•ç”¨æ‰€è¦†ç›–ã€‚</p></li><li><p>æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå˜é‡å£°æ˜ï¼Œå°±åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºundefinedã€‚å¦‚æœè¯¥å˜é‡åçš„å±æ€§å·²ç»å­˜åœ¨ï¼Œä¸ºäº†é˜²æ­¢åŒåçš„å‡½æ•°è¢«ä¿®æ”¹ä¸ºundefinedï¼Œåˆ™ä¼šç›´æ¥è·³è¿‡ï¼ŒåŸå±æ€§å€¼ä¸ä¼šè¢«ä¿®æ”¹ã€‚</p></li></ul><h3 id="æ´»åŠ¨å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#æ´»åŠ¨å¯¹è±¡" aria-hidden="true">#</a> æ´»åŠ¨å¯¹è±¡</h3><p>å˜é‡å¯¹è±¡ä¸æ´»åŠ¨å¯¹è±¡å…¶å®éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚ä¸è¿‡åªæœ‰å¤„äºå‡½æ•°è°ƒç”¨æ ˆæ ˆé¡¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ï¼Œæ‰ä¼šå˜æˆæ´»åŠ¨å¯¹è±¡ã€‚</p><h3 id="æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" aria-hidden="true">#</a> æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h3><ul><li>æ‰§è¡Œä¸Šä¸‹æ–‡å¯ä»¥ç†è§£ä¸ºå½“å‰ä»£ç çš„æ‰§è¡Œç¯å¢ƒï¼ŒJavaScriptä¸­çš„è¿è¡Œç¯å¢ƒå¤§æ¦‚åŒ…æ‹¬ä¸‰ç§æƒ…å†µï¼š <ul><li>å…¨å±€ç¯å¢ƒï¼šJavaScriptä»£ç è¿è¡Œèµ·æ¥ä¼šé¦–å…ˆè¿›å…¥è¯¥ç¯å¢ƒ</li><li>å‡½æ•°ç¯å¢ƒï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ‰§è¡Œæ—¶ï¼Œä¼šè¿›å…¥å½“å‰å‡½æ•°ä¸­æ‰§è¡Œä»£ç </li><li>eval</li></ul></li></ul><p>åœ¨ä»£ç å¼€å§‹æ‰§è¡Œæ—¶ï¼Œé¦–å…ˆä¼šäº§ç”Ÿä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šäº§ç”Ÿå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå‡½æ•°è°ƒç”¨å®Œæˆåï¼Œå®ƒçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä»¥åŠå…¶ä¸­çš„æ•°æ®éƒ½ä¼šè¢«é”€æ¯ï¼Œé‡æ–°å›åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œç½‘é¡µå…³é—­åå…¨å±€æ‰§è¡Œç¯å¢ƒä¹Ÿä¼šé”€æ¯ã€‚å…¶å®è¿™æ˜¯ä¸€ä¸ªå‹æ ˆå‡ºæ ˆçš„è¿‡ç¨‹ï¼Œå…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒæ°¸è¿œåœ¨æ ˆåº•ï¼Œè€Œå½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ä¸Šä¸‹æ–‡åœ¨æ ˆé¡¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>             <span class="token comment">// 1.è¿›å…¥å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 3. è¿›å…¥innerå‡½æ•°ä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2. è¿›å…¥outå‡½æ•°ä¸Šä¸‹æ–‡ç¯å¢ƒ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥ä¸Šä»£ç çš„æ‰§è¡Œä¼šç»å†ä»¥ä¸‹è¿‡ç¨‹ï¼š <ul><li>å½“ä»£ç å¼€å§‹æ‰§è¡Œæ—¶å°±åˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå…¨å±€ä¸Šä¸‹æ–‡å…¥æ ˆã€‚</li><li>å…¨å±€ä¸Šä¸‹æ–‡å…¥æ ˆåï¼Œå…¶ä¸­çš„ä»£ç å¼€å§‹æ‰§è¡Œï¼Œè¿›è¡Œèµ‹å€¼ã€å‡½æ•°è°ƒç”¨ç­‰æ“ä½œï¼Œæ‰§è¡Œåˆ°out()æ—¶ï¼Œæ¿€æ´»å‡½æ•°outåˆ›å»ºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œoutå‡½æ•°ä¸Šä¸‹æ–‡å…¥æ ˆã€‚</li><li>outå‡½æ•°ä¸Šä¸‹æ–‡å…¥æ ˆåï¼Œå…¶ä¸­çš„ä»£ç å¼€å§‹æ‰§è¡Œï¼Œè¿›è¡Œèµ‹å€¼ã€å‡½æ•°è°ƒç”¨ç­‰æ“ä½œï¼Œæ‰§è¡Œåˆ°inner()æ—¶ï¼Œæ¿€æ´»å‡½æ•°inneråˆ›å»ºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œinnerå‡½æ•°ä¸Šä¸‹æ–‡å…¥æ ˆã€‚</li><li>innerå‡½æ•°ä¸Šä¸‹æ–‡å…¥æ ˆåï¼Œå…¶ä¸­çš„ä»£ç å¼€å§‹æ‰§è¡Œï¼Œè¿›è¡Œèµ‹å€¼ã€å‡½æ•°è°ƒç”¨ã€æ‰“å°ç­‰æ“ä½œï¼Œç”±äºé‡Œé¢æ²¡æœ‰å¯ä»¥ç”Ÿæˆå…¶ä»–æ‰§è¡Œä¸Šä¸‹æ–‡çš„éœ€è¦ï¼Œæ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œinnerå‡½æ•°ä¸Šä¸‹æ–‡å‡ºæ ˆã€‚</li><li>innerå‡½æ•°ä¸Šä¸‹æ–‡å‡ºæ ˆï¼Œåˆå›åˆ°äº†outå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ¥ç€æ‰§è¡Œoutå‡½æ•°ä¸­åé¢å‰©ä¸‹çš„ä»£ç ï¼Œç”±äºåé¢æ²¡æœ‰å¯ä»¥ç”Ÿæˆå…¶ä»–æ‰§è¡Œä¸Šä¸‹æ–‡çš„éœ€è¦ï¼Œæ‰€æœ‰ä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œoutå‡½æ•°ä¸Šä¸‹æ–‡å‡ºæ ˆã€‚</li><li>outå‡½æ•°ä¸Šä¸‹æ–‡å‡ºæ ˆåï¼Œåˆå›åˆ°äº†å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œç›´åˆ°æµè§ˆå™¨çª—å£å…³é—­ï¼Œå…¨å±€ä¸Šä¸‹æ–‡å‡ºæ ˆã€‚</li></ul></li></ul><h3 id="ä½œç”¨åŸŸä¸æ‰§è¡Œä¸Šä¸‹æ–‡åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ä½œç”¨åŸŸä¸æ‰§è¡Œä¸Šä¸‹æ–‡åŒºåˆ«" aria-hidden="true">#</a> ä½œç”¨åŸŸä¸æ‰§è¡Œä¸Šä¸‹æ–‡åŒºåˆ«</h3><p>ä½œç”¨åŸŸåªæ˜¯ä¸€ä¸ªâ€œåœ°ç›˜â€ï¼Œå…¶ä¸­æ²¡æœ‰å˜é‡ã€‚å˜é‡æ˜¯é€šè¿‡ä½œç”¨åŸŸå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­çš„å˜é‡å¯¹è±¡æ¥å®ç°çš„ã€‚æ‰€ä»¥ä½œç”¨åŸŸæ˜¯é™æ€è§‚å¿µçš„ï¼Œè€Œæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒæ˜¯åŠ¨æ€ä¸Šçš„ã€‚æœ‰é—­åŒ…å­˜åœ¨æ—¶ï¼Œä¸€ä¸ªä½œç”¨åŸŸå­˜åœ¨ä¸¤ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒä¹Ÿæ˜¯æœ‰çš„ã€‚</p><p>åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹ï¼Œå¯¹åŒä¸€ä¸ªå‡½æ•°çš„ä¸åŒçš„è°ƒç”¨ä¼šäº§ç”Ÿä¸åŒçš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œç»§è€Œäº§ç”Ÿä¸åŒçš„å˜é‡çš„å€¼ï¼Œæ‰€ä»¥ï¼Œä½œç”¨åŸŸä¸­å˜é‡çš„å€¼æ˜¯åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ç¡®å®šçš„ï¼Œè€Œä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°åˆ›å»ºæ—¶å°±ç¡®å®šçš„ã€‚</p><p>å¦‚æœè¦æŸ¥æ‰¾ä¸€ä¸ªä½œç”¨åŸŸä¸‹æŸä¸ªå˜é‡çš„å€¼ï¼Œå°±éœ€è¦æ‰¾åˆ°è¿™ä¸ªä½œç”¨åŸŸå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå†åœ¨å…¶ä¸­æ‰¾åˆ°å˜é‡çš„å€¼ã€‚</p><h2 id="å˜é‡æå‡" tabindex="-1"><a class="header-anchor" href="#å˜é‡æå‡" aria-hidden="true">#</a> å˜é‡æå‡</h2><p>åœ¨Javascriptä¸­ï¼Œå‡½æ•°åŠå˜é‡çš„å£°æ˜éƒ½å°†è¢«æå‡åˆ°å‡½æ•°çš„æœ€é¡¶éƒ¨ï¼Œæå‡çš„ä»…ä»…æ˜¯å˜é‡çš„å£°æ˜ï¼Œå˜é‡çš„èµ‹å€¼å¹¶ä¸ä¼šè¢«æå‡ã€‚å‡½æ•°çš„å£°æ˜ä¸å˜é‡çš„å£°æ˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‡½æ•°è¡¨è¾¾å¼å’Œå˜é‡è¡¨è¾¾å¼åªæ˜¯å…¶å£°æ˜è¢«æå‡ï¼Œå‡½æ•°å£°æ˜æ˜¯å‡½æ•°çš„å£°æ˜å’Œå®ç°éƒ½è¢«æå‡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;global foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;global bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//å®šä¹‰å…¨å±€å˜é‡</span>
<span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">&quot;global var&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">hoistMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// var bar; è¢«æå‡åˆ°é¡¶éƒ¨ï¼Œå¹¶æœªå®ç°</span>
  <span class="token comment">// var v;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>

  <span class="token comment">// å‡½æ•°é‡Œé¢å®šä¹‰äº†åŒåçš„å‡½æ•°å’Œå˜é‡ï¼Œæ— è®ºåœ¨å‡½æ•°çš„ä»»ä½•ä½ç½®å®šä¹‰è¿™äº›å‡½æ•°å’Œå’Œå˜é‡ï¼Œå®ƒä»¬éƒ½å°†è¢«æå‡åˆ°å‡½æ•°çš„æœ€é¡¶éƒ¨ã€‚</span>

  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//local foo</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŠ¥é”™ï¼ŒTypeError &quot;bar is not a function&quot;</span>

    <span class="token comment">//å‡½æ•°å£°æ˜ï¼Œå˜é‡fooä»¥åŠå…¶å®ç°è¢«æå‡åˆ°hoistMeå‡½æ•°é¡¶éƒ¨</span>
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;local foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//å‡½æ•°è¡¨è¾¾å¼,ä»…å˜é‡barè¢«æå‡åˆ°å‡½æ•°é¡¶éƒ¨ï¼Œå®ç°æ²¡æœ‰è¢«æå‡</span>
  <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;local bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//å®šä¹‰å±€éƒ¨å˜é‡</span>
  <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="let-å˜é‡æå‡" tabindex="-1"><a class="header-anchor" href="#let-å˜é‡æå‡" aria-hidden="true">#</a> let å˜é‡æå‡</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: a is not defined</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;I am a&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">&quot;I am outside B&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: b is not defined</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">&quot; I am inside B&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœbæ²¡æœ‰å˜é‡æå‡ï¼Œæ‰§è¡Œåˆ°console.logæ—¶åº”è¯¥æ˜¯è¾“å‡ºå…¨å±€ä½œç”¨åŸŸä¸­çš„bï¼Œè€Œä¸æ˜¯å‡ºç°é”™è¯¯ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ¨çŸ¥ï¼Œè¿™é‡Œç¡®å®å‡ºç°äº†å˜é‡æå‡ï¼Œè€Œæˆ‘ä»¬ä¸èƒ½å¤Ÿè®¿é—®çš„åŸå› äº‹å®ä¸Šæ˜¯å› ä¸ºletçš„æ­»åŒºè®¾è®¡ï¼šå½“å‰ä½œç”¨åŸŸé¡¶éƒ¨åˆ°è¯¥å˜é‡å£°æ˜ä½ç½®ä¸­é—´çš„éƒ¨åˆ†ï¼Œéƒ½æ˜¯è¯¥letå˜é‡çš„æ­»åŒºï¼Œåœ¨æ­»åŒºä¸­ï¼Œç¦æ­¢è®¿é—®è¯¥å˜é‡ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬ç»™å‡ºç»“è®ºï¼Œletå£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œ ä½†æ˜¯ç”±äºæ­»åŒºæˆ‘ä»¬æ— æ³•åœ¨å£°æ˜å‰è®¿é—®è¿™ä¸ªå˜é‡ã€‚</p><h3 id="var-let-åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#var-let-åŒºåˆ«" aria-hidden="true">#</a> var let åŒºåˆ«</h3><ul><li><p>varå£°æ˜çš„å˜é‡ï¼Œåªæœ‰å‡½æ•°æ‰èƒ½ä¸ºå®ƒåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼› letå£°æ˜çš„å˜é‡ï¼Œæ”¯æŒå—çº§ä½œç”¨åŸŸï¼ŒèŠ±æ‹¬å·å°±èƒ½ä¸ºå®ƒåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼›</p></li><li><p>ç›¸åŒä½œç”¨åŸŸï¼Œvarå¯ä»¥åå¤å£°æ˜ç›¸åŒæ ‡è¯†ç¬¦çš„å˜é‡ï¼Œè€Œletæ˜¯ä¸å…è®¸çš„;</p></li><li><p>letå£°æ˜çš„å˜é‡ç¦æ­¢åœ¨å£°æ˜å‰è®¿é—®</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å…¨å±€å˜é‡</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
<span class="token comment">// å®šä¹‰å¤–éƒ¨å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// è®¿é—®å…¨å±€å˜é‡</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

    <span class="token keyword">function</span> <span class="token function">inner1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">inner2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
    <span class="token punctuation">}</span>

    <span class="token function">inner1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inner2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é—­åŒ…" tabindex="-1"><a class="header-anchor" href="#é—­åŒ…" aria-hidden="true">#</a> é—­åŒ…</h2><p>é—­åŒ…å°±æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚</p><p>å®˜æ–¹è§£é‡Šï¼šé—­åŒ…æ˜¯ç”±å‡½æ•°ä»¥åŠåˆ›å»ºè¯¥å‡½æ•°çš„è¯æ³•ç¯å¢ƒç»„åˆè€Œæˆã€‚è¿™ä¸ªç¯å¢ƒåŒ…å«äº†è¿™ä¸ªé—­åŒ…åˆ›å»ºæ—¶æ‰€èƒ½è®¿é—®çš„æ‰€æœ‰å±€éƒ¨å˜é‡ã€‚(è¯æ³•ä½œç”¨åŸŸ) é€šä¿—è§£é‡Šï¼šé—­åŒ…çš„å…³é”®åœ¨äºï¼šå¤–éƒ¨å‡½æ•°è°ƒç”¨ä¹‹åå…¶å˜é‡å¯¹è±¡æœ¬åº”è¯¥è¢«é”€æ¯ï¼Œä½†é—­åŒ…çš„å­˜åœ¨ä½¿æˆ‘ä»¬ä»ç„¶å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°çš„å˜é‡å¯¹è±¡ã€‚</p><p>å½“æŸä¸ªå‡½æ•°è¢«æ‰ç”¨çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒåŠç›¸åº”çš„ä½œç”¨åŸŸé“¾ã€‚ç„¶åä½¿ç”¨argumentså’Œå…¶ä»–å‘½åå‚æ•°çš„å€¼æ¥åˆå§‹åŒ–å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ã€‚ä½†åœ¨ä½œç”¨åŸŸé“¾ä¸­ï¼Œå¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å§‹ç»ˆå¤„äºç¬¬äºŒä½ï¼Œå¤–éƒ¨å‡½æ•°çš„å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å¤„äºç¬¬ä¸‰ä½...ç›´è‡³ä½œä¸ºä½œç”¨åŸŸé“¾ç»ˆç‚¹çš„å…¨å±€æ‰§è¡Œç¯å¢ƒã€‚</p><p>ä½œç”¨åŸŸé“¾æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ï¼Œä»–åªå¼•ç”¨ä½†ä¸å®é™…åŒ…å«å˜é‡å¯¹è±¡ã€‚</p><p>æ— è®ºä»€ä¹ˆæ—¶å€™åœ¨å‡½æ•°ä¸­è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œå°±ä¼šä»ä½œç”¨åŸŸé“¾ä¸­æœç´¢å…·æœ‰ç›¸åŒåå­—çš„å˜é‡ï¼Œä¸€èˆ¬æ¥è®²ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œå±€éƒ¨æ´»åŠ¨å¯¹è±¡å°±ä¼šè¢«é”€æ¯ï¼Œå†…å­˜ä¸­ä»…ä¿å­˜å…¨éƒ¨ä½œç”¨åŸŸçš„æ´»åŠ¨å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œé—­åŒ…ä¸åŒã€‚</p><p>åˆ›å»ºé—­åŒ…: åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> closure<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// é—­åŒ…çš„ä½œç”¨åŸŸé“¾åŒ…å«ç€å®ƒè‡ªå·±çš„ä½œç”¨åŸŸï¼Œä»¥åŠåŒ…å«å®ƒçš„å‡½æ•°çš„ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸ</h3><p>é€šå¸¸ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåŠå…¶æ‰€æœ‰å˜é‡éƒ½ä¼šåœ¨å‡½æ•°æ‰§è¡Œç»“æŸåè¢«é”€æ¯ã€‚ä½†æ˜¯ï¼Œåœ¨åˆ›å»ºäº†ä¸€ä¸ªé—­åŒ…ä»¥åï¼Œè¿™ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸå°±ä¼šä¸€ç›´ä¿å­˜åˆ°é—­åŒ…ä¸å­˜åœ¨ä¸ºæ­¢ã€‚</p><p>å½“é—­åŒ…ä¸­çš„å‡½æ•°closureä»addä¸­è¿”å›åï¼Œå®ƒçš„ä½œç”¨åŸŸé“¾è¢«åˆå§‹åŒ–ä¸ºåŒ…å«addå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å’Œå…¨å±€å˜é‡å¯¹è±¡ã€‚è¿™æ ·closureå°±å¯ä»¥è®¿é—®åœ¨addä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡ã€‚</p><p>æ›´é‡è¦çš„æ˜¯ï¼Œaddå‡½æ•°åœ¨æ‰§è¡Œå®Œæ¯•åï¼Œä¹Ÿä¸ä¼šé”€æ¯ï¼Œå› ä¸ºclosureå‡½æ•°çš„ä½œç”¨åŸŸé“¾ä»ç„¶åœ¨å¼•ç”¨è¿™ä¸ªæ´»åŠ¨å¯¹è±¡ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œå½“addè¿”å›åï¼Œå…¶æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾è¢«é”€æ¯ï¼Œä½†å®ƒçš„æ´»åŠ¨å¯¹è±¡ä»ç„¶åœ¨å†…å­˜ä¸­ï¼Œç›´è‡³closureè¢«é”€æ¯ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> closure<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> add2 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> add5 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// add2 å’Œ add5 å…±äº«ç›¸åŒçš„å‡½æ•°å®šä¹‰ï¼Œä½†æ˜¯ä¿å­˜äº†ä¸åŒçš„ç¯å¢ƒ</span>
<span class="token comment">// åœ¨add2çš„ç¯å¢ƒä¸­ï¼Œxä¸º5ã€‚è€Œåœ¨add5ä¸­ï¼Œxåˆ™ä¸º10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add5</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>

<span class="token comment">// é‡Šæ”¾é—­åŒ…çš„å¼•ç”¨</span>
add2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
add5 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é—­åŒ…ä¸­çš„thiså¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#é—­åŒ…ä¸­çš„thiså¯¹è±¡" aria-hidden="true">#</a> é—­åŒ…ä¸­çš„thiså¯¹è±¡</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;window&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>obj.getName()()æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨äº†åŒ¿åå‡½æ•°ï¼ŒthisæŒ‡å‘äº†windowã€‚ å‡½æ•°åä¸å‡½æ•°åŠŸèƒ½æ˜¯åˆ†å‰²å¼€çš„ï¼Œä¸è¦è®¤ä¸ºå‡½æ•°åœ¨å“ªé‡Œï¼Œå…¶å†…éƒ¨çš„thiså°±æŒ‡å‘å“ªé‡Œã€‚ windowæ‰æ˜¯åŒ¿åå‡½æ•°åŠŸèƒ½æ‰§è¡Œçš„ç¯å¢ƒã€‚</p><ul><li><p>ä½¿ç”¨æ³¨æ„ç‚¹</p><ul><li>ç”±äºé—­åŒ…ä¼šè®©åŒ…å«å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨IEä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</li><li>é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚</li></ul></li><li><p>ä½¿ç”¨</p><ul><li>æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ</li><li>ç§æœ‰å˜é‡</li><li>æ¨¡å—æ¨¡å¼</li></ul></li></ul><p>åœ¨å¾ªç¯ä¸­åˆ›å»ºé—­åŒ…ï¼šä¸€ä¸ªå¸¸è§é”™è¯¯</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">showCallback</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•1ã€3ï¼Œ3ï¼Œ3ã€‘</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// var i;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•2 ã€0ï¼Œ1ï¼Œ2ã€‘</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">showCallback</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•3ã€0ï¼Œ1ï¼Œ 2ã€‘ é—­åŒ…,ç«‹å³æ‰§è¡Œå‡½æ•°</span>
<span class="token comment">// åœ¨é—­åŒ…å‡½æ•°å†…éƒ¨å½¢æˆäº†å±€éƒ¨ä½œç”¨åŸŸï¼Œæ¯å¾ªç¯ä¸€æ¬¡ï¼Œå½¢æˆä¸€ä¸ªè‡ªå·±çš„å±€éƒ¨ä½œç”¨åŸŸ</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•4ã€0ï¼Œ1ï¼Œ 2ã€‘let</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>setTimeout()å‡½æ•°å›è°ƒå±äºå¼‚æ­¥ä»»åŠ¡ï¼Œä¼šå‡ºç°åœ¨å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œè¢«å‹åˆ°äº†ä»»åŠ¡é˜Ÿåˆ—çš„æœ€åï¼Œåœ¨è¿™æ®µä»£ç åº”è¯¥æ˜¯forå¾ªç¯è¿™ä¸ªåŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆåæ‰ä¼šè½®åˆ°å®ƒ</p><p>æµ‹è¯•1é”™è¯¯åŸå› ï¼šèµ‹å€¼ç»™ setTimeout çš„æ˜¯é—­åŒ…ã€‚è¿™äº›é—­åŒ…æ˜¯ç”±ä»–ä»¬çš„å‡½æ•°å®šä¹‰å’Œåœ¨ testFunc1 ä½œç”¨åŸŸä¸­æ•è·çš„ç¯å¢ƒæ‰€ç»„æˆçš„ã€‚è¿™ä¸‰ä¸ªé—­åŒ…åœ¨å¾ªç¯ä¸­è¢«åˆ›å»ºï¼Œä½†ä»–ä»¬å…±äº«äº†åŒä¸€ä¸ªè¯æ³•ä½œç”¨åŸŸï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­å­˜åœ¨ä¸€ä¸ªå˜é‡iã€‚è¿™æ˜¯å› ä¸ºå˜é‡iä½¿ç”¨varè¿›è¡Œå£°æ˜ï¼Œç”±äºå˜é‡æå‡ï¼Œæ‰€ä»¥å…·æœ‰å‡½æ•°ä½œç”¨åŸŸã€‚å½“onfocusçš„å›è°ƒæ‰§è¡Œæ—¶ï¼Œiçš„å€¼è¢«å†³å®šã€‚ç”±äºå¾ªç¯åœ¨äº‹ä»¶è§¦å‘ä¹‹å‰æ—©å·²æ‰§è¡Œå®Œæ¯•ï¼Œå˜é‡å¯¹è±¡iï¼ˆè¢«ä¸‰ä¸ªé—­åŒ…æ‰€å…±äº«ï¼‰å·²ç»æŒ‡å‘äº†içš„æœ€åä¸€ä¸ªå€¼ã€‚</p><p>æµ‹è¯•2æ­£ç¡®åŸå› : æ‰€æœ‰çš„å›è°ƒä¸å†å…±äº«åŒä¸€ä¸ªç¯å¢ƒï¼Œ showCallback å‡½æ•°ä¸ºæ¯ä¸€ä¸ªå›è°ƒåˆ›å»ºä¸€ä¸ªæ–°çš„è¯æ³•ç¯å¢ƒã€‚åœ¨è¿™äº›ç¯å¢ƒä¸­ï¼Œi æŒ‡å‘æ•°ç»„ä¸­å¯¹åº”çš„ä¸‹æ ‡ã€‚</p><p>æµ‹è¯•4æ­£ç¡®åŸå› ï¼šJSä¸­çš„forå¾ªç¯ä½“æ¯”è¾ƒç‰¹æ®Šï¼Œæ¯æ¬¡æ‰§è¡Œéƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„ç‹¬ç«‹çš„å—ä½œç”¨åŸŸï¼Œç”¨letå£°æ˜çš„å˜é‡ä¼ å…¥åˆ° forå¾ªç¯ä½“çš„ä½œç”¨åŸŸåï¼Œä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä¸å—å¤–ç•Œçš„å½±å“ã€‚</p><h2 id="thisæŒ‡å‘é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#thisæŒ‡å‘é—®é¢˜" aria-hidden="true">#</a> thisæŒ‡å‘é—®é¢˜</h2><p>this å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æˆ‘ä»¬è°ƒç”¨å‡½æ•°çš„å¯¹è±¡ã€‚ æ‰§è¡Œä¸Šä¸‹æ–‡: æ˜¯è¯­è¨€è§„èŒƒä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œç”¨é€šä¿—çš„è¯è®²ï¼Œå¤§è‡´ç­‰åŒäºå‡½æ•°çš„æ‰§è¡Œâ€œç¯å¢ƒâ€ã€‚å…·ä½“çš„æœ‰ï¼šå˜é‡ä½œç”¨åŸŸï¼ˆå’Œ ä½œç”¨åŸŸé“¾æ¡ï¼Œé—­åŒ…é‡Œé¢æ¥è‡ªå¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼‰ï¼Œå‡½æ•°å‚æ•°ï¼Œä»¥åŠ this å¯¹è±¡çš„å€¼ã€‚ æ‰¾å‡º this çš„æŒ‡å‘ this çš„å€¼å¹¶ä¸æ˜¯ç”±å‡½æ•°å®šä¹‰æ”¾åœ¨å“ªä¸ªå¯¹è±¡é‡Œé¢å†³å®šï¼Œè€Œæ˜¯å‡½æ•°æ‰§è¡Œæ—¶ç”±è°æ¥å”¤èµ·å†³å®šã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;Jay Global&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jay Person&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">details</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jay Details&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">print</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">print</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>details<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ã€detailså¯¹è±¡è°ƒç”¨çš„printã€‘Jay Details</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// ã€personå¯¹è±¡è°ƒç”¨çš„printã€‘Jay Person</span>

<span class="token keyword">var</span> name1 <span class="token operator">=</span> person<span class="token punctuation">.</span>print<span class="token punctuation">;</span>
<span class="token keyword">var</span> name2 <span class="token operator">=</span> person<span class="token punctuation">.</span>details<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">name1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ã€name1å‰é¢æ²¡æœ‰è°ƒç”¨å¯¹è±¡ï¼Œæ‰€ä»¥æ˜¯windowã€‘Jay Global</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ã€name2å¯¹è±¡è°ƒç”¨çš„printã€‘Jay Details</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>thiså’Œç®­å¤´å‡½æ•°</strong></p><p>ç®­å¤´å‡½æ•°æŒ‰è¯æ³•ä½œç”¨åŸŸæ¥ç»‘å®šå®ƒçš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ this å®é™…ä¸Šä¼šå¼•ç”¨åˆ°åŸæ¥çš„ä¸Šä¸‹æ–‡ã€‚ç®­å¤´å‡½æ•°ä¿æŒå®ƒå½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„è¯æ³•ä½œç”¨åŸŸä¸å˜ï¼Œè€Œæ™®é€šå‡½æ•°åˆ™ä¸ä¼šã€‚æ¢å¥è¯è¯´ï¼Œç®­å¤´å‡½æ•°ä»åŒ…å«å®ƒçš„è¯æ³•ä½œç”¨åŸŸä¸­ç»§æ‰¿åˆ°äº† this çš„å€¼ã€‚ åŒ¿åå‡½æ•°ï¼Œå®ƒä¸ä¼šä½œä¸ºæŸä¸ªå¯¹è±¡çš„æ–¹æ³•è¢«è°ƒç”¨, å› æ­¤ï¼Œthis å…³é”®è¯æŒ‡å‘äº†å…¨å±€ window å¯¹è±¡ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataDouble</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">double</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// thisæ˜¯å½“å‰object,objectè°ƒç”¨çš„double</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ä¼ ç»™map()çš„é‚£ä¸ªåŒ¿åå‡½æ•°æ²¡æœ‰è¢«ä»»ä¸€å¯¹è±¡è°ƒç”¨ï¼Œæ‰€ä»¥æ˜¯window</span>
            <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">doubleArrow</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataDouble<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// thisæ˜¯å½“å‰object,objectè°ƒç”¨çš„doubleArrow</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// doubleArrowæ˜¯objectè°ƒç”¨çš„ï¼Œè¿™å°±æ˜¯ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥æ˜¯window</span>
            <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">doubleArrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜ç¡®è®¾ç½®æ‰§è¡Œä¸Šä¸‹æ–‡</p><ul><li>åœ¨ JavaScript ä¸­é€šè¿‡ä½¿ç”¨å†…ç½®çš„ç‰¹æ€§å¼€å‘è€…å°±å¯ä»¥ç›´æ¥æ“ä½œæ‰§è¡Œä¸Šä¸‹æ–‡äº†ã€‚è¿™äº›ç‰¹æ€§åŒ…æ‹¬ï¼š <ul><li>bind()ï¼šä¸éœ€è¦æ‰§è¡Œå‡½æ•°å°±å¯ä»¥å°† this çš„å€¼å‡†ç¡®è®¾ç½®åˆ°ä½ é€‰æ‹©çš„ä¸€ä¸ªå¯¹è±¡ä¸Šã€‚é€šè¿‡é€—å·éš”å¼€ä¼ é€’å¤šä¸ªå‚æ•°ã€‚è®¾ç½®å¥½ this å…³é”®è¯åä¸ä¼šç«‹åˆ»æ‰§è¡Œå‡½æ•°ã€‚</li><li>apply()ï¼šå°† this çš„å€¼å‡†ç¡®è®¾ç½®åˆ°ä½ é€‰æ‹©çš„ä¸€ä¸ªå¯¹è±¡ä¸Šã€‚apply(thisObj, argArray)æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒthisObjæ˜¯å‡½æ•°è¿è¡Œçš„ä½œç”¨åŸŸï¼ˆthisï¼‰ï¼ŒargArrayæ˜¯å‚æ•°æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯ä½ å¸Œæœ›ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€‚å¦‚æœæ²¡æœ‰æä¾›argArrayå’ŒthisObjä»»ä½•ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆGlobalå¯¹è±¡å°†ç”¨ä½œthisObjã€‚æœ€åï¼Œä¼šç«‹åˆ»æ‰§è¡Œå‡½æ•°ã€‚</li><li>call()ï¼šå°† this çš„å€¼å‡†ç¡®è®¾ç½®åˆ°ä½ é€‰æ‹©çš„ä¸€ä¸ªå¯¹è±¡ä¸Šã€‚ç„¶ååƒbind ä¸€æ ·é€šè¿‡é€—å·åˆ†éš”ä¼ é€’å¤šä¸ªå‚æ•°ç»™å‡½æ•°ã€‚è¯­æ³•ï¼šcall(thisObj,arg1,arg2,..., argn);ï¼Œå¦‚æœæ²¡æœ‰æä¾›thisObjå‚æ•°ï¼Œé‚£ä¹ˆGlobalå¯¹è±¡è¢«ç”¨äºthisObjã€‚æœ€åï¼Œä¼šç«‹åˆ»æ‰§è¡Œå‡½æ•°ã€‚</li></ul></li></ul><p><strong>this å’Œ bind</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> bobObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> printNameBob <span class="token operator">=</span> <span class="token function">print</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>bobObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">printNameBob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Bob</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>this å’Œ call</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> add<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>this å’Œ apply</strong></p><p>apply å°±æ˜¯æ¥å—æ•°ç»„ç‰ˆæœ¬çš„callã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 1</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› NaNã€‚åªæ¥å—æ•°å­—</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 1</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Person.call(this, name, age);</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;sansan&quot;</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸€å¹´çº§&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;student:&quot;</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &#39;sansan&#39;; age: &#39;21&#39;, grade: &#39;ä¸€å¹´çº§&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¦‚æœä½ çš„å‚æ•°æœ¬æ¥å°±å­˜åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œé‚£è‡ªç„¶å°±ç”¨ applyï¼Œå¦‚æœå‚æ•°æ¯”è¾ƒæ•£ä¹±ç›¸äº’ä¹‹é—´æ²¡ä»€ä¹ˆå…³è”ï¼Œå°±ç”¨ callã€‚</p></blockquote><h2 id="å¯¹è±¡å±æ€§ç±»å‹" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡å±æ€§ç±»å‹" aria-hidden="true">#</a> å¯¹è±¡å±æ€§ç±»å‹</h2><blockquote><p>æ•°æ®å±æ€§</p></blockquote><ul><li>æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ï¼Œåœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ï¼Œæ•°æ®å±æ€§æœ‰4ä¸ªæè¿°å…¶è¡Œä¸ºçš„ç‰¹æ€§ï¼š <ul><li>Configurable: è¡¨ç¤ºæ˜¯å¦é€šè¿‡deleteåˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚é»˜è®¤å€¼æ˜¯true</li><li>Enumerable: è¡¨ç¤ºèƒ½å¦é€šè¿‡for-inå¾ªç¯è¿”å›å±æ€§ã€‚é»˜è®¤å€¼æ˜¯true</li><li>Writable: è¡¨è¿°èƒ½å¦ä¿®æ”¹å±æ€§ã€‚é»˜è®¤å€¼æ˜¯true</li><li>Value: åŒ…å«è¿™ä¸ªå±æ€§çš„æ•°æ®å€¼ã€‚é»˜è®¤å€¼æ˜¯true</li></ul></li></ul><blockquote><p>è®¿é—®å™¨å±æ€§</p></blockquote><h2 id="å‡½æ•°å¼ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å¼ç¼–ç¨‹" aria-hidden="true">#</a> å‡½æ•°å¼ç¼–ç¨‹</h2><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œæ˜¯ä¸€ç§æ„å»ºè®¡ç®—æœºç¨‹åºç»“æ„å’Œå…ƒç´ çš„é£æ ¼ï¼Œå®ƒæŠŠè®¡ç®—çœ‹ä½œæ˜¯å¯¹æ•°å­¦å‡½æ•°çš„è¯„ä¼°ï¼Œé¿å…äº†çŠ¶æ€çš„å˜åŒ–å’Œæ•°æ®çš„å¯å˜ã€‚</p><h3 id="çº¯å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#çº¯å‡½æ•°" aria-hidden="true">#</a> çº¯å‡½æ•°</h3><p>çº¯å‡½æ•°æ˜¯ç¨³å®šçš„ã€ä¸€è‡´çš„å’Œå¯é¢„æµ‹çš„ã€‚ç»™å®šç›¸åŒçš„å‚æ•°ï¼Œçº¯å‡½æ•°æ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚</p><h3 id="ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ€§" aria-hidden="true">#</a> ç‰¹æ€§</h3><ol><li>å¦‚æœç»™å®šç›¸åŒçš„å‚æ•°ï¼Œåˆ™å¾—åˆ°ç›¸åŒçš„ç»“æœ</li></ol><p>æˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªè®¡ç®—åœ†çš„é¢ç§¯çš„å‡½æ•°ã€‚ ä¸æ˜¯çº¯å‡½æ•°ä¼šè¿™æ ·åš:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">calculateArea</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> radius <span class="token operator">*</span> radius <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">;</span>
<span class="token comment">// å®ƒä½¿ç”¨äº†ä¸€ä¸ªæ²¡æœ‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„å…¨å±€å¯¹è±¡</span>
<span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 314.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çº¯å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">calculateArea</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">radius<span class="token punctuation">,</span> pi</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> radius <span class="token operator">*</span> radius <span class="token operator">*</span> pi<span class="token punctuation">;</span>
<span class="token comment">// ç°åœ¨æŠŠ PI çš„å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œè¿™æ ·å°±æ²¡æœ‰å¤–éƒ¨å¯¹è±¡å¼•å…¥ã€‚</span>
<span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 314.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>æ— æ˜æ˜¾å‰¯ä½œç”¨</li></ol><p>çº¯å‡½æ•°ä¸ä¼šå¼•èµ·ä»»ä½•å¯è§‚å¯Ÿåˆ°çš„å‰¯ä½œç”¨ã€‚å¯è§å‰¯ä½œç”¨çš„ä¾‹å­åŒ…æ‹¬ä¿®æ”¹å…¨å±€å¯¹è±¡æˆ–é€šè¿‡å¼•ç”¨ä¼ é€’çš„å‚æ•°ã€‚</p><p>ç°åœ¨ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°å¹¶è¿”å¯¹è¯¥æ•´æ•°è¿›è¡ŒåŠ 1æ“ä½œä¸”è¿”å›ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">increaseCounter</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counter <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">increaseCounter</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥éçº¯å‡½æ•°æ¥æ”¶è¯¥å€¼å¹¶é‡æ–°åˆ†é…counterï¼Œä½¿å…¶å€¼å¢åŠ 1ã€‚ å‡½æ•°å¼ç¼–ç¨‹ä¸é¼“åŠ±å¯å˜æ€§(ä¿®æ”¹å…¨å±€å¯¹è±¡)ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">increaseCounter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">// å‡½æ•°è¿”å›é€’å¢çš„å€¼ï¼Œè€Œä¸æ”¹å˜å˜é‡çš„å€¼</span>
<span class="token function">increaseCounter</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>å¼•ç”¨é€æ˜æ€§</li></ol><p>å¦‚æœä¸€ä¸ªå‡½æ•°å¯¹äºç›¸åŒçš„è¾“å…¥å§‹ç»ˆäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œé‚£ä¹ˆå®ƒå¯ä»¥çœ‹ä½œé€æ˜çš„ã€‚ å®ç°ä¸€ä¸ªsquare å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">*</span> n<span class="token punctuation">;</span>
<span class="token function">square</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4 å°†2ä½œä¸ºsquareå‡½æ•°çš„å‚æ•°ä¼ é€’å§‹ç»ˆä¼šè¿”å›4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æŠŠsquare(2)æ¢æˆ4ï¼Œæˆ‘ä»¬çš„å‡½æ•°å°±æ˜¯å¼•ç”¨é€æ˜çš„ã€‚</p><h3 id="çº¯å‡½æ•°ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#çº¯å‡½æ•°ä½¿ç”¨" aria-hidden="true">#</a> çº¯å‡½æ•°ä½¿ç”¨</h3><p><strong>å•å…ƒæµ‹è¯•</strong></p><p>çº¯å‡½æ•°ä»£ç è‚¯å®šæ›´å®¹æ˜“æµ‹è¯•ï¼Œä¸éœ€è¦ mock ä»»ä½•ä¸œè¥¿ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸åŒçš„ä¸Šä¸‹æ–‡å¯¹çº¯å‡½æ•°è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p><p>ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯æ¥æ”¶ä¸€ç»„æ•°å­—ï¼Œå¹¶å¯¹æ¯ä¸ªæ•°è¿›è¡ŒåŠ  1 :</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">incrementNumbers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">number</span> <span class="token operator">=&gt;</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">incrementNumbers</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5, 6]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºè¾“å…¥[1,2,3,4,5]ï¼Œé¢„æœŸè¾“å‡ºæ˜¯[2,3,4,5,6]ã€‚</p><p><strong>çº¯å‡½æ•°ä¹Ÿå¯ä»¥è¢«çœ‹ä½œæˆå€¼å¹¶ç”¨ä½œæ•°æ®ä½¿ç”¨</strong></p><ul><li><p>ä»å¸¸é‡å’Œå˜é‡ä¸­å¼•ç”¨å®ƒã€‚</p></li><li><p>å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚</p></li><li><p>ä½œä¸ºå…¶ä»–å‡½æ•°çš„ç»“æœè¿”å›å®ƒã€‚</p></li></ul><p>å…¶æ€æƒ³æ˜¯å°†å‡½æ•°è§†ä¸ºå€¼ï¼Œå¹¶å°†å‡½æ•°ä½œä¸ºæ•°æ®ä¼ é€’ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»„åˆä¸åŒçš„å‡½æ•°æ¥åˆ›å»ºå…·æœ‰æ–°è¡Œä¸ºçš„æ–°å‡½æ•°ã€‚</p><p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯¹ä¸¤ä¸ªå€¼æ±‚å’Œï¼Œç„¶åå°†å€¼åŠ å€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doubleSum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯¹åº”ä¸¤ä¸ªå€¼æ±‚å·®ï¼Œç„¶åå°†å€¼åŠ å€ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doubleSubtraction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™äº›å‡½æ•°å…·æœ‰ç›¸ä¼¼çš„é€»è¾‘ï¼Œä½†åŒºåˆ«åœ¨äºè¿ç®—ç¬¦çš„åŠŸèƒ½ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°è§†ä¸ºå€¼å¹¶å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªæ¥æ”¶è¿ç®—ç¬¦å‡½æ•°å¹¶åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨å®ƒçš„å‡½æ•°ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">subtraction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">doubleOperator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function">doubleOperator</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token function">doubleOperator</span><span class="token punctuation">(</span>subtraction<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise" tabindex="-1"><a class="header-anchor" href="#promise" aria-hidden="true">#</a> Promise</h2><p>Promise å¿…é¡»ä¸ºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼šç­‰å¾…æ€ï¼ˆPendingï¼‰ã€æ‰§è¡Œæ€ï¼ˆFulfilledï¼‰å’Œæ‹’ç»æ€ï¼ˆRejectedï¼‰ã€‚ä¸€æ—¦Promise è¢« resolve æˆ– rejectï¼Œä¸èƒ½å†è¿ç§»è‡³å…¶ä»–ä»»ä½•çŠ¶æ€ï¼ˆå³çŠ¶æ€ immutableï¼‰ã€‚</p><ul><li>åŸºæœ¬è¿‡ç¨‹ï¼š <ul><li>åˆå§‹åŒ– Promise çŠ¶æ€ï¼ˆpendingï¼‰</li><li>æ‰§è¡Œ then(..) æ³¨å†Œå›è°ƒå¤„ç†æ•°ç»„ï¼ˆthen æ–¹æ³•å¯è¢«åŒä¸€ä¸ª promise è°ƒç”¨å¤šæ¬¡ï¼‰</li><li>ç«‹å³æ‰§è¡Œ Promise ä¸­ä¼ å…¥çš„ fn å‡½æ•°ï¼Œå°†Promise å†…éƒ¨ resolveã€reject å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™ fn ï¼ŒæŒ‰äº‹ä»¶æœºåˆ¶æ—¶æœºå¤„ç†</li><li>Promiseä¸­è¦ä¿è¯ï¼Œthenæ–¹æ³•ä¼ å…¥çš„å‚æ•° onFulfilled å’Œ onRejectedï¼Œå¿…é¡»åœ¨thenæ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€è½®äº‹ä»¶å¾ªç¯ä¹‹åçš„æ–°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œã€‚</li></ul></li></ul><p>çœŸæ­£çš„é“¾å¼Promiseæ˜¯æŒ‡åœ¨å½“å‰promiseè¾¾åˆ°fulfilledçŠ¶æ€åï¼Œå³å¼€å§‹è¿›è¡Œä¸‹ä¸€ä¸ªpromise.</p><h2 id="è·¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#è·¨åŸŸ" aria-hidden="true">#</a> è·¨åŸŸ</h2><p>å› ä¸ºæµè§ˆå™¨çš„åŒæºç­–ç•¥å¯¼è‡´äº†è·¨åŸŸã€‚åŒæºç­–ç•¥æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªoriginçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚</p><p>æ‰€è°“åŒæºæ˜¯æŒ‡&quot;åè®®+åŸŸå+ç«¯å£&quot;ä¸‰è€…ç›¸åŒã€‚ä¸åŒåè®®ï¼Œä¸åŒåŸŸåï¼Œä¸åŒç«¯å£éƒ½ä¼šæ„æˆè·¨åŸŸã€‚</p><ul><li>è·¨åŸŸè§£å†³æ–¹æ¡ˆ <ul><li>jsonp: éœ€è¦æœåŠ¡å™¨é…åˆä¸€ä¸ªcallbackå‡½æ•°</li><li>CORS: éœ€è¦æœåŠ¡å™¨è®¾ç½®header ï¼šAccess-Control-Allow-Origin</li><li>window.name + iframe: éœ€è¦ç›®æ ‡æœåŠ¡å™¨å“åº”window.nameã€‚</li><li>document.domain : ä»…é™ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒçš„è·¨åŸŸåº”ç”¨åœºæ™¯ã€‚</li><li>html5çš„ postMessage + iframe: éœ€è¦æœåŠ¡å™¨æˆ–è€…ç›®æ ‡é¡µé¢å†™ä¸€ä¸ªpostMessageï¼Œä¸»è¦ä¾§é‡äºå‰ç«¯é€šè®¯ã€‚</li><li>nginxåå‘ä»£ç†: ä¸ç”¨æœåŠ¡å™¨é…åˆï¼Œéœ€è¦æ­å»ºä¸€ä¸ªä¸­è½¬nginxæœåŠ¡å™¨ï¼Œç”¨äºè½¬å‘è¯·æ±‚ã€‚</li></ul></li></ul><h3 id="jsonpè·¨åŸŸ" tabindex="-1"><a class="header-anchor" href="#jsonpè·¨åŸŸ" aria-hidden="true">#</a> jsonpè·¨åŸŸ</h3><p>åœ¨HTMLæ ‡ç­¾é‡Œï¼Œä¸€äº›æ ‡ç­¾æ¯”å¦‚scriptã€imgè¿™æ ·çš„è·å–èµ„æºçš„æ ‡ç­¾æ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ã€‚é€šè¿‡åŠ¨æ€åˆ›å»ºscriptï¼Œå†è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€å®ç°è·¨åŸŸé€šä¿¡ã€‚</p><p>éœ€è¦å‰åç«¯é…åˆä½¿ç”¨ã€‚ä¸€èˆ¬åç«¯è®¾ç½®callback ï¼Œå‰ç«¯ç»™åå°æ¥å£ä¸­ä¼ ä¸€ä¸ªcallback å³å¯ã€‚</p><p>åªèƒ½å®ç°getä¸€ç§è¯·æ±‚ã€‚</p><p>æ —å­</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span><span class="token punctuation">;</span>

    <span class="token comment">// ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªåœ¨å‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://xxxxxxx:8080/login?callback=handleCallback&#39;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">handleCallback</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cors-è·¨åŸŸèµ„æºå…±äº«" tabindex="-1"><a class="header-anchor" href="#cors-è·¨åŸŸèµ„æºå…±äº«" aria-hidden="true">#</a> CORS - è·¨åŸŸèµ„æºå…±äº«</h3><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰ã€‚</p><p>CORSæœ‰ä¸¤ç§è¯·æ±‚ï¼Œç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ã€‚åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ã€‚</p><p>è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼šHEADï¼ŒGETï¼ŒPOST</p><p>HTTPçš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼šAcceptï¼ŒAccept-Languageï¼ŒContent-Languageï¼ŒLast-Event-IDï¼ŒContent-Typeã€åªé™äºä¸‰ä¸ªå€¼application/x-www-form-urlencodedã€multipart/form-dataã€text/plainã€‘ï¼Œæ²¡æœ‰è‡ªå®šä¹‰çš„HTTPå¤´éƒ¨ã€‚</p><ul><li>ç®€å•è¯·æ±‚ <ul><li>æµè§ˆå™¨ï¼šæŠŠå®¢æˆ·ç«¯è„šæœ¬æ‰€åœ¨çš„åŸŸå¡«å……åˆ°Origin headeré‡Œï¼Œå‘å…¶ä»–åŸŸçš„æœåŠ¡å™¨è¯·æ±‚èµ„æºã€‚</li><li>æœåŠ¡å™¨ï¼šæ ¹æ®èµ„æºæƒé™é…ç½®ï¼Œåœ¨å“åº”å¤´ä¸­æ·»åŠ Access-Control-Allow-Origin Headerï¼Œè¿”å›ç»“æœã€‚</li><li>æµè§ˆå™¨ï¼šæ¯”è¾ƒæœåŠ¡å™¨è¿”å›çš„Access-Control-Allow-Origin Headerå’Œè¯·æ±‚åŸŸçš„Originã€‚å¦‚æœå½“å‰åŸŸå·²ç»å¾—åˆ°æˆæƒï¼Œåˆ™å°†ç»“æœè¿”å›ç»™é¡µé¢ã€‚å¦åˆ™æµè§ˆå™¨å¿½ç•¥æ­¤æ¬¡å“åº”ã€‚</li><li>ç½‘é¡µï¼šæ”¶åˆ°è¿”å›ç»“æœæˆ–è€…æµè§ˆå™¨çš„é”™è¯¯æç¤ºã€‚</li></ul></li></ul><p>å¯¹äºç®€å•çš„è·¨åŸŸè¯·æ±‚ï¼Œåªè¦æœåŠ¡å™¨è®¾ç½®çš„Access-Control-Allow-Origin Headerå’Œè¯·æ±‚æ¥æºåŒ¹é…ï¼Œæµè§ˆå™¨å°±å…è®¸è·¨åŸŸã€‚æœåŠ¡å™¨ç«¯è®¾ç½®çš„`Access-Control-Allow-Methodså’ŒAccess-Control-Allow-Headerså¯¹ç®€å•è·¨åŸŸæ²¡æœ‰ä½œç”¨ã€‚</p><ul><li>éç®€å•è¯·æ±‚ <ul><li>æµè§ˆå™¨ï¼šå…ˆå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªOPTIONSé¢„æ£€è¯·æ±‚ï¼Œæ£€æµ‹æœåŠ¡å™¨ç«¯æ˜¯å¦æ”¯æŒçœŸå®è¯·æ±‚è¿›è¡Œè·¨åŸŸèµ„æºè®¿é—®ï¼Œæµè§ˆå™¨ä¼šåœ¨å‘é€OPTIONSè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨æ·»åŠ Origin Header ã€Access-Control-Request-Method Headerå’ŒAccess-Control-Request-Headers Headerã€‚</li><li>æœåŠ¡å™¨ï¼šå“åº”OPTIONSè¯·æ±‚ï¼Œä¼šåœ¨responseHeadé‡Œæ·»åŠ Access-Control-Allow-Methods headã€‚è¿™å…¶ä¸­çš„methodçš„å€¼æ˜¯æœåŠ¡å™¨ç»™çš„é»˜è®¤å€¼ï¼Œå¯èƒ½ä¸åŒçš„æœåŠ¡å™¨æ·»åŠ çš„å€¼ä¸ä¸€æ ·ã€‚æœåŠ¡å™¨è¿˜ä¼šæ·»åŠ Access-Control-Allow-Origin Headerå’ŒAccess-Control-Allow-Headers Headerã€‚è¿™äº›å–å†³äºæœåŠ¡å™¨å¯¹OPTIONSè¯·æ±‚å…·ä½“å¦‚ä½•åšå‡ºå“åº”ã€‚å¦‚æœæœåŠ¡å™¨å¯¹OPTIONSå“åº”ä¸åˆä½ çš„è¦æ±‚ï¼Œä½ å¯ä»¥æ‰‹åŠ¨åœ¨æœåŠ¡å™¨é…ç½®OPTIONSå“åº”ï¼Œä»¥åº”å¯¹å¸¦é¢„æ£€çš„è·¨åŸŸè¯·æ±‚ã€‚åœ¨é…ç½®æœåŠ¡å™¨OPTIONSçš„å“åº”æ—¶ï¼Œå¯ä»¥æ·»åŠ Access-Control-Max-Age headå‘Šè¯‰æµè§ˆå™¨åœ¨ä¸€å®šæ—¶é—´å†…æ— éœ€å†æ¬¡å‘é€é¢„æ£€è¯·æ±‚ï¼Œä½†æ˜¯å¦‚æœæµè§ˆå™¨ç¦ç”¨ç¼“å­˜åˆ™æ— æ•ˆã€‚</li><li>æµè§ˆå™¨ï¼šæ¥åˆ°OPTIONSçš„å“åº”ï¼Œæ¯”è¾ƒçœŸå®è¯·æ±‚çš„methodæ˜¯å¦å±äºè¿”å›çš„Access-Control-Allow-Methods headçš„å€¼ä¹‹ä¸€ï¼Œè¿˜æœ‰origin, headä¹Ÿä¼šè¿›è¡Œæ¯”è¾ƒæ˜¯å¦åŒ¹é…ã€‚å¦‚æœé€šè¿‡ï¼Œæµè§ˆå™¨å°±ç»§ç»­å‘æœåŠ¡å™¨å‘é€çœŸå®è¯·æ±‚, å¦åˆ™å°±ä¼šæŠ¥é¢„æ£€é”™è¯¯ï¼šè¯·æ±‚æ¥æºä¸è¢«optionså“åº”å…è®¸ï¼Œè¯·æ±‚æ–¹æ³•ä¸è¢«optionså“åº”å…è®¸æˆ–è¯·æ±‚ä¸­æœ‰è‡ªå®šä¹‰headerä¸è¢«optionså“åº”å…è®¸ã€‚</li><li>æœåŠ¡å™¨ï¼šå“åº”çœŸå®è¯·æ±‚ï¼Œåœ¨å“åº”å¤´ä¸­æ”¾å…¥Access-Control-Allow-Origin Headerã€Access-Control-Allow-Methodså’ŒAccess-Control-Allow-Headers Headerï¼Œåˆ†åˆ«è¡¨ç¤ºå…è®¸è·¨åŸŸèµ„æºè¯·æ±‚çš„åŸŸã€è¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚å¤´ï¼Œå¹¶è¿”å›æ•°æ®ã€‚</li><li>æµè§ˆå™¨ï¼šæ¥å—æœåŠ¡å™¨å¯¹çœŸå®è¯·æ±‚çš„è¿”å›ç»“æœï¼Œè¿”å›ç»™ç½‘é¡µ</li><li>ç½‘é¡µï¼šæ”¶åˆ°è¿”å›ç»“æœæˆ–è€…æµè§ˆå™¨çš„é”™è¯¯æç¤ºã€‚</li></ul></li></ul><p>Access-Control-Allow-Originåœ¨å“åº”optionsè¯·æ±‚å’Œå“åº”çœŸå®è¯·æ±‚æ—¶éƒ½æ˜¯æœ‰ä½œç”¨çš„ï¼Œä¸¤è€…å¿…é¡»åŒæ—¶åŒ…å«è¦è·¨åŸŸçš„æºã€‚ Access-Control-Allow-Methodså’ŒAccess-Control-Allow-Headersåªåœ¨å“åº”optionsè¯·æ±‚æ—¶æœ‰ä½œç”¨ã€‚</p><ul><li>æºå¸¦cookie</li></ul><p>åœ¨ CORS è·¨åŸŸä¸­ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šè‡ªåŠ¨å‘é€ Cookieã€‚å¯¹äºæ™®é€šè·¨åŸŸè¯·æ±‚åªéœ€æœåŠ¡ç«¯è®¾ç½®ï¼Œè€Œå¸¦cookieè·¨åŸŸè¯·æ±‚å‰åç«¯éƒ½éœ€è¦è®¾ç½®ã€‚</p><p>æµè§ˆå™¨ï¼Œå¯¹äºè·¨åŸŸè¯·æ±‚ï¼Œéœ€è¦è®¾ç½®withCredentials å±æ€§ä¸º trueã€‚æœåŠ¡ç«¯çš„å“åº”ä¸­å¿…é¡»æºå¸¦ Access-Control-Allow-Credentials: true ã€‚</p><p>é™¤äº†Access-Control-Allow-Credentialsä¹‹å¤–ï¼Œè·¨åŸŸå‘é€ Cookie è¿˜è¦æ±‚ Access-Control-Allow-Originä¸å…è®¸ä½¿ç”¨é€šé…ç¬¦ã€‚å¦åˆ™æµè§ˆå™¨å°†ä¼šæŠ›å‡ºThe value of the &#39;Access-Control-Allow-Origin&#39; header in the response must not be the wildcard &#39;*&#39; é”™è¯¯ã€‚äº‹å®ä¸Šä¸ä»…ä¸å…è®¸é€šé…ç¬¦ï¼Œè€Œä¸”åªèƒ½æŒ‡å®šå•ä¸€åŸŸåã€‚</p><ul><li>è®¡ç®— Access-Control-Allow-Origin</li></ul><p>æ—¢ç„¶Access-Control-Allow-Originåªå…è®¸å•ä¸€åŸŸåï¼Œ æœåŠ¡å™¨å¯èƒ½éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ¥å— Cookie çš„ Origin åˆ—è¡¨ï¼Œ éªŒè¯ Origin è¯·æ±‚å¤´å­—æ®µåç›´æ¥å°†å…¶è®¾ç½®ä¸ºAccess-Control-Allow-Originçš„å€¼ã€‚åœ¨ CORS è¯·æ±‚è¢«é‡å®šå‘å Origin å¤´å­—æ®µä¼šè¢«ç½®ä¸º nullï¼Œ æ­¤æ—¶å¯ä»¥é€‰æ‹©ä»Refererå¤´å­—æ®µè®¡ç®—å¾—åˆ°Originã€‚</p><ul><li>å…·ä½“å®ç°</li></ul><p>æœåŠ¡å™¨ç«¯çš„å“åº”å¤´é…ç½®</p><p>Access-Control-Allow-Origin å¯ä»¥è®¾ç½®ä¸º* ï¼Œè¡¨ç¤ºå¯ä»¥ä¸ä»»æ„åŸŸè¿›è¡Œæ•°æ®å…±äº«ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// è®¾ç½®æœåŠ¡å™¨æ¥å—è·¨åŸŸçš„åŸŸå
&quot;Access-Control-Allow-Origin&quot;: &quot;http://127.0.0.1:8080&quot;,
// è®¾ç½®æœåŠ¡å™¨æ¥å—è·¨åŸŸçš„è¯·æ±‚æ–¹æ³•
&#39;Access-Control-Allow-Methods&#39;: &#39;OPTIONS,HEAD,DELETE,GET,PUT,POST&#39;,
// è®¾ç½®æœåŠ¡å™¨æ¥å—è·¨åŸŸçš„headers
&#39;Access-Control-Allow-Headers&#39;: &#39;x-requested-with, accept, origin, content-type&#39;,
// è®¾ç½®æœåŠ¡å™¨ä¸ç”¨å†æ¬¡é¢„æ£€è¯·æ±‚æ—¶é—´
&#39;Access-Control-Max-Age&#39;: 10000,
// è®¾ç½®æœåŠ¡å™¨æ¥å—è·¨åŸŸå‘é€Cookie
&#39;Access-Control-Allow-Credentials&#39;: true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>document.domain æ­¤æ–¹æ¡ˆä»…é™ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒçš„è·¨åŸŸåº”ç”¨åœºæ™¯ã€‚</p><p>å®ç°åŸç†ï¼šä¸¤ä¸ªé¡µé¢éƒ½é€šè¿‡jså¼ºåˆ¶è®¾ç½®document.domainä¸ºåŸºç¡€ä¸»åŸŸï¼Œå°±å®ç°äº†åŒåŸŸã€‚</p><p>æ —å­ï¼š</p><p>åœ¨çˆ¶é¡µé¢ http://xxx.com/a.html ä¸­è®¾ç½®document.domain</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xxx.com/b.html<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onload</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;xxx.com&#39;</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æˆä¸»åŸŸ</span>
    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">alert</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;ï¿¼iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//contentWindow å¯å–å¾—å­çª—å£çš„ window å¯¹è±¡</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å­é¡µé¢http://xxx.com/b.html ä¸­è®¾ç½®document.domain</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;xxx.com&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">//åœ¨iframeè½½å…¥è¿™ä¸ªé¡µé¢ä¹Ÿè®¾ç½®document.domainï¼Œä½¿ä¹‹ä¸ä¸»é¡µé¢çš„document.domainç›¸åŒ</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>window.postMessage</li></ul><p>window.postMessageæ˜¯html5çš„åŠŸèƒ½ï¼Œæ˜¯å®¢æˆ·ç«¯å’Œå®¢æˆ·ç«¯ç›´æ¥çš„æ•°æ®ä¼ é€’ï¼Œæ—¢å¯ä»¥è·¨åŸŸä¼ é€’ï¼Œä¹Ÿå¯ä»¥åŒåŸŸä¼ é€’ã€‚</p><ul><li>postMessage(data, origin)æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š <ul><li>dataï¼šhtml5è§„èŒƒæ”¯æŒä»»æ„åŸºæœ¬ç±»å‹æˆ–å¯å¤åˆ¶çš„å¯¹è±¡ï¼Œä½†éƒ¨åˆ†æµè§ˆå™¨åªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¼ å‚æ—¶æœ€å¥½ç”¨JSON.stringify()åºåˆ—åŒ–ã€‚</li><li>originï¼šåè®®+ä¸»æœº+ç«¯å£å·ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º&quot;*&quot;ï¼Œè¡¨ç¤ºå¯ä»¥ä¼ é€’ç»™ä»»æ„çª—å£ï¼Œå¦‚æœè¦æŒ‡å®šå’Œå½“å‰çª—å£åŒæºçš„è¯è®¾ç½®ä¸º&quot;/&quot;ã€‚</li></ul></li></ul><p>æ —å­ï¼š</p><p>å‡å¦‚æœ‰ä¸€ä¸ªé¡µé¢ï¼Œé¡µé¢ä¸­æ‹¿åˆ°éƒ¨åˆ†ç”¨æˆ·ä¿¡æ¯ï¼Œç‚¹å‡»è¿›å…¥å¦å¤–ä¸€ä¸ªé¡µé¢ï¼Œå¦å¤–çš„é¡µé¢é»˜è®¤æ˜¯å–ä¸åˆ°ç”¨æˆ·ä¿¡æ¯çš„ï¼Œä½ å¯ä»¥é€šè¿‡window.postMessageæŠŠéƒ¨åˆ†ç”¨æˆ·ä¿¡æ¯ä¼ åˆ°è¿™ä¸ªé¡µé¢ä¸­ã€‚ï¼ˆéœ€è¦è€ƒè™‘å®‰å…¨æ€§ç­‰æ–¹é¢ã€‚ï¼‰</p><p>å‘é€æ¶ˆæ¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å¼¹å‡ºä¸€ä¸ªæ–°çª—å£</span>
<span class="token keyword">var</span> domain <span class="token operator">=</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myPopup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/windowPostMessageListener.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token string">&#39;myWindow&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‘é€æ¶ˆæ¯</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;ç«™ç‚¹&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ä¼ é€’çš„æ•°æ®æ˜¯  &#39;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  myPopup<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥æ”¶æ¶ˆæ¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç›‘å¬æ¶ˆæ¯åé¦ˆ</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ¤æ–­åŸŸåæ˜¯å¦æ­£ç¡®</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;received response: &#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯ä½¿ç”¨iframeï¼Œä»£ç åº”è¯¥è¿™æ ·å†™ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ•è·iframe</span>
<span class="token keyword">var</span> domain <span class="token operator">=</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;myIFrame&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>

<span class="token comment">// å‘é€æ¶ˆæ¯</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;ç«™ç‚¹&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ä¼ é€’çš„æ•°æ®æ˜¯:  &#39;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    iframe<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥æ”¶æ•°æ®å¹¶åé¦ˆä¿¡æ¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å“åº”äº‹ä»¶</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;message received:  &#39;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>data<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„äº‹ä»¶å±æ€§ï¼š source â€“ æ¶ˆæ¯æºï¼Œæ¶ˆæ¯çš„å‘é€çª—å£/iframeã€‚ origin â€“ æ¶ˆæ¯æºçš„URI(å¯èƒ½åŒ…å«åè®®ã€åŸŸåå’Œç«¯å£)ï¼Œç”¨æ¥éªŒè¯æ•°æ®æºã€‚ data â€“ å‘é€æ–¹å‘é€ç»™æ¥æ”¶æ–¹çš„æ•°æ®ã€‚</p><p>window.name åŸç†ï¼š windowå¯¹è±¡æœ‰ä¸ªnameå±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸ªç‰¹å¾ï¼šå³åœ¨ä¸€ä¸ªçª—å£(window)çš„ç”Ÿå‘½å‘¨æœŸå†…,çª—å£è½½å…¥çš„æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å…±äº«ä¸€ä¸ªwindow.nameï¼Œæ¯ä¸ªé¡µé¢å¯¹window.nameéƒ½æœ‰è¯»å†™çš„æƒé™ï¼Œwindow.nameæ˜¯æŒä¹…å­˜åœ¨ä¸€ä¸ªçª—å£è½½å…¥è¿‡çš„æ‰€æœ‰é¡µé¢ä¸­çš„ã€‚</p><p>æ —å­ï¼š åœ¨å­é¡µé¢(b.com/data.html) è®¾ç½®window.nameï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- b.com/data.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;I was there!&#39;</span><span class="token punctuation">;</span>
   <span class="token comment">// è¿™é‡Œæ˜¯è¦ä¼ è¾“çš„æ•°æ®ï¼Œå¤§å°ä¸€èˆ¬ä¸º2Mï¼ŒIEå’Œfirefoxä¸‹å¯ä»¥å¤§è‡³32Må·¦å³</span>
   <span class="token comment">// æ•°æ®æ ¼å¼å¯ä»¥è‡ªå®šä¹‰ï¼Œå¦‚jsonã€å­—ç¬¦ä¸²</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨çˆ¶é¡µé¢ï¼ˆa.com/app.htmlï¼‰ä¸­åˆ›å»ºä¸€ä¸ªiframeï¼ŒæŠŠå…¶srcæŒ‡å‘å­é¡µé¢ã€‚åœ¨çˆ¶é¡µé¢ç›‘å¬iframeçš„onloadäº‹ä»¶ï¼Œè·å–å­é¡µé¢æ•°æ®ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- a.com/app.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://b.com/data.html&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">iframelLoadFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> data <span class="token operator">=</span> iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>name<span class="token punctuation">;</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// è·å–æ•°æ®ä»¥åé”€æ¯iframeï¼Œé‡Šæ”¾å†…å­˜ï¼›è¿™ä¹Ÿä¿è¯äº†å®‰å…¨ï¼ˆä¸è¢«å…¶ä»–åŸŸframe jsè®¿é—®ï¼‰ã€‚</span>
      <span class="token function">iframeDestoryFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">iframeDestoryFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>iframe<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&#39;onload&#39;</span><span class="token punctuation">,</span> iframelLoadFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>onload <span class="token operator">=</span> iframelLoadFn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>http-proxy-middleware</li></ul><p>http-proxy-middlewareç”¨äºæŠŠè¯·æ±‚ä»£ç†è½¬å‘åˆ°å…¶ä»–æœåŠ¡å™¨çš„ä¸­é—´ä»¶ã€‚ å®‰è£…ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> http-proxy-middleware --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯·æ±‚åˆ° &#39;/device&#39; ä¸‹çš„è¯·æ±‚éƒ½ä¼šè¢«ä»£ç†åˆ°targetï¼šhttp://target.comä¸­</span>
      <span class="token string-property property">&#39;/device/*&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://target.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æ¥å—è¿è¡Œåœ¨httpsä¸Šçš„æœåŠ¡</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/device/space&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¢«ä»£ç†åˆ° http://target.com/device/space</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨çš„url å¿…é¡»ä»¥/å¼€å§‹ å¦åˆ™ä¸ä¼šä»£ç†åˆ°æŒ‡å®šåœ°å€</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;device/space&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// http://localhost:8080/device/space è®¿é—®æœ¬åœ°æœåŠ¡</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>nginxåå‘ä»£ç†</li></ul><p>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å—å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼›å¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªæœåŠ¡å™¨ã€‚</p><p>åå‘ä»£ç†æœåŠ¡å™¨å¯¹äºå®¢æˆ·ç«¯è€Œè¨€å®ƒå°±åƒæ˜¯åŸå§‹æœåŠ¡å™¨ï¼Œå¹¶ä¸”å®¢æˆ·ç«¯ä¸éœ€è¦è¿›è¡Œä»»ä½•ç‰¹åˆ«çš„è®¾ç½®ã€‚å®¢æˆ·ç«¯å‘åå‘ä»£ç† çš„å‘½åç©ºé—´(name-space)ä¸­çš„å†…å®¹å‘é€æ™®é€šè¯·æ±‚ï¼Œæ¥ç€åå‘ä»£ç†å°†åˆ¤æ–­å‘ä½•å¤„(åŸå§‹æœåŠ¡å™¨)è½¬äº¤è¯·æ±‚ï¼Œå¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå°±åƒè¿™äº›å†…å®¹ åŸæœ¬å°±æ˜¯å®ƒè‡ªå·±çš„ä¸€æ ·ã€‚</p><h2 id="æ¨¡å—åŒ–" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—åŒ–" aria-hidden="true">#</a> æ¨¡å—åŒ–</h2><p>AMD/CMD/CommonJséƒ½æ˜¯JSæ¨¡å—åŒ–å¼€å‘çš„æ ‡å‡†ï¼Œç›®å‰å¯¹åº”çš„å®ç°æ˜¯RequireJSï¼ŒSeaJs, nodeJs;</p><p>CommonJSï¼šæœåŠ¡ç«¯js CommonJS æ˜¯ä»¥åœ¨æµè§ˆå™¨ç¯å¢ƒä¹‹å¤–æ„å»º javaScript ç”Ÿæ€ç³»ç»Ÿä¸ºç›®æ ‡è€Œäº§ç”Ÿçš„å†™ä¸€å¥—è§„èŒƒï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³ javaScript çš„ä½œç”¨åŸŸé—®é¢˜è€Œå®šä¹‰çš„æ¨¡å—å½¢å¼ï¼Œå¯ä»¥ä½¿æ¯ä¸ªæ¨¡å—å®ƒè‡ªèº«çš„å‘½åç©ºé—´ä¸­æ‰§è¡Œã€‚</p><p>å®ç°æ–¹æ³•ï¼šæ¨¡å—å¿…é¡»é€šè¿‡ module.exports å¯¼å‡ºå¯¹å¤–çš„å˜é‡æˆ–è€…æ¥å£ï¼Œé€šè¿‡ require() æ¥å¯¼å…¥å…¶ä»–æ¨¡å—çš„è¾“å‡ºåˆ°å½“å‰æ¨¡å—çš„ä½œç”¨åŸŸä¸­ï¼›</p><p>ä¸»è¦é’ˆå¯¹æœåŠ¡ç«¯ï¼ˆåŒæ­¥åŠ è½½æ–‡ä»¶ï¼‰å’Œæ¡Œé¢ç¯å¢ƒä¸­ï¼Œnode.js éµå¾ªçš„æ˜¯ CommonJS çš„è§„èŒƒï¼›CommonJS åŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥åªæœ‰åŠ è½½å®Œæˆæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚</p><p>require()ç”¨æ¥å¼•å…¥å¤–éƒ¨æ¨¡å—ï¼›</p><p>exportså¯¹è±¡ç”¨äºå¯¼å‡ºå½“å‰æ¨¡å—çš„æ–¹æ³•æˆ–å˜é‡ï¼Œå”¯ä¸€çš„å¯¼å‡ºå£ï¼›</p><p>moduleå¯¹è±¡å°±ä»£è¡¨æ¨¡å—æœ¬èº«ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªmodule.jsæ–‡ä»¶</span>
<span class="token keyword">var</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆ‘æ˜¯å®šä¹‰çš„æ¨¡å—&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1.ç¬¬ä¸€ç§è¿”å›æ–¹å¼</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token comment">// 2.ç¬¬äºŒç§è¿”å›æ–¹å¼</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token constant">A</span>
<span class="token comment">// 3.ç¬¬ä¸‰ç§è¿”å›æ–¹å¼</span>
exports<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>

<span class="token comment">// å®šä¹‰ä¸€ä¸ªtest.jsæ–‡ä»¶ã€è¿™ä¸¤ä¸ªæ–‡ä»¶åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‘</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./module&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//è°ƒç”¨è¿™ä¸ªæ¨¡å—ï¼Œä¸åŒçš„è¿”å›æ–¹å¼ç”¨ä¸åŒçš„æ–¹å¼è°ƒç”¨</span>
<span class="token comment">// 1.ç¬¬ä¸€ç§è°ƒç”¨æ–¹å¼</span>
<span class="token function">module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2.ç¬¬äºŒç§è°ƒç”¨æ–¹å¼</span>
module<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3.ç¬¬ä¸‰ç§è°ƒç”¨æ–¹å¼</span>
module<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰§è¡Œæ–‡ä»¶</span>
node test<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>AMDï¼šå¼‚æ­¥æ¨¡å—å®šä¹‰ã€æµè§ˆå™¨ç«¯jsã€‘ AMD æ˜¯ Asynchronous Module Definition çš„ç¼©å†™ï¼Œæ„æ€æ˜¯å¼‚æ­¥æ¨¡å—å®šä¹‰ï¼›é‡‡ç”¨çš„æ˜¯å¼‚æ­¥çš„æ–¹å¼è¿›è¡Œæ¨¡å—çš„åŠ è½½ï¼Œåœ¨åŠ è½½æ¨¡å—çš„æ—¶å€™ä¸å½±å“åè¾¹è¯­å¥çš„è¿è¡Œã€‚ä¸»è¦æ˜¯ä¸ºå‰ç«¯ js çš„è¡¨ç°æŒ‡å®šçš„ä¸€å¥—è§„èŒƒã€‚</p><p>å®ç°æ–¹æ³•ï¼šé€šè¿‡defineæ–¹æ³•å»å®šä¹‰æ¨¡å—ï¼Œé€šè¿‡requireæ–¹æ³•å»åŠ è½½æ¨¡å—ã€‚ define(id?,dependencies?,factory): å®ƒè¦åœ¨å£°æ˜æ¨¡å—çš„æ—¶å€™åˆ¶å®šæ‰€æœ‰çš„ä¾èµ–(dep)ï¼Œå¹¶ä¸”è¿˜è¦å½“åšå½¢å‚ä¼ åˆ°factoryä¸­ã€‚æ²¡ä»€ä¹ˆä¾èµ–ï¼Œå°±å®šä¹‰ç®€å•çš„æ¨¡å—ï¼ˆæˆ–è€…å«ç‹¬ç«‹çš„æ¨¡å—ï¼‰ require([modules], callback): ç¬¬ä¸€ä¸ªå‚æ•°[modules]ï¼Œæ˜¯éœ€åŠ è½½çš„æ¨¡å—åæ•°ç»„ï¼›ç¬¬äºŒä¸ªå‚æ•°callbackï¼Œæ˜¯æ¨¡å—åŠ è½½æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°</p><p>ä¸»è¦é’ˆå¯¹æµè§ˆå™¨jsï¼ŒrequireJséµå¾ªçš„æ˜¯ AMD çš„è§„èŒƒï¼›</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// module1.jsæ–‡ä»¶, å®šä¹‰ç‹¬ç«‹çš„æ¨¡å—</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">methodA</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆ‘æ˜¯module1çš„methodA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function-variable function">methodB</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆ‘æ˜¯module1çš„methodB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// module2.jsæ–‡ä»¶, å¦ä¸€ç§å®šä¹‰ç‹¬ç«‹æ¨¡å—çš„æ–¹å¼</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">methodA</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆ‘æ˜¯module2çš„methodA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function-variable function">methodB</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;æˆ‘æ˜¯module2çš„methodB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// module3.jsæ–‡ä»¶, å®šä¹‰éç‹¬ç«‹çš„æ¨¡å—ï¼ˆè¿™ä¸ªæ¨¡å—ä¾èµ–å…¶ä»–æ¨¡å—ï¼‰</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;module2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">m1<span class="token punctuation">,</span> m2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">methodC</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            m1<span class="token punctuation">.</span><span class="token function">methodA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m2<span class="token punctuation">.</span><span class="token function">methodB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//å®šä¹‰ä¸€ä¸ªmain.jsï¼Œå»åŠ è½½è¿™äº›ä¸ªæ¨¡å—</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">m3</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    m3<span class="token punctuation">.</span><span class="token function">methodC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// ä¸ºé¿å…é€ æˆç½‘é¡µå¤±å»å“åº”ï¼Œè§£å†³åŠæ³•æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯æŠŠå®ƒæ”¾åœ¨ç½‘é¡µåº•éƒ¨åŠ è½½ï¼Œå¦ä¸€ä¸ªæ˜¯å†™æˆä¸‹é¢è¿™æ ·ï¼š</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/require.js&quot;</span> defer async<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token comment">// asyncå±æ€§è¡¨æ˜è¿™ä¸ªæ–‡ä»¶éœ€è¦å¼‚æ­¥åŠ è½½ï¼Œé¿å…ç½‘é¡µå¤±å»å“åº”ã€‚</span>
<span class="token comment">// IEä¸æ”¯æŒè¿™ä¸ªå±æ€§ï¼Œåªæ”¯æŒdeferï¼Œæ‰€ä»¥æŠŠdeferä¹Ÿå†™ä¸Šã€‚</span>

<span class="token comment">// data-mainå±æ€§: æŒ‡å®šç½‘é¡µç¨‹åºçš„ä¸»æ¨¡å—</span>
<span class="token operator">&lt;</span>script data<span class="token operator">-</span>main<span class="token operator">=</span><span class="token string">&quot;main&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;js/require.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// æ§åˆ¶å°è¾“å‡ºç»“æœ</span>
æˆ‘æ˜¯module1çš„methodA
æˆ‘æ˜¯module2çš„methodB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CMDï¼šé€šç”¨æ¨¡å—å®šä¹‰ã€æµè§ˆå™¨ç«¯jsã€‘ CMD æ˜¯ Common Module Definition çš„ç¼©å†™ï¼Œé€šè¿‡å¼‚æ­¥çš„æ–¹å¼è¿›è¡Œæ¨¡å—çš„åŠ è½½çš„ï¼Œåœ¨åŠ è½½çš„æ—¶å€™ä¼šæŠŠæ¨¡å—å˜ä¸ºå­—ç¬¦ä¸²è§£æä¸€éæ‰çŸ¥é“ä¾èµ–äº†å“ªä¸ªæ¨¡å—ï¼›</p><p>ä¸»è¦é’ˆå¯¹æµè§ˆå™¨ç«¯ï¼ˆå¼‚æ­¥åŠ è½½æ–‡ä»¶ï¼‰ï¼ŒæŒ‰éœ€åŠ è½½æ–‡ä»¶ã€‚å¯¹åº”çš„å®ç°æ˜¯seajs</p><p>AMDå’ŒCMDçš„åŒºåˆ« å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚ä¸è¿‡ RequireJS ä» 2.0 å¼€å§‹ï¼Œä¹Ÿæ”¹æˆå¯ä»¥å»¶è¿Ÿæ‰§è¡Œï¼ˆæ ¹æ®å†™æ³•ä¸åŒï¼Œå¤„ç†æ–¹å¼ä¸åŒï¼‰ã€‚CMD æ¨å´‡ as lazy as possibleï¼ˆå°½å¯èƒ½çš„æ‡’åŠ è½½ï¼Œä¹Ÿç§°ä¸ºå»¶è¿ŸåŠ è½½ï¼Œå³åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ è½½ï¼‰ã€‚</p><p>CMD æ¨å´‡ä¾èµ–å°±è¿‘ï¼ŒAMD æ¨å´‡ä¾èµ–å‰ç½®ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// AMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>importå’ŒrequireåŒºåˆ« importå’Œrequireéƒ½æ˜¯è¢«æ¨¡å—åŒ–ä½¿ç”¨ã€‚</p><p>requireæ˜¯CommonJsçš„è¯­æ³•ï¼ˆAMDè§„èŒƒå¼•å…¥æ–¹å¼ï¼‰ï¼ŒCommonJsçš„æ¨¡å—æ˜¯å¯¹è±¡ã€‚importæ˜¯es6çš„ä¸€ä¸ªè¯­æ³•æ ‡å‡†ï¼ˆæµè§ˆå™¨ä¸æ”¯æŒï¼Œæœ¬è´¨æ˜¯ä½¿ç”¨nodeä¸­çš„babelå°†es6è½¬ç ä¸ºes5å†æ‰§è¡Œï¼Œimportä¼šè¢«è½¬ç ä¸ºrequireï¼‰ï¼Œes6æ¨¡å—ä¸æ˜¯å¯¹è±¡ã€‚</p><p>requireæ˜¯è¿è¡Œæ—¶åŠ è½½æ•´ä¸ªæ¨¡å—ï¼ˆå³æ¨¡å—ä¸­æ‰€æœ‰æ–¹æ³•ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå†ä»å¯¹è±¡ä¸Šè¯»å–å®ƒçš„æ–¹æ³•ï¼ˆåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡,ä¸èƒ½åœ¨ç¼–è¯‘æ—¶åšåˆ°é™æ€åŒ–ï¼‰ï¼Œç†è®ºä¸Šå¯ä»¥ç”¨åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹ã€‚importæ˜¯ç¼–è¯‘æ—¶è°ƒç”¨ï¼Œç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œè¾“å…¥å˜é‡ï¼ˆes6æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡exportå‘½ä»¤æŒ‡å®šè¾“å‡ºä»£ç ï¼Œå†é€šè¿‡importè¾“å…¥ï¼ŒåªåŠ è½½importä¸­å¯¼çš„æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ä¸åŠ è½½ï¼‰ï¼Œimportå…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ¨¡å—çš„å¤´éƒ¨ï¼ˆç¼–è¯‘æ—¶æ‰§è¡Œï¼‰</p><p>exportå’Œimportå¯ä»¥ä½äºæ¨¡å—ä¸­çš„ä»»ä½•ä½ç½®ï¼Œä½†æ˜¯å¿…é¡»æ˜¯åœ¨æ¨¡å—é¡¶å±‚ï¼Œå¦‚æœåœ¨å…¶ä»–ä½œç”¨åŸŸå†…ï¼Œä¼šæŠ¥é”™(es6è¿™æ ·çš„è®¾è®¡å¯ä»¥æé«˜ç¼–è¯‘å™¨æ•ˆç‡ï¼Œä½†æ²¡æ³•å®ç°è¿è¡Œæ—¶åŠ è½½)ã€‚</p><p>requireæ˜¯èµ‹å€¼è¿‡ç¨‹ï¼ŒæŠŠrequireçš„ç»“æœï¼ˆå¯¹è±¡ï¼Œæ•°å­—ï¼Œå‡½æ•°ç­‰ï¼‰ï¼Œé»˜è®¤æ˜¯exportçš„ä¸€ä¸ªå¯¹è±¡ï¼Œèµ‹ç»™æŸä¸ªå˜é‡ï¼ˆå¤åˆ¶æˆ–æµ…æ‹·è´ï¼‰ã€‚importæ˜¯è§£æ„è¿‡ç¨‹ï¼ˆéœ€è¦è°ï¼ŒåŠ è½½è°ï¼‰ã€‚</p><p>require/exports:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// require: çœŸæ­£è¢«requireå‡ºæ¥çš„æ˜¯æ¥è‡ªmodule.exportsæŒ‡å‘çš„å†…å­˜å—å†…å®¹</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span> <span class="token comment">//</span>

<span class="token comment">// exports: åªæ˜¯ module.exportsçš„å¼•ç”¨ï¼Œè¾…åŠ©module.exportsæ“ä½œå†…å­˜ä¸­çš„æ•°æ®</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> a
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>import/export:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// import</span>
<span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> a  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span>  <span class="token operator">*</span>  <span class="token keyword">as</span> a  <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fun1<span class="token punctuation">,</span>fun2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// export</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> a<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> functon a <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> fun1<span class="token punctuation">,</span> fun2 <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="httpå’Œhttps" tabindex="-1"><a class="header-anchor" href="#httpå’Œhttps" aria-hidden="true">#</a> httpå’Œhttps</h2><p>Httpï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHttpï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚è®¾è®¡Httpæœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æä¾›ä¸€ç§å‘å¸ƒå’Œæ¥æ”¶HTMLé¡µé¢çš„æ–¹æ³•ã€‚å®ƒå¯ä»¥ä½¿æµè§ˆå™¨æ›´åŠ é«˜æ•ˆã€‚</p><p>Httpåè®®æ˜¯ä»¥æ˜æ–‡æ–¹å¼å‘é€ä¿¡æ¯çš„ï¼Œå¦‚æœé»‘å®¢æˆªå–äº†Webæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“æŠ¥æ–‡ï¼Œå°±å¯ä»¥ç›´æ¥è·å¾—å…¶ä¸­çš„ä¿¡æ¯ã€‚</p><p>Httpsï¼šæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„Httpé€šé“ï¼Œæ˜¯Httpçš„å®‰å…¨ç‰ˆã€‚Httpsçš„å®‰å…¨åŸºç¡€æ˜¯SSLã€‚SSLåè®®ä½äºTCP/IPåè®®ä¸å„ç§åº”ç”¨å±‚åè®®ä¹‹é—´ï¼Œä¸ºæ•°æ®é€šè®¯æä¾›å®‰å…¨æ”¯æŒã€‚SSLåè®®å¯åˆ†ä¸ºä¸¤å±‚ï¼šSSLè®°å½•åè®®ï¼ˆSSL Record Protocolï¼‰ï¼Œå®ƒå»ºç«‹åœ¨å¯é çš„ä¼ è¾“åè®®ï¼ˆå¦‚TCPï¼‰ä¹‹ä¸Šï¼Œä¸ºé«˜å±‚åè®®æä¾›æ•°æ®å°è£…ã€å‹ç¼©ã€åŠ å¯†ç­‰åŸºæœ¬åŠŸèƒ½çš„æ”¯æŒã€‚</p><p>SSLæ¡æ‰‹åè®®ï¼ˆSSL Handshake Protocolï¼‰ï¼Œå®ƒå»ºç«‹åœ¨SSLè®°å½•åè®®ä¹‹ä¸Šï¼Œç”¨äºåœ¨å®é™…çš„æ•°æ®ä¼ è¾“å¼€å§‹å‰ï¼Œé€šè®¯åŒæ–¹è¿›è¡Œèº«ä»½è®¤è¯ã€åå•†åŠ å¯†ç®—æ³•ã€äº¤æ¢åŠ å¯†å¯†é’¥ç­‰ã€‚</p><h3 id="httpä¸httpsçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#httpä¸httpsçš„åŒºåˆ«" aria-hidden="true">#</a> HTTPä¸HTTPSçš„åŒºåˆ«</h3><ul><li>HTTPæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPSæ˜¯å…·æœ‰å®‰å…¨æ€§çš„SSLåŠ å¯†ä¼ è¾“åè®®ã€‚</li><li>HTTPSåè®®éœ€è¦caç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦å°‘ï¼Œå› è€Œéœ€è¦ä¸€å®šè´¹ç”¨ã€‚</li><li>HTTPå’ŒHTTPSä½¿ç”¨çš„æ˜¯å®Œå…¨ä¸åŒçš„è¿æ¥æ–¹å¼ï¼Œç”¨çš„ç«¯å£ä¹Ÿä¸ä¸€æ ·ã€‚å‰è€…æ˜¯80ï¼Œåè€…æ˜¯443ã€‚</li><li>HTTPè¿æ¥æ˜¯æ— çŠ¶æ€çš„ï¼ŒHTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œå®‰å…¨æ€§é«˜äºHTTPåè®®ã€‚</li></ul><h3 id="httpsçš„ä¼˜ç‚¹" tabindex="-1"><a class="header-anchor" href="#httpsçš„ä¼˜ç‚¹" aria-hidden="true">#</a> httpsçš„ä¼˜ç‚¹</h3><p>å°½ç®¡HTTPSå¹¶éç»å¯¹å®‰å…¨ï¼ŒæŒæ¡æ ¹è¯ä¹¦çš„æœºæ„ã€æŒæ¡åŠ å¯†ç®—æ³•çš„ç»„ç»‡åŒæ ·å¯ä»¥è¿›è¡Œä¸­é—´äººå½¢å¼çš„æ”»å‡»ï¼Œä½†HTTPSä»æ˜¯ç°è¡Œæ¶æ„ä¸‹æœ€å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p><ul><li>ä½¿ç”¨HTTPSåè®®å¯è®¤è¯ç”¨æˆ·å’ŒæœåŠ¡å™¨ï¼Œç¡®ä¿æ•°æ®å‘é€åˆ°æ­£ç¡®çš„å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ï¼›</li><li>HTTPSåè®®æ˜¯ç”±SSL+HTTPåè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œè¦æ¯”httpåè®®å®‰å…¨ï¼Œå¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸è¢«çªƒå–ã€æ”¹å˜ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</li><li>HTTPSæ˜¯ç°è¡Œæ¶æ„ä¸‹æœ€å®‰å…¨çš„è§£å†³æ–¹æ¡ˆï¼Œè™½ç„¶ä¸æ˜¯ç»å¯¹å®‰å…¨ï¼Œä½†å®ƒå¤§å¹…å¢åŠ äº†ä¸­é—´äººæ”»å‡»çš„æˆæœ¬ã€‚</li><li>è°·æ­Œæ›¾åœ¨2014å¹´8æœˆä»½è°ƒæ•´æœç´¢å¼•æ“ç®—æ³•ï¼Œå¹¶ç§°â€œæ¯”èµ·åŒç­‰HTTPç½‘ç«™ï¼Œé‡‡ç”¨HTTPSåŠ å¯†çš„ç½‘ç«™åœ¨æœç´¢ç»“æœä¸­çš„æ’åå°†ä¼šæ›´é«˜â€ã€‚</li></ul><h3 id="httpsçš„ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#httpsçš„ç¼ºç‚¹" aria-hidden="true">#</a> Httpsçš„ç¼ºç‚¹</h3><ul><li>Httpsåè®®æ¡æ‰‹é˜¶æ®µæ¯”è¾ƒè´¹æ—¶ï¼Œä¼šä½¿é¡µé¢çš„åŠ è½½æ—¶é—´å»¶é•¿è¿‘ã€‚</li><li>Httpsè¿æ¥ç¼“å­˜ä¸å¦‚Httpé«˜æ•ˆï¼Œä¼šå¢åŠ æ•°æ®å¼€é”€ï¼Œç”šè‡³å·²æœ‰çš„å®‰å…¨æªæ–½ä¹Ÿä¼šå› æ­¤è€Œå—åˆ°å½±å“ï¼›</li><li>SSLè¯ä¹¦é€šå¸¸éœ€è¦ç»‘å®šIPï¼Œä¸èƒ½åœ¨åŒä¸€IPä¸Šç»‘å®šå¤šä¸ªåŸŸåï¼ŒIPv4èµ„æºä¸å¯èƒ½æ”¯æ’‘è¿™ä¸ªæ¶ˆè€—ã€‚</li><li>Httpsåè®®çš„åŠ å¯†èŒƒå›´ä¹Ÿæ¯”è¾ƒæœ‰é™ã€‚æœ€å…³é”®çš„ï¼ŒSSLè¯ä¹¦çš„ä¿¡ç”¨é“¾ä½“ç³»å¹¶ä¸å®‰å…¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›å›½å®¶å¯ä»¥æ§åˆ¶CAæ ¹è¯ä¹¦çš„æƒ…å†µä¸‹ï¼Œä¸­é—´äººæ”»å‡»ä¸€æ ·å¯è¡Œã€‚</li></ul><h3 id="éå†æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#éå†æ–¹æ³•" aria-hidden="true">#</a> éå†æ–¹æ³•</h3><h3 id="for" tabindex="-1"><a class="header-anchor" href="#for" aria-hidden="true">#</a> for</h3><p>åœ¨forå¾ªç¯ä¸­ï¼Œå¾ªç¯å–å¾—æ•°ç»„æˆ–æ˜¯æ•°ç»„ç±»ä¼¼å¯¹è±¡çš„å€¼ï¼Œè­¬å¦‚argumentså’ŒHTMLCollectionå¯¹è±¡ã€‚</p><p>ä¸è¶³ï¼š</p><p>åœ¨äºæ¯æ¬¡å¾ªç¯çš„æ—¶å€™æ•°ç»„çš„é•¿åº¦éƒ½è¦å»è·å–ï¼›</p><p>ç»ˆæ­¢æ¡ä»¶è¦æ˜ç¡®ï¼›</p><h3 id="foreach-map" tabindex="-1"><a class="header-anchor" href="#foreach-map" aria-hidden="true">#</a> foreach()ï¼Œmap()</h3><p>ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥éå†åˆ°æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”å‚æ•°ä¸€è‡´ï¼› forEach(): å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°, æ€»æ˜¯è¿”å›undefinedï¼› map(): åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼›</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// undefined</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [11, 12, 13, 14, 15]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="for-in" tabindex="-1"><a class="header-anchor" href="#for-in" aria-hidden="true">#</a> for in</h3><p>ç»å¸¸ç”¨æ¥è¿­ä»£å¯¹è±¡çš„å±æ€§æˆ–æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå®ƒåŒ…å«å½“å‰å±æ€§çš„åç§°æˆ–å½“å‰æ•°ç»„å…ƒç´ çš„ç´¢å¼•ã€‚ å½“éå†ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå˜é‡ i æ˜¯å¾ªç¯è®¡æ•°å™¨ ä¸º å¯¹è±¡çš„å±æ€§å, ä»¥ä»»æ„é¡ºåºéå†ä¸€ä¸ªå¯¹è±¡çš„å¯æšä¸¾å±æ€§ã€‚å¯¹äºæ¯ä¸ªä¸åŒçš„å±æ€§ï¼Œè¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚ å½“éå†ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œå˜é‡ i æ˜¯å¾ªç¯è®¡æ•°å™¨ ä¸º å½“å‰æ•°ç»„å…ƒç´ çš„ç´¢å¼•</p><p>ä¸è¶³ï¼š</p><p>for..inå¾ªç¯ä¼šæŠŠæŸä¸ªç±»å‹çš„åŸå‹(prototype)ä¸­æ–¹æ³•ä¸å±æ€§ç»™éå†å‡ºæ¥.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;db&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name<span class="token operator">=</span> <span class="token string">&quot;zhangshan&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// admin,manager,db,color</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// hasOwnProperty(): å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ˜¯éç»§æ‰¿çš„ï¼Œè¿”å›true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="for-of" tabindex="-1"><a class="header-anchor" href="#for-of" aria-hidden="true">#</a> for â€¦ of</h3><p>è¿­ä»£å¾ªç¯å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œarguments å¯¹è±¡ï¼‰ç­‰ç­‰ã€‚ä¸èƒ½éå†å¯¹è±¡ã€‚åªå¾ªç¯é›†åˆæœ¬èº«çš„å…ƒç´ </p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;z&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;array&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1=&#39;x&#39;,2=&#39;y&#39;,3=&#39;z&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿" aria-hidden="true">#</a> ç»§æ‰¿</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å®šä¹‰ä¸€ä¸ªåŠ¨ç‰©ç±»</span>
<span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å±æ€§</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&#39;Animal&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">// å®ä¾‹æ–¹æ³•</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;æ­£åœ¨ç¡è§‰ï¼&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// åŸå‹æ–¹æ³•</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;æ­£åœ¨åƒï¼š&#39;</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŸå‹é“¾ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#åŸå‹é“¾ç»§æ‰¿" aria-hidden="true">#</a> åŸå‹é“¾ç»§æ‰¿</h3><p>æ ¸å¿ƒï¼š å°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Dog<span class="token punctuation">.</span>protoType <span class="token operator">=</span> New <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;dog&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>new åˆ›å»ºæ–°å®ä¾‹å¯¹è±¡ç»è¿‡äº†ä»¥ä¸‹å‡ æ­¥ï¼š <ul><li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</li><li>å°†æ–°å¯¹è±¡çš„_proto_æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeå¯¹è±¡</li><li>å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹å€¼ç»™æ–°å¯¹è±¡ ï¼ˆä¹Ÿå°±æ˜¯thisæŒ‡å‘æ–°å¯¹è±¡ï¼‰</li><li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</li><li>è¿”å›æ–°çš„å¯¹è±¡</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span>
<span class="token keyword">var</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 2. å°†æ–°å¯¹è±¡çš„_proto_æŒ‡å‘æ„é€ å‡½æ•°çš„prototypeå¯¹è±¡</span>
Obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span>  <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token function">prototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</span>
<span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4. è¿”å›æ–°çš„å¯¹è±¡</span>
<span class="token keyword">return</span> Obj<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>å®ä¾‹å¯ç»§æ‰¿çš„å±æ€§æœ‰ï¼šå®ä¾‹çš„æ„é€ å‡½æ•°çš„å±æ€§ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°å±æ€§ï¼Œçˆ¶ç±»åŸå‹çš„å±æ€§</li><li>éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹</li><li>çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>æ–°å®ä¾‹æ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ã€‚</li><li>ç»§æ‰¿å•ä¸€ã€‚</li><li>æ‰€æœ‰æ–°å®ä¾‹éƒ½ä¼šå…±äº«çˆ¶ç±»å®ä¾‹çš„å±æ€§ã€‚ï¼ˆåŸå‹ä¸Šçš„å±æ€§æ˜¯å…±äº«çš„ï¼Œä¸€ä¸ªå®ä¾‹ä¿®æ”¹äº†åŸå‹å±æ€§ï¼Œå¦ä¸€ä¸ªå®ä¾‹çš„åŸå‹å±æ€§ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼ï¼‰</li><li>è¦æƒ³ä¸ºå­ç±»æ–°å¢åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥ä¹‹åæ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°æ„é€ å™¨ä¸­</li></ul></li></ul><h3 id="æ„é€ å‡½æ•°ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#æ„é€ å‡½æ•°ç»§æ‰¿" aria-hidden="true">#</a> æ„é€ å‡½æ•°ç»§æ‰¿</h3><p>æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŸå‹ï¼‰</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;dog&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹ï¼šç”¨.call()å’Œ.apply()å°†çˆ¶ç±»æ„é€ å‡½æ•°å¼•å…¥å­ç±»å‡½æ•°ï¼ˆåœ¨å­ç±»å‡½æ•°ä¸­åšäº†çˆ¶ç±»å‡½æ•°çš„è‡ªæ‰§è¡Œï¼ˆå¤åˆ¶ï¼‰ï¼‰</p><ul><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>åªç»§æ‰¿äº†çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§ï¼Œæ²¡æœ‰ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å±æ€§ã€‚</li><li>è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ç¼ºç‚¹1ã€2ã€3ã€‚</li><li>å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼Œç»§æ‰¿å¤šä¸ªæ„é€ å‡½æ•°å±æ€§ï¼ˆcallå¤šä¸ªï¼‰ã€‚</li><li>åœ¨å­å®ä¾‹ä¸­å¯å‘çˆ¶å®ä¾‹ä¼ å‚ã€‚</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>èƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§ã€‚</li><li>æ— æ³•å®ç°æ„é€ å‡½æ•°çš„å¤ç”¨ã€‚ï¼ˆæ¯æ¬¡ç”¨æ¯æ¬¡éƒ½è¦é‡æ–°è°ƒç”¨ï¼‰</li><li>æ¯ä¸ªæ–°å®ä¾‹éƒ½æœ‰çˆ¶ç±»æ„é€ å‡½æ•°çš„å‰¯æœ¬ï¼Œè‡ƒè‚¿ã€‚</li><li>å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹</li></ul></li></ul><h3 id="ç»„åˆç»§æ‰¿-åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿-å¸¸ç”¨" tabindex="-1"><a class="header-anchor" href="#ç»„åˆç»§æ‰¿-åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿-å¸¸ç”¨" aria-hidden="true">#</a> ç»„åˆç»§æ‰¿ï¼ˆåŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ï¼ˆå¸¸ç”¨ï¼‰</h3><p>æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Cat<span class="token punctuation">;</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹ï¼šç»“åˆäº†ä¸¤ç§æ¨¡å¼çš„ä¼˜ç‚¹ï¼Œä¼ å‚å’Œå¤ç”¨</p><ul><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>å¯ä»¥ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§ï¼Œå¯ä»¥ä¼ å‚ï¼Œå¯å¤ç”¨ã€‚</li><li>æ¯ä¸ªæ–°å®ä¾‹å¼•å…¥çš„æ„é€ å‡½æ•°å±æ€§æ˜¯ç§æœ‰çš„ã€‚</li><li>æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆè€—å†…å­˜ï¼‰ï¼Œå­ç±»çš„æ„é€ å‡½æ•°ä¼šä»£æ›¿åŸå‹ä¸Šçš„é‚£ä¸ªçˆ¶ç±»æ„é€ å‡½æ•°ã€‚</li></ul></li></ul><h3 id="åŸå‹å¼ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#åŸå‹å¼ç»§æ‰¿" aria-hidden="true">#</a> åŸå‹å¼ç»§æ‰¿</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å…ˆå°è£…ä¸€ä¸ªå‡½æ•°å®¹å™¨ï¼Œç”¨æ¥è¾“å‡ºå¯¹è±¡å’Œæ‰¿è½½ç»§æ‰¿çš„åŸå‹</span>
<span class="token keyword">function</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj <span class="token comment">// ç»§æ‰¿äº†ä¼ å…¥çš„å‚æ•°</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿”å›å‡½æ•°å¯¹è±¡</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> sup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// æ‹¿åˆ°çˆ¶ç±»çš„å®ä¾‹</span>
<span class="token keyword">var</span> sup1 <span class="token operator">=</span> <span class="token function">content</span><span class="token punctuation">(</span>sup<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sup1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 10 ç»§æ‰¿äº†çˆ¶ç±»å‡½æ•°çš„å±æ€§</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹ï¼šç”¨ä¸€ä¸ªå‡½æ•°åŒ…è£…ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œè¿™ä¸ªå‡½æ•°å°±å˜æˆäº†ä¸ªå¯ä»¥éšæ„å¢æ·»å±æ€§çš„å®ä¾‹æˆ–å¯¹è±¡ã€‚object.create()å°±æ˜¯è¿™ä¸ªåŸç†ã€‚</p><ul><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>ç±»ä¼¼äºå¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨å‡½æ•°æ¥åŒ…è£…ã€‚</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>æ‰€æœ‰å®ä¾‹éƒ½ä¼šç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§ã€‚</li><li>æ— æ³•å®ç°å¤ç”¨ã€‚ï¼ˆæ–°å®ä¾‹å±æ€§éƒ½æ˜¯åé¢æ·»åŠ çš„ï¼‰</li></ul></li></ul><h3 id="å¯„ç”Ÿå¼ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#å¯„ç”Ÿå¼ç»§æ‰¿" aria-hidden="true">#</a> å¯„ç”Ÿå¼ç»§æ‰¿</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj <span class="token comment">// ç»§æ‰¿äº†ä¼ å…¥çš„å‚æ•°</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿”å›å‡½æ•°å¯¹è±¡</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> sup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ä»¥ä¸Šæ˜¯åŸå‹ç»§æ‰¿ï¼Œç»™åŸå‹å¼ç»§æ‰¿å†å¥—ä¸ªå£³å­ä¼ é€’å‚æ•°</span>
<span class="token keyword">function</span> <span class="token function">subobject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sub <span class="token operator">=</span> <span class="token function">content</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    sub<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;gar&#39;</span>
    <span class="token keyword">return</span> sub
<span class="token punctuation">}</span>

<span class="token keyword">var</span> sup2 <span class="token operator">=</span> <span class="token function">subobject</span><span class="token punctuation">(</span>sup<span class="token punctuation">)</span>
<span class="token comment">// è¿™ä¸ªå‡½æ•°ç»è¿‡å£°æ˜ä¹‹åå°±æˆäº†å¯å¢æ·»å±æ€§çš„å¯¹è±¡</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> subobject<span class="token punctuation">)</span> <span class="token comment">// function</span>
cosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sup2<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sup2<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#39;gar&#39; è¿”å›äº†ä¸ªsubå¯¹è±¡ï¼Œç»§æ‰¿äº†subçš„å±æ€§</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹ï¼šå°±æ˜¯ç»™åŸå‹å¼ç»§æ‰¿å¤–é¢å¥—äº†ä¸ªå£³å­ã€‚</p><ul><li><p>ä¼˜ç‚¹ï¼šæ²¡æœ‰åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ï¼Œå› ä¸ºåªæ˜¯å¥—äº†ä¸ªå£³å­è¿”å›å¯¹è±¡ï¼ˆè¿™ä¸ªï¼‰ï¼Œè¿™ä¸ªå‡½æ•°é¡ºç†æˆç« å°±æˆäº†åˆ›å»ºçš„æ–°å¯¹è±¡ã€‚</p></li><li><p>ç¼ºç‚¹ï¼šæ²¡ç”¨åˆ°åŸå‹ï¼Œæ— æ³•å¤ç”¨ã€‚</p></li></ul><h3 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿-å¸¸ç”¨" tabindex="-1"><a class="header-anchor" href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿-å¸¸ç”¨" aria-hidden="true">#</a> å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆå¸¸ç”¨ï¼‰</h3><p>å¯„ç”Ÿï¼šåœ¨å‡½æ•°å†…è¿”å›å¯¹è±¡ç„¶åè°ƒç”¨</p><ul><li>ç»„åˆï¼š <ul><li>å‡½æ•°çš„åŸå‹ç­‰äºå¦ä¸€ä¸ªå®ä¾‹ã€‚</li><li>åœ¨å‡½æ•°ä¸­ç”¨applyæˆ–è€…callå¼•å…¥å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä¼ å‚ã€‚</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±»</span>
  <span class="token keyword">var</span> <span class="token function-variable function">Super</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token comment">//å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹</span>
  <span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Cat<span class="token punctuation">;</span> <span class="token comment">// éœ€è¦ä¿®å¤ä¸‹æ„é€ å‡½æ•°</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡ç‚¹ï¼šä¿®å¤äº†ç»„åˆç»§æ‰¿çš„é—®é¢˜ã€‚</p><h2 id="call-bind-applyå®ç°" tabindex="-1"><a class="header-anchor" href="#call-bind-applyå®ç°" aria-hidden="true">#</a> Call, bind, applyå®ç°</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// call</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// apply</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> result<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// bind</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> newArgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åŸå‹ä¸åŸå‹é“¾" tabindex="-1"><a class="header-anchor" href="#åŸå‹ä¸åŸå‹é“¾" aria-hidden="true">#</a> åŸå‹ä¸åŸå‹é“¾</h2><p>æ¯ä¸€ä¸ªJavaScriptå¯¹è±¡(nullé™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™ä¼šå…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªè¢«å…³è”çš„å¯¹è±¡å°±æ˜¯åŸå‹ã€‚æ¯ä¸€ä¸ªJavaScriptå¯¹è±¡(é™¤äº† null)éƒ½å…·æœ‰çš„__proto__å±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚</p><p>JavaScriptä¸­æ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯ç”±å®ƒçš„åŸå‹å¯¹è±¡ç»§æ‰¿è€Œæ¥ï¼Œè€ŒåŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¹Ÿæœ‰è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œè¿™æ ·å±‚å±‚ä¸Šæº¯ï¼Œå°±å½¢æˆäº†ä¸€ä¸ªç±»ä¼¼é“¾è¡¨çš„ç»“æ„ï¼Œè¿™å°±æ˜¯åŸå‹é“¾ã€‚ æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹&quot;ç»§æ‰¿&quot;å±æ€§ã€‚ å®ä¾‹å¯¹è±¡å’Œæ„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŸå‹, åŸå‹å¯ä»¥æŒ‡å‘æ„é€ å‡½æ•°ï¼Œä¸èƒ½æŒ‡å‘å®ä¾‹(å› ä¸ºå¯ä»¥æœ‰å¤šä¸ªå®ä¾‹)ã€‚</p><p>åŸå‹å¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ï¼Œconstructor å’Œ <code>__proto__</code>ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å®ä¾‹åŸå‹ === æ„é€ å‡½æ•°åŸå‹</span>
person<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// åŸå‹æ„é€ å‡½æ•° === æ„é€ å‡½æ•°</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react-diff" tabindex="-1"><a class="header-anchor" href="#react-diff" aria-hidden="true">#</a> react diff</h2><ul><li><p>React é€šè¿‡åˆ¶å®šå¤§èƒ†çš„ diff ç­–ç•¥ï¼Œå°† O(n3) å¤æ‚åº¦çš„é—®é¢˜è½¬æ¢æˆ O(n) å¤æ‚åº¦çš„é—®é¢˜ï¼›</p></li><li><p>React é€šè¿‡åˆ†å±‚æ±‚å¼‚çš„ç­–ç•¥ï¼Œå¯¹ tree diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</p></li></ul><p>å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚</p><ul><li><p>React é€šè¿‡ç›¸åŒç±»ç”Ÿæˆç›¸ä¼¼æ ‘å½¢ç»“æ„ï¼Œä¸åŒç±»ç”Ÿæˆä¸åŒæ ‘å½¢ç»“æ„çš„ç­–ç•¥ï¼Œå¯¹ component diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</p><ul><li>å¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼ŒæŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ virtual DOM treeã€‚</li><li>å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¯¥ç»„ä»¶åˆ¤æ–­ä¸º dirty componentï¼Œä»è€Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</li><li>å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ Virtual DOM æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹é‚£å¯ä»¥èŠ‚çœå¤§é‡çš„ diff è¿ç®—æ—¶é—´ï¼Œå› æ­¤ React å…è®¸ç”¨æˆ·é€šè¿‡ shouldComponentUpdate() æ¥åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ diffã€‚</li></ul></li><li><p>React é€šè¿‡è®¾ç½®å”¯ä¸€ keyçš„ç­–ç•¥ï¼Œå¯¹ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</p></li><li><p>å»ºè®®ï¼Œåœ¨å¼€å‘ç»„ä»¶æ—¶ï¼Œä¿æŒç¨³å®šçš„ DOM ç»“æ„ä¼šæœ‰åŠ©äºæ€§èƒ½çš„æå‡ï¼›</p></li></ul><h2 id="éå†å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#éå†å¯¹è±¡" aria-hidden="true">#</a> éå†å¯¹è±¡</h2><ul><li><p>for...inï¼šéå†å¯¹è±¡è‡ªèº«ï¼Œ åŒ…å«ç»§æ‰¿ï¼Œ å¯æšä¸¾ï¼Œä¸å« Symbol çš„å±æ€§ã€‚</p></li><li><p>Object.keys(obj)ï¼šéå†å¯¹è±¡è‡ªèº«, ä¸å«ç»§æ‰¿ï¼Œå¯æšä¸¾ï¼Œä¸å« Symbol çš„å±æ€§ã€‚ã€valuesï¼Œ entriesã€‘</p></li><li><p>Object.getOwnPropertyNames(obj)ï¼šéå†å¯¹è±¡è‡ªèº«, ä¸å«ç»§æ‰¿, ä¸å« Symbol çš„å±æ€§, ä¸ç®¡æ˜¯å¦å¯æšä¸¾</p></li><li><p>Object.getOwnPropertySymbols(obj): éå†å¯¹è±¡è‡ªèº«, ä¸å«ç»§æ‰¿, æ‰€æœ‰ Symbol çš„å±æ€§, ä¸ç®¡æ˜¯å¦å¯æšä¸¾</p></li><li><p>Reflect.ownKeys(obj): éå†å¯¹è±¡è‡ªèº«ï¼Œä¸å«ç»§æ‰¿ï¼Œæ‰€æœ‰é”®åï¼Œä¸ç®¡æ˜¯å¦Symbol å’Œå¯æšä¸¾ã€‚</p></li></ul><p>å¯¹è±¡å…¶ä»–æ–¹æ³•ï¼š</p><ul><li><p>JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«ï¼Œä¸å«ç»§æ‰¿ï¼Œå¯æšä¸¾ï¼Œä¸å« Symbolå±æ€§ã€‚ã€functionï¼Œundefined, Symbolä¼šä¸¢å¤±ï¼Œ setã€mapä¼šå¤„ç†æˆç©ºå¯¹è±¡ã€‘</p></li><li><p>Object.assign()ï¼šåªæ‹·è´å¯¹è±¡è‡ªèº«ï¼Œä¸å«ç»§æ‰¿ï¼Œ å¯æšä¸¾å±æ€§, ä¸ç®¡æ˜¯å¦æ˜¯Symbol ã€‚ã€å…¨éƒ¨æ•°æ®ç±»å‹å±æ€§å€¼ã€‘</p></li></ul><table><thead><tr><th>æ–¹æ³•</th><th>è‡ªèº«å±æ€§</th><th>ç»§æ‰¿å±æ€§</th><th>å¯æšä¸¾å±æ€§</th><th>Symbolå±æ€§</th></tr></thead><tbody><tr><td>for...in..</td><td>æ˜¯</td><td>æ˜¯</td><td>å¿…é¡»</td><td>å¦</td></tr><tr><td>Object.keys()</td><td>æ˜¯</td><td>å¦</td><td>å¿…é¡»</td><td>å¦</td></tr><tr><td>Object.getOwnPropertyNames(obj)</td><td>æ˜¯</td><td>å¦</td><td>éå¿…é¡»</td><td>å¦</td></tr><tr><td>Object.getOwnPropertySymbols(obj)</td><td>æ˜¯</td><td>å¦</td><td>éå¿…é¡»</td><td>æ˜¯</td></tr><tr><td>Reflect.ownKeys(obj)</td><td>æ˜¯</td><td>å¦</td><td>éå¿…é¡»</td><td>éå¿…é¡»</td></tr><tr><td>JSON.stringify()</td><td>æ˜¯</td><td>å¦</td><td>å¿…é¡»</td><td>å¦</td></tr><tr><td>Object.assign()</td><td>æ˜¯</td><td>å¦</td><td>å¿…é¡»</td><td>éå¿…é¡»</td></tr></tbody></table><h2 id="å¼‚æ­¥åŠ è½½è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥åŠ è½½è„šæœ¬" aria-hidden="true">#</a> å¼‚æ­¥åŠ è½½è„šæœ¬</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ˜¯åŒæ­¥åŠ è½½ JavaScript è„šæœ¬ï¼Œå³æ¸²æŸ“å¼•æ“é‡åˆ°<code>&lt;script&gt;</code>æ ‡ç­¾å°±ä¼šåœä¸‹æ¥ï¼Œç­‰åˆ°æ‰§è¡Œå®Œè„šæœ¬ï¼Œå†ç»§ç»­å‘ä¸‹æ¸²æŸ“ã€‚å¦‚æœæ˜¯å¤–éƒ¨è„šæœ¬ï¼Œè¿˜å¿…é¡»åŠ å…¥è„šæœ¬ä¸‹è½½çš„æ—¶é—´ã€‚</p><p>å¼‚æ­¥åŠ è½½è„šæœ¬æ–¹æ³•ï¼šdeferä¸asyncã€‚</p><p>deferä¸asyncçš„åŒºåˆ«æ˜¯ï¼šdeferè¦ç­‰åˆ°æ•´ä¸ªé¡µé¢åœ¨å†…å­˜ä¸­æ­£å¸¸æ¸²æŸ“ç»“æŸï¼ˆDOM ç»“æ„å®Œå…¨ç”Ÿæˆï¼Œä»¥åŠå…¶ä»–è„šæœ¬æ‰§è¡Œå®Œæˆï¼‰ï¼Œæ‰ä¼šæ‰§è¡Œï¼›asyncä¸€æ—¦ä¸‹è½½å®Œï¼Œæ¸²æŸ“å¼•æ“å°±ä¼šä¸­æ–­æ¸²æŸ“ï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬ä»¥åï¼Œå†ç»§ç»­æ¸²æŸ“ã€‚ä¸€å¥è¯ï¼Œdeferæ˜¯â€œæ¸²æŸ“å®Œå†æ‰§è¡Œâ€ï¼Œasyncæ˜¯â€œä¸‹è½½å®Œå°±æ‰§è¡Œâ€ã€‚å¦å¤–ï¼Œå¦‚æœæœ‰å¤šä¸ªdeferè„šæœ¬ï¼Œä¼šæŒ‰ç…§å®ƒä»¬åœ¨é¡µé¢å‡ºç°çš„é¡ºåºåŠ è½½ï¼Œè€Œå¤šä¸ªasyncè„šæœ¬æ˜¯ä¸èƒ½ä¿è¯åŠ è½½é¡ºåºçš„ã€‚</p><p>æµè§ˆå™¨å¯¹äºå¸¦æœ‰type=&quot;module&quot;çš„<code>&lt;script&gt;</code>ï¼Œéƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šé€ æˆå µå¡æµè§ˆå™¨ï¼Œå³ç­‰åˆ°æ•´ä¸ªé¡µé¢æ¸²æŸ“å®Œï¼Œå†æ‰§è¡Œæ¨¡å—è„šæœ¬ï¼Œç­‰åŒäºæ‰“å¼€äº†<code>&lt;script&gt;</code>æ ‡ç­¾çš„deferå±æ€§ã€‚</p><h3 id="es6-æ¨¡å—ä¸-commonjs-æ¨¡å—çš„å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#es6-æ¨¡å—ä¸-commonjs-æ¨¡å—çš„å·®å¼‚" aria-hidden="true">#</a> ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—çš„å·®å¼‚</h3><p>CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚</p><p>CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚</p><p>å› ä¸º CommonJS åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚</p><p>CommonJS æ¨¡å—çš„require()æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼ŒES6 æ¨¡å—çš„importå‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¾èµ–çš„è§£æé˜¶æ®µã€‚</p><h3 id="å›æµreflowä¸é‡ç»˜repaint" tabindex="-1"><a class="header-anchor" href="#å›æµreflowä¸é‡ç»˜repaint" aria-hidden="true">#</a> å›æµReflowä¸é‡ç»˜Repaint</h3><p>å›æµï¼šå…ƒç´ çš„å¤§å°æˆ–è€…ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œè§¦å‘äº†é‡æ–°å¸ƒå±€ï¼Œå¯¼è‡´æ¸²æŸ“æ ‘é‡æ–°è®¡ç®—å¸ƒå±€å’Œæ¸²æŸ“ã€‚é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½çš„æ—¶å€™ï¼Œè‡³å°‘å‘ç”Ÿä¸€æ¬¡å›æµã€‚</p><ul><li><p>æ·»åŠ æˆ–åˆ é™¤å¯è§çš„DOMå…ƒç´ ï¼›</p></li><li><p>å…ƒç´ çš„ä½ç½®å‘ç”Ÿå˜åŒ–ï¼›</p></li><li><p>å…ƒç´ çš„å°ºå¯¸å‘ç”Ÿå˜åŒ–ï¼›</p></li><li><p>å†…å®¹å‘ç”Ÿå˜åŒ–ï¼ˆæ¯”å¦‚æ–‡æœ¬å˜åŒ–æˆ–å›¾ç‰‡è¢«å¦ä¸€ä¸ªä¸åŒå°ºå¯¸çš„å›¾ç‰‡æ‰€æ›¿ä»£ï¼‰ï¼›</p></li><li><p>é¡µé¢ä¸€å¼€å§‹æ¸²æŸ“çš„æ—¶å€™ï¼ˆè¿™ä¸ªæ— æ³•é¿å…ï¼‰ï¼›</p></li><li><p>æµè§ˆå™¨çš„çª—å£å°ºå¯¸å˜åŒ–ï¼Œ å› ä¸ºå›æµæ˜¯æ ¹æ®è§†å£çš„å¤§å°æ¥è®¡ç®—å…ƒç´ çš„ä½ç½®å’Œå¤§å°çš„ï¼›</p></li></ul><p>é‡ç»˜ï¼šå…ƒç´ çš„å¤–è§‚ï¼Œé£æ ¼æ”¹å˜ï¼Œè€Œä¸ä¼šå½±å“å¸ƒå±€ï¼ˆä¸åŒ…å«å®½é«˜ã€å¤§å°ã€ä½ç½®ç­‰ä¸å˜ï¼‰ã€‚ å¦‚ï¼šoutline, visibility, color, background-color......ç­‰</p><p>Reflow çš„æˆæœ¬æ¯” Repaint é«˜å¾—å¤šçš„å¤šã€‚DOM Tree é‡Œçš„æ¯ä¸ªç»“ç‚¹éƒ½ä¼šæœ‰ reflow æ–¹æ³•ï¼Œä¸€ä¸ªç»“ç‚¹çš„ reflow å¾ˆæœ‰å¯èƒ½å¯¼è‡´å­ç»“ç‚¹ï¼Œç”šè‡³çˆ¶ç‚¹ä»¥åŠåŒçº§ç»“ç‚¹çš„ reflowã€‚ã€‚å›æµä¸€å®šä¼šè§¦å‘é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå›æµ</p><p><strong>å‡å°‘é‡ç»˜ä¸å›æµ</strong></p><ul><li><p>CSSæ–¹æ³•</p><ul><li>ä½¿ç”¨ visibility æ›¿æ¢ display: none ï¼Œå› ä¸ºå‰è€…åªä¼šå¼•èµ·é‡ç»˜ï¼Œåè€…ä¼šå¼•å‘å›æµ</li><li>é¿å…ä½¿ç”¨tableå¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€ã€‚</li><li>é¿å…è®¾ç½®å¤šå±‚å†…è”æ ·å¼ï¼ŒCSS é€‰æ‹©ç¬¦ä»å³å¾€å·¦åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å…èŠ‚ç‚¹å±‚çº§è¿‡å¤šã€‚</li><li>å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°positionå±æ€§ä¸ºabsoluteæˆ–fixedçš„å…ƒç´ ä¸Šï¼Œé¿å…å½±å“å…¶ä»–å…ƒç´ çš„å¸ƒå±€ï¼Œè¿™æ ·åªæ˜¯ä¸€ä¸ªé‡ç»˜ï¼Œè€Œä¸æ˜¯å›æµï¼ŒåŒæ—¶ï¼Œæ§åˆ¶åŠ¨ç”»é€Ÿåº¦å¯ä»¥é€‰æ‹© requestAnimationFrame</li><li>é¿å…ä½¿ç”¨CSSè¡¨è¾¾å¼ï¼Œå¯èƒ½ä¼šå¼•å‘å›æµã€‚</li><li>å°†é¢‘ç¹é‡ç»˜æˆ–è€…å›æµçš„èŠ‚ç‚¹è®¾ç½®ä¸ºå›¾å±‚ï¼Œå›¾å±‚èƒ½å¤Ÿé˜»æ­¢è¯¥èŠ‚ç‚¹çš„æ¸²æŸ“è¡Œä¸ºå½±å“åˆ«çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚will-changeã€videoã€iframeç­‰æ ‡ç­¾ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†è¯¥èŠ‚ç‚¹å˜ä¸ºå›¾å±‚ã€‚</li><li>CSS3 ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUåŠ é€Ÿï¼‰ï¼Œä½¿ç”¨css3ç¡¬ä»¶åŠ é€Ÿï¼Œå¯ä»¥è®©transformã€opacityã€filtersè¿™äº›åŠ¨ç”»ä¸ä¼šå¼•èµ·å›æµé‡ç»˜ ã€‚ä½†æ˜¯å¯¹äºåŠ¨ç”»çš„å…¶å®ƒå±æ€§ï¼Œæ¯”å¦‚background-colorè¿™äº›ï¼Œè¿˜æ˜¯ä¼šå¼•èµ·å›æµé‡ç»˜çš„ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯å¯ä»¥æå‡è¿™äº›åŠ¨ç”»çš„æ€§èƒ½ã€‚</li></ul></li><li><p>JavaScriptæ–¹æ³•</p><ul><li>é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œæœ€å¥½ä¸€æ¬¡æ€§é‡å†™styleå±æ€§ï¼Œæˆ–è€…å°†æ ·å¼åˆ—è¡¨å®šä¹‰ä¸ºclasså¹¶ä¸€æ¬¡æ€§æ›´æ”¹classå±æ€§ã€‚</li><li>é¿å…é¢‘ç¹æ“ä½œDOMï¼Œåˆ›å»ºä¸€ä¸ªdocumentFragmentï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰DOMæ“ä½œï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­ã€‚</li><li>é¿å…é¢‘ç¹è¯»å–ä¼šå¼•å‘å›æµ/é‡ç»˜çš„å±æ€§ï¼Œå¦‚æœç¡®å®éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œå°±ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜èµ·æ¥ã€‚</li></ul></li></ul><h2 id="css3ç¡¬ä»¶åŠ é€Ÿ-gpuåŠ é€Ÿ" tabindex="-1"><a class="header-anchor" href="#css3ç¡¬ä»¶åŠ é€Ÿ-gpuåŠ é€Ÿ" aria-hidden="true">#</a> CSS3ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUåŠ é€Ÿï¼‰</h2><p>CSS3 ç¡¬ä»¶åŠ é€Ÿåˆå«åš GPU åŠ é€Ÿï¼Œæ˜¯åˆ©ç”¨ GPU è¿›è¡Œæ¸²æŸ“ï¼Œå‡å°‘ CPU æ“ä½œçš„ä¸€ç§ä¼˜åŒ–æ–¹æ¡ˆã€‚</p><p>render tree -&gt; æ¸²æŸ“å…ƒç´  -&gt; å›¾å±‚ -&gt; GPU æ¸²æŸ“ -&gt; æµè§ˆå™¨å¤åˆå›¾å±‚ -&gt; ç”Ÿæˆæœ€ç»ˆçš„å±å¹•å›¾åƒã€‚</p><p>æµè§ˆå™¨åœ¨è·å– render treeåï¼Œæ¸²æŸ“æ ‘ä¸­åŒ…å«äº†å¤§é‡çš„æ¸²æŸ“å…ƒç´ ï¼Œæ¯ä¸€ä¸ªæ¸²æŸ“å…ƒç´ ä¼šè¢«åˆ†åˆ°ä¸€ä¸ªä¸ªå›¾å±‚ä¸­ï¼Œæ¯ä¸ªå›¾å±‚åˆä¼šè¢«åŠ è½½åˆ° GPU å½¢æˆæ¸²æŸ“çº¹ç†ã€‚GPU ä¸­ transform æ˜¯ä¸ä¼šè§¦å‘ repaint ï¼Œæœ€ç»ˆè¿™äº›ä½¿ç”¨ transform çš„å›¾å±‚éƒ½ä¼šç”±ç‹¬ç«‹çš„åˆæˆå™¨è¿›ç¨‹è¿›è¡Œå¤„ç†ã€‚</p><ul><li>CSS3è§¦å‘ç¡¬ä»¶åŠ é€Ÿçš„å±æ€§ï¼š <ul><li>transform</li><li>opacity</li><li>filter</li><li>will-change</li></ul></li></ul><h2 id="httpè¯·æ±‚æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#httpè¯·æ±‚æ–¹æ³•" aria-hidden="true">#</a> httpè¯·æ±‚æ–¹æ³•</h2><p>HTTP1.0å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼šGET, POST å’Œ HEADæ–¹æ³•ã€‚ HTTP1.1æ–°å¢äº†äº”ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONS, PUT, DELETE, TRACE å’Œ CONNECT æ–¹æ³•ã€‚</p><p><strong>OPTIONS</strong>ï¼šå³é¢„æ£€è¯·æ±‚ï¼Œå¯ç”¨äºæ£€æµ‹æœåŠ¡å™¨å…è®¸çš„httpæ–¹æ³•ã€‚å½“å‘èµ·è·¨åŸŸè¯·æ±‚æ—¶ï¼Œç”±äºå®‰å…¨åŸå› ï¼Œè§¦å‘ä¸€å®šæ¡ä»¶æ—¶æµè§ˆå™¨ä¼šåœ¨æ­£å¼è¯·æ±‚ä¹‹å‰è‡ªåŠ¨å…ˆå‘èµ·OPTIONSè¯·æ±‚ï¼Œå³CORSé¢„æ£€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è‹¥æ¥å—è¯¥è·¨åŸŸè¯·æ±‚ï¼Œæµè§ˆå™¨æ‰ç»§ç»­å‘èµ·æ­£å¼è¯·æ±‚ã€‚</p><p><strong>HEAD</strong>: å‘æœåŠ¡å™¨ç´¢ä¸GETè¯·æ±‚ç›¸ä¸€è‡´çš„å“åº”ï¼Œåªä¸è¿‡å“åº”ä½“å°†ä¸ä¼šè¢«è¿”å›ï¼Œç”¨äºè·å–æŠ¥å¤´ã€‚</p><p><strong>GET</strong>ï¼šå‘ç‰¹å®šçš„èµ„æºå‘å‡ºè¯·æ±‚ã€‚æ³¨æ„ï¼šGETæ–¹æ³•ä¸åº”å½“è¢«ç”¨äºäº§ç”Ÿâ€œå‰¯ä½œç”¨â€çš„æ“ä½œä¸­</p><p><strong>POST</strong>ï¼šå‘æŒ‡å®šèµ„æºæäº¤æ•°æ®è¿›è¡Œå¤„ç†è¯·æ±‚ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚æ•°æ®è¢«åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚POSTè¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´æ–°çš„èµ„æºçš„å»ºç«‹å’Œ/æˆ–å·²æœ‰èµ„æºçš„ä¿®æ”¹ã€‚</p><p><strong>PUT</strong>ï¼šå‘æŒ‡å®šèµ„æºä½ç½®ä¸Šä¼ å…¶æœ€æ–°å†…å®¹</p><p><strong>DELETE</strong>ï¼šè¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URLæ‰€æ ‡è¯†çš„èµ„æº</p><p><strong>TRACE</strong>ï¼šå›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</p><p><strong>CONNECT</strong>ï¼šHTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨</p><h2 id="jsåˆ¤æ–­æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#jsåˆ¤æ–­æ•°æ®ç±»å‹" aria-hidden="true">#</a> jsåˆ¤æ–­æ•°æ®ç±»å‹</h2><ul><li><p>typeof æ“ä½œç¬¦</p><ul><li>å¯¹äºåŸºæœ¬ç±»å‹ï¼Œé™¤ null ä»¥å¤–ï¼Œå‡å¯ä»¥è¿”å›æ­£ç¡®çš„ç»“æœã€‚</li><li>å¯¹äºå¼•ç”¨ç±»å‹ï¼Œé™¤ function ä»¥å¤–ï¼Œä¸€å¾‹è¿”å› object ç±»å‹ã€‚</li><li>å¯¹äº null ï¼Œè¿”å› object ç±»å‹ã€‚</li><li>å¯¹äº function è¿”å› function ç±»å‹ã€‚</li></ul></li><li><p>instanceof</p></li></ul><p>ç”¨æ¥åˆ¤æ–­ A æ˜¯å¦ä¸º B çš„å®ä¾‹ï¼Œæ£€æµ‹çš„æ˜¯åŸå‹ã€‚instanceof åªèƒ½ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å±äºå®ä¾‹å…³ç³»ï¼Œ è€Œä¸èƒ½åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å®ä¾‹å…·ä½“å±äºå“ªç§ç±»å‹ã€‚ instanceof ä¸»è¦çš„å®ç°åŸç†å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯ã€‚</p><ul><li><p>constructor</p><ul><li>null å’Œ undefined æ˜¯æ— æ•ˆçš„å¯¹è±¡ï¼Œä¸ä¼šæœ‰ constructor å­˜åœ¨çš„</li><li>å‡½æ•°çš„ constructor æ˜¯ä¸ç¨³å®šçš„ï¼Œè¿™ä¸ªä¸»è¦ä½“ç°åœ¨è‡ªå®šä¹‰å¯¹è±¡ä¸Šï¼Œå½“å¼€å‘è€…é‡å†™ prototype åï¼ŒåŸæœ‰çš„ constructor å¼•ç”¨ä¼šä¸¢å¤±ï¼Œconstructor ä¼šé»˜è®¤ä¸º Objectã€‚ä¸ºäº†è§„èŒƒå¼€å‘ï¼Œåœ¨é‡å†™å¯¹è±¡åŸå‹æ—¶ä¸€èˆ¬éƒ½éœ€è¦é‡æ–°ç»™ constructor èµ‹å€¼ã€‚</li></ul></li><li><p>toString</p></li></ul><p>toString() æ˜¯ Object çš„åŸå‹æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œé»˜è®¤è¿”å›å½“å‰å¯¹è±¡çš„ [[Class]] ã€‚è¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œå…¶æ ¼å¼ä¸º [object Xxx] ï¼Œå…¶ä¸­ Xxx å°±æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚</p><h2 id="æµè§ˆå™¨äº‹ä»¶æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æµè§ˆå™¨äº‹ä»¶æ¨¡å‹" aria-hidden="true">#</a> æµè§ˆå™¨äº‹ä»¶æ¨¡å‹</h2><p>DOMäº‹ä»¶æµï¼ˆevent flow ï¼‰å­˜åœ¨ä¸‰ä¸ªé˜¶æ®µï¼šäº‹ä»¶æ•è·é˜¶æ®µã€å¤„äºç›®æ ‡é˜¶æ®µã€äº‹ä»¶å†’æ³¡é˜¶æ®µã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// useCaptureï¼štrue, å³é‡‡ç”¨äº‹ä»¶æ•è·æ–¹å¼</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window æ•è·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// useCaptureï¼šfalseã€é»˜è®¤ä¸ºfalseã€‘ï¼Œå³é‡‡ç”¨äº‹ä»¶å†’æ³¡æ–¹å¼</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window å†’æ³¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›®æ ‡å…ƒç´ ï¼ˆè¢«ç‚¹å‡»çš„å…ƒç´ ï¼‰ç»‘å®šçš„äº‹ä»¶éƒ½ä¼šå‘ç”Ÿåœ¨ç›®æ ‡é˜¶æ®µï¼Œåœ¨ç»‘å®šæ•è·ä»£ç ä¹‹å‰å†™äº†ç»‘å®šçš„å†’æ³¡é˜¶æ®µçš„ä»£ç ï¼Œæ‰€ä»¥åœ¨ç›®æ ‡å…ƒç´ ä¸Šå°±ä¸ä¼šéµå®ˆå…ˆå‘ç”Ÿæ•è·åå‘ç”Ÿå†’æ³¡è¿™ä¸€è§„åˆ™ï¼Œè€Œæ˜¯å…ˆç»‘å®šçš„äº‹ä»¶å…ˆå‘ç”Ÿã€‚</p><p>ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œå®ƒä¸Šé¢ç»‘å®šçš„äº‹ä»¶ä¼šéµå®ˆå…ˆå‘ç”Ÿæ•è·åå‘ç”Ÿå†’æ³¡çš„è§„åˆ™ã€‚</p><p>e.stopPropagation()ï¼šé˜»æ­¢äº‹ä»¶ä¼ æ’­ã€‚ä¸ä»…å¯ä»¥é˜»æ­¢äº‹ä»¶åœ¨å†’æ³¡é˜¶æ®µçš„ä¼ æ’­ï¼Œè¿˜èƒ½é˜»æ­¢äº‹ä»¶åœ¨æ•è·é˜¶æ®µçš„ä¼ æ’­ã€‚ e.preventDefault(): é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚é»˜è®¤è¡Œä¸ºæ˜¯æŒ‡ï¼šç‚¹å‡»aæ ‡ç­¾å°±è½¬è·³åˆ°å…¶ä»–é¡µé¢ã€æ‹–æ‹½ä¸€ä¸ªå›¾ç‰‡åˆ°æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ã€ç‚¹å‡»è¡¨å•çš„æäº¤æŒ‰é’®ä¼šæäº¤è¡¨å•ç­‰</p><h2 id="httpç¼“å­˜-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#httpç¼“å­˜-å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜" aria-hidden="true">#</a> httpç¼“å­˜: å¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜</h2><p>è‰¯å¥½çš„ç¼“å­˜ç­–ç•¥å¯ä»¥é™ä½èµ„æºçš„é‡å¤åŠ è½½æé«˜ç½‘é¡µçš„æ•´ä½“åŠ è½½é€Ÿåº¦ã€‚</p><ul><li><p>ç¼“å­˜åŸç†</p><ul><li>æµè§ˆå™¨åœ¨åŠ è½½èµ„æºæ—¶ï¼Œæ ¹æ®è¯·æ±‚å¤´çš„expireså’Œcache-controlåˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œæ˜¯åˆ™ç›´æ¥ä»ç¼“å­˜è¯»å–èµ„æºï¼Œä¸ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚</li><li>å¦‚æœæ²¡æœ‰å‘½ä¸­å¼ºç¼“å­˜ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡last-modifiedå’ŒetagéªŒè¯æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ã€‚å½“å‘æœåŠ¡ç«¯å‘èµ·ç¼“å­˜æ ¡éªŒçš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šè¿”å› 200 okè¡¨ç¤ºè¿”å›æ­£å¸¸çš„ç»“æœæˆ–è€… 304 Not Modified(ä¸è¿”å›body)è¡¨ç¤ºæµè§ˆå™¨å¯ä»¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜æ–‡ä»¶ã€‚304çš„å“åº”å¤´ä¹Ÿå¯ä»¥åŒæ—¶æ›´æ–°ç¼“å­˜æ–‡æ¡£çš„è¿‡æœŸæ—¶é—´</li><li>å¦‚æœå‰é¢ä¸¤è€…éƒ½æ²¡æœ‰å‘½ä¸­ï¼Œç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºã€‚</li></ul></li><li><p>å®ç°æ–¹å¼</p></li></ul><p>å¼ºç¼“å­˜é€šè¿‡Expireså’ŒCache-Controlå®ç°ã€‚ åå•†ç¼“å­˜æ˜¯åˆ©ç”¨çš„æ˜¯ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘å’Œã€ETagã€If-None-Matchã€‘è¿™ä¸¤å¯¹Headeræ¥ç®¡ç†çš„ã€‚</p><ul><li>Expires</li></ul><p>Expiresæ˜¯http1.0æå‡ºçš„ä¸€ä¸ªè¡¨ç¤ºèµ„æºè¿‡æœŸæ—¶é—´çš„headerï¼Œå®ƒæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œç”±æœåŠ¡å™¨è¿”å›ã€‚Expires å—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆã€‚ Expires: Wed, 11 May 2018 07:20:00 GMT</p><p>Cache-Control Cache-Control å‡ºç°äº HTTP / 1.1ï¼Œä¼˜å…ˆçº§é«˜äº Expires , è¡¨ç¤ºçš„æ˜¯ç›¸å¯¹æ—¶é—´ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>no-storeï¼šæ²¡æœ‰ç¼“å­˜ã€‚ç¼“å­˜ä¸­ä¸å¾—å­˜å‚¨ä»»ä½•å…³äºå®¢æˆ·ç«¯è¯·æ±‚å’ŒæœåŠ¡ç«¯å“åº”çš„å†…å®¹ã€‚æ¯æ¬¡ç”±å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚éƒ½ä¼šä¸‹è½½å®Œæ•´çš„å“åº”å†…å®¹ã€‚
no-cache: ç¼“å­˜ä½†é‡æ–°éªŒè¯ã€‚æ¯æ¬¡æœ‰è¯·æ±‚å‘å‡ºæ—¶ï¼Œç¼“å­˜ä¼šå°†æ­¤è¯·æ±‚å‘åˆ°æœåŠ¡å™¨ï¼ˆè¯‘è€…æ³¨ï¼šè¯¥è¯·æ±‚åº”è¯¥ä¼šå¸¦æœ‰ä¸æœ¬åœ°ç¼“å­˜ç›¸å…³çš„éªŒè¯å­—æ®µï¼‰ï¼ŒæœåŠ¡å™¨ç«¯ä¼šéªŒè¯è¯·æ±‚ä¸­æ‰€æè¿°çš„ç¼“å­˜æ˜¯å¦è¿‡æœŸï¼Œè‹¥æœªè¿‡æœŸï¼ˆè¿”å›304ï¼‰ï¼Œåˆ™ç¼“å­˜æ‰ä½¿ç”¨æœ¬åœ°ç¼“å­˜å‰¯æœ¬ã€‚
privateï¼šåªå…è®¸å®¢æˆ·ç«¯æµè§ˆå™¨ç¼“å­˜ã€‚
public: å…è®¸æ‰€æœ‰ç”¨æˆ·ç¼“å­˜ã€‚ä¾‹å¦‚ä¸­é—´ä»£ç†ã€CDNç­‰
max-age=&lt;seconds&gt;ï¼šè¡¨ç¤ºèµ„æºèƒ½å¤Ÿè¢«ç¼“å­˜çš„æœ€å¤§æ—¶é—´ã€‚ç›¸å¯¹Expiresè€Œè¨€ï¼Œmax-ageæ˜¯è·ç¦»è¯·æ±‚å‘èµ·çš„æ—¶é—´çš„ç§’æ•°ã€‚é’ˆå¯¹åº”ç”¨ä¸­é‚£äº›ä¸ä¼šæ”¹å˜çš„æ–‡ä»¶ï¼Œé€šå¸¸å¯ä»¥æ‰‹åŠ¨è®¾ç½®ä¸€å®šçš„æ—¶é•¿ä»¥ä¿è¯ç¼“å­˜æœ‰æ•ˆï¼Œä¾‹å¦‚å›¾ç‰‡ã€cssã€jsç­‰é™æ€èµ„æºã€‚
must-revalidate:è§¦å‘ç¼“å­˜éªŒè¯ã€‚éªŒè¯å®ƒçš„çŠ¶æ€ï¼Œå·²è¿‡æœŸçš„ç¼“å­˜å°†ä¸è¢«ä½¿ç”¨
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Last-Modifiedï¼ŒIf-Modified-Since Last-Modifieè¡¨ç¤ºæœ¬åœ°æ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸï¼Œæµè§ˆå™¨ä¼šåœ¨request headeråŠ  If-Modified-Sinceï¼ˆä¸Šæ¬¡è¿”å›çš„Last-Modifiedçš„å€¼ï¼‰ï¼Œè¯¢é—®æœåŠ¡å™¨åœ¨è¯¥æ—¥æœŸåèµ„æºæ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰æ›´æ–°çš„è¯å°±ä¼šå°†æ–°çš„èµ„æºå‘é€å›æ¥ã€‚</p><p>ä½†æ˜¯å¦‚æœåœ¨æœ¬åœ°æ‰“å¼€ç¼“å­˜æ–‡ä»¶ï¼Œå°±ä¼šé€ æˆ Last-Modified è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥åœ¨ HTTP / 1.1 å‡ºç°äº† ETagã€‚</p><p>ETagã€If-None-Match Etagå°±åƒä¸€ä¸ªæŒ‡çº¹ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ETagå˜åŒ–ï¼Œè·Ÿæœ€åä¿®æ”¹æ—¶é—´æ²¡æœ‰å…³ç³»ï¼ŒETagå¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ã€‚</p><p>If-None-Matchçš„headerä¼šå°†ä¸Šæ¬¡è¿”å›çš„Etagå‘é€ç»™æœåŠ¡å™¨ï¼Œè¯¢é—®è¯¥èµ„æºçš„Etagæ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰å˜åŠ¨å°±ä¼šå‘é€æ–°çš„èµ„æºå›æ¥ã€‚</p><p>ETagçš„ä¼˜å…ˆçº§æ¯”Last-Modifiedæ›´é«˜ã€‚</p><ul><li>å…·ä½“ä¸ºä»€ä¹ˆè¦ç”¨ETagï¼Œä¸»è¦å‡ºäºä¸‹é¢å‡ ç§æƒ…å†µè€ƒè™‘ï¼š <ul><li>ä¸€äº›æ–‡ä»¶ä¹Ÿè®¸ä¼šå‘¨æœŸæ€§çš„æ›´æ”¹ï¼Œä½†æ˜¯ä»–çš„å†…å®¹å¹¶ä¸æ”¹å˜(ä»…ä»…æ”¹å˜çš„ä¿®æ”¹æ—¶é—´)ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å®¢æˆ·ç«¯è®¤ä¸ºè¿™ä¸ªæ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œè€Œé‡æ–°GETï¼›</li><li>æŸäº›æ–‡ä»¶ä¿®æ”¹éå¸¸é¢‘ç¹ï¼Œæ¯”å¦‚åœ¨ç§’ä»¥ä¸‹çš„æ—¶é—´å†…è¿›è¡Œä¿®æ”¹ï¼Œ(æ¯”æ–¹è¯´1så†…ä¿®æ”¹äº†Næ¬¡)ï¼ŒIf-Modified-Sinceèƒ½æ£€æŸ¥åˆ°çš„ç²’åº¦æ˜¯sçº§çš„ï¼Œè¿™ç§ä¿®æ”¹æ— æ³•åˆ¤æ–­(æˆ–è€…è¯´UNIXè®°å½•MTIMEåªèƒ½ç²¾ç¡®åˆ°ç§’)ï¼›</li><li>æŸäº›æœåŠ¡å™¨ä¸èƒ½ç²¾ç¡®çš„å¾—åˆ°æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚</li></ul></li></ul><h2 id="é˜²æŠ–å’ŒèŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#é˜²æŠ–å’ŒèŠ‚æµ" aria-hidden="true">#</a> é˜²æŠ–å’ŒèŠ‚æµ</h2><p>é˜²æŠ–ï¼šå½“ä½ åœ¨é¢‘ç¹è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œï¼Œåªæœ‰å½“ä½ åœ¨æŒ‡å®šé—´éš”å†…æ²¡æœ‰å†è°ƒç”¨ï¼Œæ‰ä¼šæ‰§è¡Œå‡½æ•°ã€‚</p><p>èŠ‚æµï¼šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// é˜²æŠ–</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
      time <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    time <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// èŠ‚æµ</span>

<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> lastTime<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
      <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">&gt;</span> lastTime <span class="token operator">+</span> wait <span class="token operator">||</span> <span class="token operator">!</span>lastTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        lastTime <span class="token operator">=</span> nowTime<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å¤§å°å•ä½åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#å¤§å°å•ä½åŒºåˆ«" aria-hidden="true">#</a> å¤§å°å•ä½åŒºåˆ«</h2><p>pxï¼šåƒç´ ã€‚ emï¼šå‚è€ƒç‰©æ˜¯çˆ¶å…ƒç´ çš„font-sizeï¼Œå…·æœ‰ç»§æ‰¿çš„ç‰¹ç‚¹ã€‚å¦‚æœè‡ªèº«å®šä¹‰äº†font-sizeæŒ‰è‡ªèº«æ¥è®¡ç®—ï¼Œæ•´ä¸ªé¡µé¢å†…1emä¸æ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼ã€‚ remï¼šç›¸å¯¹äºæ ¹å…ƒç´ htmlçš„font-sizeè®¡ç®—ï¼Œä¸ä¼šåƒemé‚£æ ·ï¼Œä¾èµ–äºçˆ¶å…ƒç´ çš„å­—ä½“å¤§å°ï¼Œè€Œé€ æˆæ··ä¹±ã€‚ vwï¼šè§†çª—å®½åº¦ï¼Œ1vwç­‰äºè§†çª—å®½åº¦çš„1%ã€‚ vhï¼šè§†çª—é«˜åº¦ï¼Œ1vhç­‰äºè§†çª—é«˜åº¦çš„1%ã€‚ vmï¼šmin(vw, vh)ã€‚ %ï¼šæ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„å¤§å°è®¾å®šçš„æ¯”ç‡ï¼Œposition:absolute;çš„å…ƒç´ æ˜¯ç›¸å¯¹äºå·²ç»å®šä½çš„çˆ¶å…ƒç´ ï¼Œpositionï¼šfixedï¼›çš„å…ƒç´ æ˜¯ç›¸å¯¹å¯è§†çª—å£ã€‚</p><blockquote><p>æµè§ˆå™¨é»˜è®¤å­—ä½“æ˜¯16px, bodyè®¾ç½®font-sizeï¼š62.5%, é‚£ä¹ˆ1rem =62.5% * 16=10px ã€‚</p></blockquote><blockquote><p>è°·æ­Œæµè§ˆå™¨å¼ºåˆ¶æœ€å°å­—ä½“ä¸º12å·ï¼Œå³ä½¿è®¾ç½®æˆ 10px æœ€ç»ˆéƒ½ä¼šæ˜¾ç¤ºæˆ 12pxï¼Œå½“æŠŠhtmlçš„font-sizeè®¾ç½®æˆ10px,å­èŠ‚ç‚¹remçš„è®¡ç®—è¿˜æ˜¯ä»¥12pxä¸ºåŸºå‡†ã€‚</p></blockquote><ul><li>Box-sizing <ul><li>content-boxï¼šè¿™æ˜¯é»˜è®¤æƒ…å†µï¼Œæ•´ä¸ªå…ƒç´ çš„é«˜åº¦å’Œå®½åº¦å°±æ˜¯å…ƒç´ å†…å®¹</li><li>border-boxï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œä½ è®¾ç½®çš„widthå’Œheightå±æ€§å€¼å°±æ˜¯é’ˆå¯¹æ•´ä¸ªå…ƒç´ ï¼ŒåŒ…æ‹¬äº†borderï¼Œpaddingï¼Œå’Œå…ƒç´ å†…å®¹ã€‚</li></ul></li></ul><h2 id="å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼" aria-hidden="true">#</a> å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å‡½æ•°å£°æ˜</span>
<span class="token keyword">function</span> <span class="token function">wscat</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;wscat&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‡½æ•°è¡¨è¾¾å¼</span>
<span class="token keyword">var</span> <span class="token function-variable function">oaoafly</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;oaoafly&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>JavaScript è§£é‡Šå™¨ä¸­å­˜åœ¨ä¸€ç§å˜é‡å£°æ˜è¢«æå‡çš„æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œå³ä½¿å†™ä»£ç çš„æ—¶å€™æ˜¯å†™åœ¨æœ€åé¢ï¼Œä¹Ÿè¿˜æ˜¯ä¼šè¢«æå‡è‡³æœ€å‰é¢ã€‚</p></li><li><p>ç”¨å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºçš„å‡½æ•°æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œèµ‹å€¼ï¼Œä¸”è¦ç­‰åˆ°è¡¨è¾¾å¼èµ‹å€¼å®Œæˆåæ‰èƒ½è°ƒç”¨</p></li></ul><p>å‡½æ•°å£°æ˜åœ¨JSè§£ææ—¶è¿›è¡Œå‡½æ•°æå‡ï¼Œå› æ­¤åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œä¸ç®¡å‡½æ•°å£°æ˜åœ¨å“ªé‡Œå®šä¹‰ï¼Œè¯¥å‡½æ•°éƒ½å¯ä»¥è¿›è¡Œè°ƒç”¨ã€‚è€Œå‡½æ•°è¡¨è¾¾å¼çš„å€¼æ˜¯åœ¨JSè¿è¡Œæ—¶ç¡®å®šï¼Œå¹¶ä¸”åœ¨è¡¨è¾¾å¼èµ‹å€¼å®Œæˆåï¼Œè¯¥å‡½æ•°æ‰èƒ½è°ƒç”¨ã€‚è¿™ä¸ªå¾®å°çš„åŒºåˆ«ï¼Œå¯èƒ½ä¼šå¯¼è‡´JSä»£ç å‡ºç°æ„æƒ³ä¸åˆ°çš„bugï¼Œè®©ä½ é™·å…¥è«åçš„é™·é˜±ä¸­ã€‚</p><h2 id="äº‹ä»¶å¾ªç¯eventloop" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶å¾ªç¯eventloop" aria-hidden="true">#</a> äº‹ä»¶å¾ªç¯EventLoop</h2><p>JavaScriptæ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„è„šæœ¬è¯­è¨€ã€‚</p><p>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ (Execution Context Stack)ï¼›è€Œå¼‚æ­¥ä»»åŠ¡ä¼šè¢«æ”¾ç½®åˆ° Task Tableï¼ˆå¼‚æ­¥å¤„ç†æ¨¡å—ï¼‰ï¼Œå½“å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±å°†æ³¨å†Œçš„å›è°ƒå‡½æ•°ç§»å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆä¸¤ç§é˜Ÿåˆ—ï¼‰ã€‚</p><p>ä¸€æ—¦æ‰§è¡Œæ ˆä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå¼•æ“å°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åå°†ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡å–å‡ºæ”¾åˆ°æ‰§è¡Œæ ˆä¸­è¿è¡Œã€‚ï¼ˆæ‰€æœ‰ä¼šè¿›å…¥çš„å¼‚æ­¥éƒ½æ˜¯æŒ‡çš„äº‹ä»¶å›è°ƒä¸­çš„é‚£éƒ¨åˆ†ä»£ç ï¼‰</p><p>åªè¦ä¸»çº¿ç¨‹ç©ºäº†ï¼Œå°±ä¼šå»è¯»å–ä»»åŠ¡é˜Ÿåˆ—ï¼Œè¯¥è¿‡ç¨‹ä¸æ–­é‡å¤ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ äº‹ä»¶å¾ªç¯ã€‚</p><ul><li>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</li></ul><p>å®ä»»åŠ¡ä¼šè¿›å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¾®ä»»åŠ¡ä¼šè¿›å…¥åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸”å¾®ä»»åŠ¡è¦ä¼˜äºå®ä»»åŠ¡æ‰§è¡Œã€‚ å®ä»»åŠ¡ï¼šscript(æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€äº‹ä»¶ã€postMessageã€ MessageChannelã€setImmediate (Node.js) å¾®ä»»åŠ¡ï¼šPromise.thenã€ MutaionObserverã€process.nextTick (Node.js)</p><p>å®ä»»åŠ¡ä¼šè¿›å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè€Œå¾®ä»»åŠ¡ä¼šè¿›å…¥åˆ°å¦ä¸€ä¸ªä¸åŒçš„é˜Ÿåˆ—ï¼Œä¸”å¾®ä»»åŠ¡è¦ä¼˜äºå®ä»»åŠ¡æ‰§è¡Œã€‚</p><h2 id="promise-1" tabindex="-1"><a class="header-anchor" href="#promise-1" aria-hidden="true">#</a> Promise</h2><ul><li>Promise.all: å…¨éƒ¨fulfilled, æ‰è¿›å…¥then, å¦åˆ™ catch</li><li>Promise.race: ä»»ä¸€ä¸ªè¿”å›ï¼Œä¸ç®¡æ˜¯fulfilledè¿˜æ˜¯rejected, è¿›å…¥ç›¸åº”çš„then/catch</li><li>Promise.allSettled: å…¨éƒ¨è¿”å›ï¼Œä¸ç®¡æ˜¯fulfilledè¿˜æ˜¯rejected, è¿›å…¥then</li><li>Promise.any: ä»»ä¸€ä¸ªè¿”å›fulfilled, å°±è¿›å…¥then, å¦åˆ™ catch</li></ul><h2 id="è™šæ‹ŸdomåŸç†" tabindex="-1"><a class="header-anchor" href="#è™šæ‹ŸdomåŸç†" aria-hidden="true">#</a> è™šæ‹ŸdomåŸç†</h2><p>Virtual DOMæ˜¯å¯¹DOMçš„æŠ½è±¡,æœ¬è´¨ä¸Šæ˜¯JavaScriptå¯¹è±¡,è¿™ä¸ªå¯¹è±¡å°±æ˜¯æ›´åŠ è½»é‡çº§çš„å¯¹DOMçš„æè¿°.</p><h2 id="ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«" aria-hidden="true">#</a> ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°åŒºåˆ«</h2><ul><li><p>è¯­æ³•æ›´åŠ ç®€æ´ã€æ¸…æ™°</p></li><li><p>ä¸ç»‘å®šthisï¼Œä¼šæ•è·å…¶æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„thiså€¼ï¼Œä½œä¸ºè‡ªå·±çš„thiså€¼</p></li><li><p>ç®­å¤´å‡½æ•°ç»§æ‰¿è€Œæ¥çš„thisæŒ‡å‘æ°¸è¿œä¸å˜</p></li><li><p>.call()/.apply()/.bind()æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘</p></li><li><p>ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œ å› ä¸ºæ²¡æœ‰è‡ªå·±çš„ thisï¼Œæ— æ³•è°ƒç”¨ callï¼Œapplyï¼›æ²¡æœ‰ prototype å±æ€§ ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„__prpto__ ã€‚</p></li><li><p>æ²¡æœ‰è‡ªå·±çš„argumentsï¼Œåœ¨ç®­å¤´å‡½æ•°ä¸­è®¿é—®argumentså®é™…ä¸Šè·å¾—çš„æ˜¯å¤–å±‚å±€éƒ¨ï¼ˆå‡½æ•°ï¼‰æ‰§è¡Œç¯å¢ƒä¸­çš„å€¼ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</p></li><li><p>æ²¡æœ‰åŸå‹prototype, æŒ‡å‘ undefined</p></li><li><p>ä¸èƒ½ä½¿ç”¨yeildå…³é”®å­—</p></li></ul><h2 id="new" tabindex="-1"><a class="header-anchor" href="#new" aria-hidden="true">#</a> new</h2><ul><li>new å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š <ul><li>åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{}ï¼‰ï¼›</li><li>é“¾æ¥è¯¥å¯¹è±¡ï¼ˆè®¾ç½®è¯¥å¯¹è±¡çš„__proto__ï¼‰åˆ°æ„é€ å™¨å‡½æ•°çš„åŸå‹ ï¼›</li><li>å°†æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›</li><li>è¿”å›ã€‚å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">newFunc</span><span class="token punctuation">(</span><span class="token parameter">father<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// å°†ç©ºå¯¹è±¡çš„åŸå‹èµ‹å€¼ä¸ºæ„é€ å™¨å‡½æ•°çš„åŸå‹</span>
  result<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> father<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token comment">// æ›´æ”¹æ„é€ å™¨å‡½æ•°å†…éƒ¨thisï¼Œå°†å…¶æŒ‡å‘æ–°åˆ›å»ºçš„ç©ºå¯¹è±¡</span>
  <span class="token keyword">var</span> result2 <span class="token operator">=</span> <span class="token function">father</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> rest<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> result2 <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> result2 <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> result2 <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼" aria-hidden="true">#</a> æ°´å¹³ä¸å‚ç›´å±…ä¸­å®ç°æ–¹å¼</h2><ul><li>æ°´å¹³å±…ä¸­ <ul><li>text-align: center; è¡Œå†…å…ƒç´ é€‚ç”¨</li><li>margin: 0 auto; é€‚ç”¨å—çº§å…ƒç´ </li><li>width: fit-content; è‹¥å­å…ƒç´ åŒ…å« float:left å±æ€§, ä¸ºäº†è®©å­å…ƒç´ æ°´å¹³å±…ä¸­, åˆ™å¯è®©çˆ¶å…ƒç´ å®½åº¦è®¾ç½®ä¸ºfit-content, å¹¶ä¸”é…åˆmarginã€‚</li></ul></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>fit-content<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* flex */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* ç›’æ¨¡å‹, ä½¿ç”¨flex 2009å¹´ç‰ˆæœ¬ */</span>


<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> box<span class="token punctuation">;</span>
  <span class="token property">box-orient</span><span class="token punctuation">:</span> horizontal<span class="token punctuation">;</span>
  <span class="token property">box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* transform */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* ä¸¤ç§ä¸åŒçš„ç»å¯¹å®šä½æ–¹æ³• */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> å›ºå®šï¼›
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -0.5 * å®½åº¦<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> å›ºå®šï¼›
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å‚ç›´å±…ä¸­ <ul><li>å•è¡Œæ–‡æœ¬, line-height</li><li>è¡Œå†…å—çº§å…ƒç´ , ä½¿ç”¨ display: inline-block, vertical-align: middle; åŠ ä¸Šä¼ªå…ƒç´ è¾…åŠ©å®ç°</li></ul></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.parent::after, .son</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.parent::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>vertical-alignã€‚vertical-alignåªæœ‰åœ¨çˆ¶å±‚ä¸º td æˆ–è€… th æ—¶, æ‰ä¼šç”Ÿæ•ˆ, å¯¹äºå…¶ä»–å—çº§å…ƒç´ , ä¾‹å¦‚ divã€p ç­‰, é»˜è®¤æƒ…å†µæ˜¯ä¸æ”¯æŒçš„. ä¸ºäº†ä½¿ç”¨vertical-align, æˆ‘ä»¬éœ€è¦è®¾ç½®çˆ¶å…ƒç´ display:table, å­å…ƒç´  display:table-cell;vertical-align:middle;</li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* flex */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* ç›’æ¨¡å‹ */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> box<span class="token punctuation">;</span>
  <span class="token property">box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
  <span class="token property">box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* transform */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸¤ç§ä¸åŒçš„ç»å¯¹å®šä½æ–¹æ³•</li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> å›ºå®š<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -0.5 * height<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> å›ºå®š<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>flex, ç›’æ¨¡å‹, transform, ç»å¯¹å®šä½, è¿™å‡ ç§æ–¹æ³•åŒæ—¶é€‚ç”¨äºæ°´å¹³å±…ä¸­å’Œå‚ç›´å±…ä¸­</p><h2 id="æ’åº" tabindex="-1"><a class="header-anchor" href="#æ’åº" aria-hidden="true">#</a> æ’åº</h2><ul><li>å†’æ³¡æ’åº</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€‰æ‹©æ’åº</li></ul><p>é€‰æ‹©æ’åº(Selection-sort)æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†ï¼šé¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åï¼Œå†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">selectionSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">=</span> j<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ’å…¥æ’åº</li></ul><p>æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰çš„ç®—æ³•æè¿°æ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æ’åºç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡æ„å»ºæœ‰åºåºåˆ—ï¼Œå¯¹äºæœªæ’åºæ•°æ®ï¼Œåœ¨å·²æ’åºåºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®å¹¶æ’å…¥ã€‚</p><p>æ’å…¥æ’åºåœ¨å®ç°ä¸Šï¼Œé€šå¸¸é‡‡ç”¨in-placeæ’åºï¼ˆå³åªéœ€ç”¨åˆ°O(1)çš„é¢å¤–ç©ºé—´çš„æ’åºï¼‰ï¼Œå› è€Œåœ¨ä»åå‘å‰æ‰«æè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åå¤æŠŠå·²æ’åºå…ƒç´ é€æ­¥å‘åæŒªä½ï¼Œä¸ºæœ€æ–°å…ƒç´ æä¾›æ’å…¥ç©ºé—´ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertionSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> value <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      j<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å½’å¹¶æ’åº</li></ul><p>å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆçš„æ’åºç®—æ³•ã€‚è¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å½’å¹¶æ’åºæ˜¯ä¸€ç§ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸º2-è·¯å½’å¹¶ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//é‡‡ç”¨è‡ªä¸Šè€Œä¸‹çš„é€’å½’æ–¹æ³•</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">;</span>

  <span class="token keyword">const</span> middle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>len <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> middle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>middle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">mergeSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> right<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¿«é€Ÿæ’åº</li></ul><p>å¿«é€Ÿæ’åºçš„åŸºæœ¬æ€æƒ³ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†è®°å½•çš„å…³é”®å­—å‡æ¯”å¦ä¸€éƒ¨åˆ†çš„å…³é”®å­—å°ï¼Œåˆ™å¯åˆ†åˆ«å¯¹è¿™ä¸¤éƒ¨åˆ†è®°å½•ç»§ç»­è¿›è¡Œæ’åºï¼Œä»¥è¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
  <span class="token keyword">const</span> pivotIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>pivotIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pivot<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ´—ç‰Œç®—æ³•" tabindex="-1"><a class="header-anchor" href="#æ´—ç‰Œç®—æ³•" aria-hidden="true">#</a> æ´—ç‰Œç®—æ³•</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> random <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    length<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æˆ–</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">.5</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#react-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> react ç”Ÿå‘½å‘¨æœŸ</h2><p>React v16.0å‰çš„ç”Ÿå‘½å‘¨æœŸ åˆå§‹åŒ–(initialization)é˜¶æ®µ æ­¤é˜¶æ®µåªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šconstructorã€‚</p><h3 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor" aria-hidden="true">#</a> constructor()</h3><p>ç”¨æ¥åšä¸€äº›ç»„ä»¶çš„åˆå§‹åŒ–å·¥ä½œï¼Œå¦‚å®šä¹‰this.stateçš„åˆå§‹å†…å®¹ã€‚å¦‚æœä¸åˆå§‹åŒ– state æˆ–ä¸è¿›è¡Œæ–¹æ³•ç»‘å®šï¼Œåˆ™ä¸éœ€è¦ä¸º React ç»„ä»¶å®ç°æ„é€ å‡½æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆå¿…é¡»å…ˆè°ƒç”¨super(props)?</p><p>å› ä¸ºå­ç±»è‡ªå·±çš„thiså¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Checkbox</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ğŸ”´ è¿™æ—¶å€™è¿˜ä¸èƒ½ä½¿ç”¨this</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// âœ… ç°åœ¨å¼€å§‹å¯ä»¥ä½¿ç”¨this</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// âœ… {}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ… {}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸ºä»€ä¹ˆsuperè¦ä¼ -props" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆsuperè¦ä¼ -props" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆsuperè¦ä¼  props?</h3><p>æŠŠ props ä¼ è¿› super æ˜¯å¿…è¦çš„ï¼Œè¿™ä½¿å¾—åŸºç±» React.Component å¯ä»¥åˆå§‹åŒ– this.propsã€‚</p><p>ç„¶è€Œï¼Œå³ä¾¿åœ¨è°ƒç”¨ super() æ—¶æ²¡æœ‰ä¼ å…¥ props å‚æ•°ï¼Œä½ ä¾ç„¶èƒ½å¤Ÿåœ¨ render å’Œå…¶å®ƒæ–¹æ³•ä¸­è®¿é—® this.propsã€‚</p><p>å…¶å®æ˜¯ React åœ¨è°ƒç”¨ä½ çš„æ„é€ å‡½æ•°ä¹‹åï¼Œé©¬ä¸Šåˆç»™å®ä¾‹è®¾ç½®äº†ä¸€é propsã€‚</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ– this.props</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// React å†…éƒ¨</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
instance<span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span> <span class="token comment">// ç»™å®ä¾‹è®¾ç½® props</span>

<span class="token comment">// Buttonç±»ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜¬ æˆ‘ä»¬å¿˜äº†ä¼ å…¥ props</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// âœ… {}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ğŸ˜¬ undefined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŒ‚è½½-mounting-é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#æŒ‚è½½-mounting-é˜¶æ®µ" aria-hidden="true">#</a> æŒ‚è½½(Mounting)é˜¶æ®µ</h3><p>æ­¤é˜¶æ®µç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šcomponentWillMount =&gt; render =&gt; componentDidMount</p><ol><li>componentWillMount():</li></ol><p>åœ¨ç»„ä»¶æŒ‚è½½åˆ°DOMå‰è°ƒç”¨ï¼Œä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ æ¯ä¸€ä¸ªå­ç»„ä»¶renderä¹‹å‰ç«‹å³è°ƒç”¨ï¼› åœ¨æ­¤æ–¹æ³•è°ƒç”¨this.setStateä¸ä¼šå¼•èµ·ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿå¯ä»¥æŠŠå†™åœ¨è¿™è¾¹çš„å†…å®¹æå‰åˆ°constructor()ä¸­ã€‚</p><ol start="2"><li>render(): class ç»„ä»¶å”¯ä¸€å¿…é¡»å®ç°çš„æ–¹æ³•</li></ol><p>å½“ render è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥ this.props å’Œ this.state çš„å˜åŒ–å¹¶è¿”å›ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š</p><p>React å…ƒç´ ã€‚é€šå¸¸é€šè¿‡ JSX åˆ›å»ºã€‚ä¾‹å¦‚ï¼Œ<code>&lt;div /&gt;</code> ä¼šè¢« React æ¸²æŸ“ä¸º DOM èŠ‚ç‚¹ï¼Œ<code>&lt;MyComponent /&gt; </code>ä¼šè¢« React æ¸²æŸ“ä¸ºè‡ªå®šä¹‰ç»„ä»¶ï¼Œæ— è®ºæ˜¯ <code>&lt;div /&gt;</code> è¿˜æ˜¯ <code>&lt;MyComponent /&gt;</code> å‡ä¸º React å…ƒç´ ã€‚</p><p>æ•°ç»„æˆ– fragmentsã€‚ä½¿å¾— render æ–¹æ³•å¯ä»¥è¿”å›å¤šä¸ªå…ƒç´ ã€‚Fragments å…è®¸ä½ å°†å­åˆ—è¡¨åˆ†ç»„ï¼Œè€Œæ— éœ€å‘ DOM æ·»åŠ é¢å¤–èŠ‚ç‚¹ã€‚</p><p>Portalsã€‚å¯ä»¥æ¸²æŸ“å­èŠ‚ç‚¹åˆ°ä¸åŒçš„ DOM å­æ ‘ä¸­ã€‚Portal æä¾›äº†ä¸€ç§å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹çš„ä¼˜ç§€çš„æ–¹æ¡ˆã€‚</p><p>å­—ç¬¦ä¸²æˆ–æ•°å€¼ç±»å‹ã€‚å®ƒä»¬åœ¨ DOM ä¸­ä¼šè¢«æ¸²æŸ“ä¸ºæ–‡æœ¬èŠ‚ç‚¹ã€‚</p><p>å¸ƒå°”ç±»å‹æˆ– nullã€‚ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“ã€‚</p><p>render() å‡½æ•°åº”è¯¥ä¸ºçº¯å‡½æ•°ï¼Œè¿™æ„å‘³ç€åœ¨ä¸ä¿®æ”¹ç»„ä»¶ state çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶éƒ½è¿”å›ç›¸åŒçš„ç»“æœï¼Œå¹¶ä¸”å®ƒä¸ä¼šç›´æ¥ä¸æµè§ˆå™¨äº¤äº’ã€‚ä¸èƒ½åœ¨é‡Œé¢æ‰§è¡Œthis.setStateï¼Œä¼šæœ‰æ”¹å˜ç»„ä»¶çŠ¶æ€çš„å‰¯ä½œç”¨ã€‚</p><ol start="3"><li>componentDidMount</li></ol><p>ä¼šåœ¨ç»„ä»¶æŒ‚è½½åï¼ˆæ’å…¥ DOM æ ‘ä¸­ï¼‰ç«‹å³è°ƒç”¨ï¼Œ ä¸”åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ä¾èµ–äº DOM èŠ‚ç‚¹çš„åˆå§‹åŒ–åº”è¯¥æ”¾åœ¨è¿™é‡Œã€‚ renderä¹‹åå¹¶ä¸ä¼šç«‹å³è°ƒç”¨ï¼Œè€Œæ˜¯æ‰€æœ‰çš„å­ç»„ä»¶éƒ½renderå®Œä¹‹åæ‰ä¼šè°ƒç”¨ã€‚</p><h3 id="æ›´æ–°-update-é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°-update-é˜¶æ®µ" aria-hidden="true">#</a> æ›´æ–°(update)é˜¶æ®µ</h3><p>æ­¤é˜¶æ®µç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šcomponentWillReceiveProps =&gt; shouldComponentUpdate =&gt; componentWillUpdate =&gt; render =&gt; componentDidUpdateã€‚</p><h3 id="reactç»„ä»¶æ›´æ–°æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#reactç»„ä»¶æ›´æ–°æœºåˆ¶" aria-hidden="true">#</a> reactç»„ä»¶æ›´æ–°æœºåˆ¶</h3><p>setStateå¼•èµ·çš„stateæ›´æ–°æˆ–çˆ¶ç»„ä»¶é‡æ–°renderå¼•èµ·çš„propsæ›´æ–°ï¼Œæ›´æ–°åçš„stateå’Œpropsç›¸å¯¹ä¹‹å‰æ— è®ºæ˜¯å¦æœ‰å˜åŒ–ï¼Œéƒ½å°†å¼•èµ·å­ç»„ä»¶çš„é‡æ–°renderã€‚</p><ol><li>çˆ¶ç»„ä»¶é‡æ–°render</li></ol><p>ç›´æ¥é‡æ–°æ¸²æŸ“ã€‚æ¯å½“çˆ¶ç»„ä»¶é‡æ–°renderå¯¼è‡´çš„é‡ä¼ propsï¼Œå­ç»„ä»¶å°†ç›´æ¥è·Ÿç€é‡æ–°æ¸²æŸ“ï¼Œæ— è®ºpropsæ˜¯å¦æœ‰å˜åŒ–ã€‚å¯é€šè¿‡shouldComponentUpdateæ–¹æ³•ä¼˜åŒ–ã€‚</p><p>æ›´æ–°stateå†æ¸²æŸ“ã€‚åœ¨componentWillReceivePropsæ–¹æ³•ä¸­ï¼Œå°†propsè½¬æ¢æˆè‡ªå·±çš„stateï¼Œè°ƒç”¨ this.setState() å°†ä¸ä¼šå¼•èµ·ç¬¬äºŒæ¬¡æ¸²æŸ“ã€‚</p><p>å› ä¸ºcomponentWillReceivePropsä¸­åˆ¤æ–­propsæ˜¯å¦å˜åŒ–äº†ï¼Œè‹¥å˜åŒ–äº†ï¼Œthis.setStateå°†å¼•èµ·stateå˜åŒ–ï¼Œä»è€Œå¼•èµ·renderï¼Œæ­¤æ—¶å°±æ²¡å¿…è¦å†åšç¬¬äºŒæ¬¡å› é‡ä¼ propså¼•èµ·çš„renderäº†ï¼Œä¸ç„¶é‡å¤åšä¸€æ ·çš„æ¸²æŸ“äº†ã€‚</p><ol start="2"><li>è‡ªèº«setState</li></ol><p>ç»„ä»¶æœ¬èº«è°ƒç”¨setStateï¼Œæ— è®ºstateæœ‰æ²¡æœ‰å˜åŒ–ã€‚å¯é€šè¿‡shouldComponentUpdateæ–¹æ³•ä¼˜åŒ–ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸåˆ†æ</p><ol><li>componentWillReceiveProps(nextProps)</li></ol><p>æ­¤æ–¹æ³•åªè°ƒç”¨äºpropså¼•èµ·çš„ç»„ä»¶æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå“åº” Props å˜åŒ–ä¹‹åè¿›è¡Œæ›´æ–°çš„å”¯ä¸€æ–¹å¼ã€‚ å‚æ•°nextPropsæ˜¯çˆ¶ç»„ä»¶ä¼ ç»™å½“å‰ç»„ä»¶çš„æ–°propsã€‚æ ¹æ®nextPropså’Œthis.propsæ¥åˆ¤æ–­é‡ä¼ çš„propsæ˜¯å¦æ”¹å˜ï¼Œä»¥åŠåšç›¸åº”çš„å¤„ç†ã€‚</p><ol start="2"><li>shouldComponentUpdate(nextProps, nextState)</li></ol><p>æ ¹æ® shouldComponentUpdate() çš„è¿”å›å€¼ï¼Œåˆ¤æ–­ React ç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—å½“å‰ state æˆ– props æ›´æ”¹çš„å½±å“ã€‚é»˜è®¤è¡Œä¸ºæ˜¯ state æ¯æ¬¡å‘ç”Ÿå˜åŒ–ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚</p><p>å½“ props æˆ– state å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒshouldComponentUpdate() ä¼šåœ¨æ¸²æŸ“æ‰§è¡Œä¹‹å‰è¢«è°ƒç”¨ã€‚è¿”å›å€¼é»˜è®¤ä¸º trueã€‚</p><p>é¦–æ¬¡æ¸²æŸ“æˆ–ä½¿ç”¨ forceUpdate() æ—¶ä¸ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚</p><p>æ­¤æ–¹æ³•å¯ä»¥å°† this.props ä¸ nextProps ä»¥åŠ this.state ä¸nextState è¿›è¡Œæ¯”è¾ƒï¼Œè¿”å›trueæ—¶å½“å‰ç»„ä»¶å°†ç»§ç»­æ‰§è¡Œæ›´æ–°è¿‡ç¨‹ï¼Œè¿”å›falseåˆ™è·³è¿‡æ›´æ–°ï¼Œä»¥æ­¤å¯ç”¨æ¥å‡å°‘ç»„ä»¶çš„ä¸å¿…è¦æ¸²æŸ“ï¼Œä¼˜åŒ–ç»„ä»¶æ€§èƒ½ã€‚</p><p>è¯·æ³¨æ„ï¼Œè¿”å› false å¹¶ä¸ä¼šé˜»æ­¢å­ç»„ä»¶åœ¨ state æ›´æ”¹æ—¶é‡æ–°æ¸²æŸ“ã€‚</p><blockquote><p>å¦‚æœåœ¨componentWillReceiveProps()ä¸­æ‰§è¡Œäº†this.setStateï¼Œæ›´æ–°stateï¼Œä½†åœ¨renderå‰ï¼ˆå¦‚shouldComponentUpdateï¼ŒcomponentWillUpdateï¼‰ï¼Œthis.stateä¾ç„¶æŒ‡å‘æ›´æ–°å‰çš„stateï¼Œä¸ç„¶nextStateåŠå½“å‰ç»„ä»¶çš„this.stateçš„å¯¹æ¯”å°±ä¸€ç›´æ˜¯trueäº†ã€‚ åº”è¯¥è€ƒè™‘ä½¿ç”¨å†…ç½®çš„ PureComponent ç»„ä»¶ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨ç¼–å†™ shouldComponentUpdate()ã€‚PureComponent ä¼šå¯¹ props å’Œ state è¿›è¡Œæµ…å±‚æ¯”è¾ƒï¼Œå¹¶å‡å°‘äº†è·³è¿‡å¿…è¦æ›´æ–°çš„å¯èƒ½æ€§ã€‚</p></blockquote><ol start="3"><li>componentWillUpdate(nextProps, nextState)</li></ol><p>æ­¤æ–¹æ³•åœ¨è°ƒç”¨renderæ–¹æ³•å‰æ‰§è¡Œï¼Œåœ¨è¿™è¾¹å¯æ‰§è¡Œä¸€äº›ç»„ä»¶æ›´æ–°å‘ç”Ÿå‰çš„å·¥ä½œï¼Œä¸€èˆ¬è¾ƒå°‘ç”¨ã€‚</p><ol start="4"><li>render</li></ol><p>renderåŒä¸Š</p><ol start="5"><li>componentDidUpdate(prevProps, prevState)</li></ol><p>æ­¤æ–¹æ³•åœ¨ç»„ä»¶æ›´æ–°åç«‹å³è°ƒç”¨ï¼Œå¯ä»¥æ“ä½œç»„ä»¶æ›´æ–°çš„DOMã€‚ prevPropså’ŒprevStateè¿™ä¸¤ä¸ªå‚æ•°æŒ‡çš„æ˜¯ç»„ä»¶æ›´æ–°å‰çš„propså’Œstateã€‚</p><h3 id="å¸è½½é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#å¸è½½é˜¶æ®µ" aria-hidden="true">#</a> å¸è½½é˜¶æ®µ</h3><p>æ­¤é˜¶æ®µåªæœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šcomponentWillUnmount</p><p>componentWillUnmount</p><p>æ­¤æ–¹æ³•åœ¨ç»„ä»¶è¢«å¸è½½å‰è°ƒç”¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œä¸€äº›æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚æ¸…æ¥šç»„ä»¶ä¸­ä½¿ç”¨çš„å®šæ—¶å™¨ï¼Œæ¸…æ¥šcomponentDidMountä¸­æ‰‹åŠ¨åˆ›å»ºçš„DOMå…ƒç´ ç­‰ï¼Œä»¥é¿å…å¼•èµ·å†…å­˜æ³„æ¼ã€‚ componentWillUnmount() ä¸­ä¸åº”è°ƒç”¨ setState()ï¼Œå› ä¸ºè¯¥ç»„ä»¶å°†æ°¸è¿œä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚ç»„ä»¶å®ä¾‹å¸è½½åï¼Œå°†æ°¸è¿œä¸ä¼šå†æŒ‚è½½å®ƒã€‚</p><h3 id="react-v16-0-åçš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#react-v16-0-åçš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> React v16.0 åçš„ç”Ÿå‘½å‘¨æœŸ</h3><p>React v16.0åˆšæ¨å‡ºçš„æ—¶å€™ï¼Œå¢åŠ äº†ä¸€ä¸ªcomponentDidCatchç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¢é‡å¼ä¿®æ”¹ï¼Œå®Œå…¨ä¸å½±å“åŸæœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼›</p><p>React v16.3ï¼Œå¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸï¼šgetDerivedStateFromPropsï¼ŒgetSnapshotBeforeUpdate, åºŸå¼ƒæ‰componentWillMountã€componentWillReceiveProps ä»¥åŠ componentWillUpdate ä¸‰ä¸ªå‘¨æœŸ(ç›´åˆ°React 17å‰è¿˜å¯ä»¥ä½¿ç”¨ï¼Œåªæ˜¯ä¼šæœ‰ä¸€ä¸ªè­¦å‘Š)ã€‚</p><h3 id="ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆè¦æ›´æ”¹ç”Ÿå‘½å‘¨æœŸï¼Ÿ</h3><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„æ›´æ”¹æ˜¯å› ä¸º 16.3 é‡‡ç”¨äº† Fiber æ¶æ„ï¼Œåœ¨æ–°çš„ Fiber æ¶æ„ä¸­ï¼Œç»„ä»¶çš„æ›´æ–°åˆ†ä¸ºäº†ä¸¤ä¸ªé˜¶æ®µï¼š</p><p>render phaseï¼šè¿™ä¸ªé˜¶æ®µå†³å®šç©¶ç«Ÿå“ªäº›ç»„ä»¶ä¼šè¢«æ›´æ–°ã€‚</p><p>commit phaseï¼šè¿™ä¸ªé˜¶æ®µæ˜¯ React å¼€å§‹æ‰§è¡Œæ›´æ–°ï¼ˆæ¯”å¦‚æ’å…¥ï¼Œç§»åŠ¨ï¼Œåˆ é™¤èŠ‚ç‚¹ï¼‰ã€‚</p><p>commit phase çš„æ‰§è¡Œå¾ˆå¿«ï¼Œä½†æ˜¯çœŸå® DOM çš„æ›´æ–°å¾ˆæ…¢ï¼Œæ‰€ä»¥ React åœ¨æ›´æ–°çš„æ—¶å€™ä¼šæš‚åœå†æ¢å¤ç»„ä»¶çš„æ›´æ–°ä»¥å…é•¿æ—¶é—´çš„é˜»å¡æµè§ˆå™¨ï¼Œè¿™å°±æ„å‘³ç€ render phase å¯èƒ½ä¼šè¢«æ‰§è¡Œå¤šæ¬¡ï¼ˆå› ä¸ºæœ‰å¯èƒ½è¢«æ‰“æ–­å†é‡æ–°æ‰§è¡Œï¼‰ã€‚</p><p>constructor</p><p>componentWillMount</p><p>componentWillReceiveProps</p><p>componentWillUpdate</p><p>getDerivedStateFromProps</p><p>shouldComponentUpdate</p><p>render</p><p>è¿™äº›ç”Ÿå‘½å‘¨æœŸéƒ½å±äº render phaseï¼Œrender phase å¯èƒ½è¢«å¤šæ¬¡æ‰§è¡Œï¼Œæ‰€ä»¥è¦é¿å…åœ¨ render phase ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­å¼•å…¥å‰¯ä½œç”¨ã€‚åœ¨ 16.3 ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸå¾ˆå®¹æ˜“å¼•å…¥å‰¯ä½œç”¨ï¼Œæ‰€ä»¥ 16.3 ä¹‹åå¼•å…¥æ–°çš„ç”Ÿå‘½å‘¨æœŸæ¥é™åˆ¶å¼€å‘è€…å¼•å…¥å‰¯ä½œç”¨ã€‚</p><p>getDerivedStateFromProps(nextProps, prevState)</p><p>React v16.3ä¸­ï¼Œstatic getDerivedStateFromPropsåªåœ¨ç»„ä»¶åˆ›å»ºå’Œç”±çˆ¶ç»„ä»¶å¼•å‘çš„æ›´æ–°ä¸­è°ƒç”¨ã€‚å¦‚æœä¸æ˜¯ç”±çˆ¶ç»„ä»¶å¼•å‘ï¼Œé‚£ä¹ˆgetDerivedStateFromPropsä¹Ÿä¸ä¼šè¢«è°ƒç”¨ï¼Œå¦‚è‡ªèº«setStateå¼•å‘æˆ–è€…forceUpdateå¼•å‘ã€‚</p><p>åœ¨React v16.4ä¸­æ”¹æ­£äº†è¿™ä¸€ç‚¹ï¼Œstatic getDerivedStateFromPropsä¼šåœ¨è°ƒç”¨ render æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨åˆå§‹æŒ‚è½½åŠåç»­æ›´æ–°æ—¶éƒ½ä¼šè¢«è°ƒç”¨ã€‚</p><ul><li>ç‰¹ç‚¹ï¼š <ul><li>æ— å‰¯ä½œç”¨ ã€‚å› ä¸ºæ˜¯å¤„äº Fiber çš„ render é˜¶æ®µï¼Œæ‰€ä»¥æœ‰å¯èƒ½ä¼šè¢«å¤šæ¬¡æ‰§è¡Œã€‚æ‰€ä»¥ API è¢«è®¾è®¡ä¸ºäº†é™æ€å‡½æ•°ï¼Œæ— æ³•è®¿é—®åˆ°å®ä¾‹çš„æ–¹æ³•ï¼Œä¹Ÿæ²¡æœ‰ ref æ¥æ“ä½œ DOMï¼Œè¿™å°±é¿å…äº†å®ä¾‹æ–¹æ³•å¸¦æ¥å‰¯ä½œç”¨çš„å¯èƒ½æ€§ã€‚ä½†æ˜¯ä¾æ—§å¯ä»¥ä» props ä¸­è·å¾—æ–¹æ³•è§¦å‘å‰¯ä½œç”¨ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œå¯èƒ½è§¦å‘å‰¯ä½œç”¨çš„å‡½æ•°å‰è¦ä¸‰æ€ã€‚</li><li>åªç”¨æ¥æ›´æ–° state ã€‚å…¶è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå”¯ä¸€çš„ä½œç”¨å°±æ˜¯ä» nextProps å’Œ prevState ä¸­è¡ç”Ÿå‡ºä¸€ä¸ªæ–°çš„ stateã€‚å®ƒåº”è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–° stateï¼Œæˆ–è€…è¿”å›nullæ¥ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚</li></ul></li></ul><blockquote><p>getDerivedStateFromPropså‰é¢è¦åŠ ä¸Šstaticä¿ç•™å­—ï¼Œå£°æ˜ä¸ºé™æ€æ–¹æ³•ï¼Œä¸ç„¶ä¼šè¢«reactå¿½ç•¥æ‰ã€‚ getDerivedStateFromPropsé‡Œé¢çš„thisä¸ºundefinedã€‚ staticé™æ€æ–¹æ³•åªèƒ½Classæ¥è°ƒç”¨ï¼Œè€Œå®ä¾‹æ˜¯ä¸èƒ½è°ƒç”¨ï¼Œæ‰€ä»¥React Classç»„ä»¶ä¸­ï¼Œé™æ€æ–¹æ³•getDerivedStateFromPropsæ— æƒè®¿é—®Classå®ä¾‹çš„thisï¼Œå³thisä¸ºundefinedã€‚</p></blockquote><h3 id="getsnapshotbeforeupdate" tabindex="-1"><a class="header-anchor" href="#getsnapshotbeforeupdate" aria-hidden="true">#</a> getSnapshotBeforeUpdate()</h3><p>getSnapshotBeforeUpdate() åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨æœ€è¿‘ä¸€æ¬¡æ¸²æŸ“è¾“å‡ºï¼ˆæäº¤åˆ° DOM èŠ‚ç‚¹ï¼‰ä¹‹å‰è°ƒç”¨ï¼Œï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸèƒ½å¤Ÿè·å–è¿™ä¸€æ¬¡æ›´æ–°å‰çš„ DOM çš„ä¿¡æ¯ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸçš„ä»»ä½•è¿”å›å€¼å°†ä½œä¸º componentDidUpdate() çš„ç¬¬ä¸‰ä¸ªå‚æ•° â€œsnapshotâ€ å‚æ•°ä¼ é€’ï¼Œ å¦åˆ™componentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°å°†ä¸º undefinedã€‚</p><p>åº”è¿”å› snapshot çš„å€¼ï¼ˆæˆ– nullï¼‰ã€‚</p><h3 id="é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯å¤„ç†" aria-hidden="true">#</a> é”™è¯¯å¤„ç†</h3><p>å½“æ¸²æŸ“è¿‡ç¨‹ï¼Œç”Ÿå‘½å‘¨æœŸï¼Œæˆ–å­ç»„ä»¶çš„æ„é€ å‡½æ•°ä¸­æŠ›å‡ºé”™è¯¯æ—¶ï¼Œä¼šè°ƒç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p><p>static getDerivedStateFromError()ï¼šæ­¤ç”Ÿå‘½å‘¨æœŸä¼šåœ¨åä»£ç»„ä»¶æŠ›å‡ºé”™è¯¯åè¢«è°ƒç”¨ã€‚å®ƒå°†æŠ›å‡ºçš„é”™è¯¯ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ä»¥æ›´æ–° state</p><p>componentDidCatch()ï¼šæ­¤ç”Ÿå‘½å‘¨æœŸåœ¨åä»£ç»„ä»¶æŠ›å‡ºé”™è¯¯åè¢«è°ƒç”¨ï¼Œå®ƒåº”è¯¥ç”¨äºè®°å½•é”™è¯¯ä¹‹ç±»çš„æƒ…å†µã€‚</p><p>å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><p>error â€”â€” æŠ›å‡ºçš„é”™è¯¯ã€‚</p><p>info â€”â€” å¸¦æœ‰ componentStack key çš„å¯¹è±¡</p><h2 id="react-16åšäº†å“ªäº›æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#react-16åšäº†å“ªäº›æ›´æ–°" aria-hidden="true">#</a> react 16åšäº†å“ªäº›æ›´æ–°</h2><p>reactä½œä¸ºä¸€ä¸ªuiåº“ï¼Œå°†å‰ç«¯ç¼–ç¨‹ç”±ä¼ ç»Ÿçš„å‘½ä»¤å¼ç¼–ç¨‹è½¬å˜ä¸ºå£°æ˜å¼ç¼–ç¨‹ï¼Œå³æ‰€è°“çš„æ•°æ®é©±åŠ¨è§†å›¾ã€‚å¦‚æœç›´æ¥æ›´æ–°çœŸå®domï¼Œæ¯”å¦‚å°†ç”Ÿæˆçš„htmlç›´æ¥é‡‡ç”¨innerHtmlæ›¿æ¢ï¼Œä¼šå¸¦æ¥é‡ç»˜é‡æ’ä¹‹ç±»çš„æ€§èƒ½é—®é¢˜ã€‚ä¸ºäº†å°½é‡æé«˜æ€§èƒ½ï¼ŒReactå›¢é˜Ÿå¼•å…¥äº†è™šæ‹Ÿdomï¼Œå³é‡‡ç”¨jså¯¹è±¡æ¥æè¿°domæ ‘ï¼Œé€šè¿‡å¯¹æ¯”å‰åä¸¤æ¬¡çš„è™šæ‹Ÿå¯¹è±¡ï¼Œæ¥æ‰¾åˆ°æœ€å°çš„domæ“ä½œï¼ˆvdom diffï¼‰ï¼Œä»¥æ­¤æé«˜æ€§èƒ½ã€‚</p><p>ä¸Šé¢æåˆ°çš„reactDom diffï¼Œåœ¨react 16ä¹‹å‰ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºstack reconcilerï¼Œå®ƒæ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œåœ¨æ ‘å¾ˆæ·±çš„æ—¶å€™ï¼Œå•æ¬¡diffæ—¶é—´è¿‡é•¿ä¼šé€ æˆJSçº¿ç¨‹æŒç»­è¢«å ç”¨ï¼Œç”¨æˆ·äº¤äº’å“åº”è¿Ÿæ»ï¼Œé¡µé¢æ¸²æŸ“ä¼šå‡ºç°æ˜æ˜¾çš„å¡é¡¿ï¼Œè¿™åœ¨ç°ä»£å‰ç«¯æ˜¯ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜ã€‚</p><p>æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œreact å›¢é˜Ÿå¯¹æ•´ä¸ªæ¶æ„è¿›è¡Œäº†è°ƒæ•´ï¼Œå¼•å…¥äº†fiberæ¶æ„ï¼Œå°†ä»¥å‰çš„stack reconcileræ›¿æ¢ä¸ºfiber reconcilerã€‚é‡‡ç”¨å¢é‡å¼æ¸²æŸ“ã€‚å¼•å…¥äº†ä»»åŠ¡ä¼˜å…ˆçº§(expiration)å’ŒrequestIdleCallbackçš„å¾ªç¯è°ƒåº¦ç®—æ³•ï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†ä»¥å‰çš„ä¸€æ ¹ç­‹diffæ›´æ–°ï¼Œé¦–å…ˆæ‹†åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼šreconciliationä¸commit;ç¬¬ä¸€ä¸ªreconciliationé˜¶æ®µæ˜¯å¯æ‰“æ–­çš„ï¼Œè¢«æ‹†åˆ†æˆä¸€ä¸ªä¸ªçš„å°ä»»åŠ¡ï¼ˆfiberï¼‰ï¼Œåœ¨æ¯ä¸€ä¾¦çš„æ¸²æŸ“ç©ºé—²æœŸåšå°ä»»åŠ¡diffã€‚ç„¶åæ˜¯commité˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯ä¸æ‹†åˆ†ä¸”ä¸èƒ½æ‰“æ–­çš„ï¼Œå°†diffèŠ‚ç‚¹çš„effectTagä¸€å£æ°”æ›´æ–°åˆ°é¡µé¢ä¸Šã€‚</p><p>ç”±äºreconciliationæ˜¯å¯ä»¥è¢«æ‰“æ–­çš„ï¼Œä¸”å­˜åœ¨ä»»åŠ¡ä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´commitå‰çš„ä¸€äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¤šæ¬¡è¢«æ‰§è¡Œï¼Œ å¦‚componentWillMountã€componentWillReceiveProps å’Œ componetWillUpdateï¼Œä½†reactå®˜æ–¹å·²å£°æ˜ï¼Œåœ¨React17ä¸­å°†ä¼šç§»é™¤è¿™ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><p>ç”±äºæ¯æ¬¡å”¤èµ·æ›´æ–°æ˜¯ä»æ ¹èŠ‚ç‚¹(RootFiber)å¼€å§‹ï¼Œä¸ºäº†æ›´å¥½çš„èŠ‚ç‚¹å¤ç”¨ä¸æ€§èƒ½ä¼˜åŒ–ã€‚åœ¨reactä¸­å§‹ç»ˆå­˜workInprogressTree(future vdom) ä¸ oldTreeï¼ˆcurrent vdomï¼‰ä¸¤ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸ªé“¾è¡¨ç›¸äº’å¼•ç”¨ã€‚è¿™æ— å½¢ä¸­åˆè§£å†³äº†å¦ä¸€ä¸ªé—®é¢˜ï¼Œå½“workInprogressTreeç”ŸæˆæŠ¥é”™æ—¶ï¼Œè¿™æ—¶ä¹Ÿä¸ä¼šå¯¼è‡´é¡µé¢æ¸²æŸ“å´©æºƒï¼Œè€Œåªæ˜¯æ›´æ–°å¤±è´¥,é¡µé¢ä»ç„¶è¿˜åœ¨ã€‚</p><h2 id="react-hooksåŸç†" tabindex="-1"><a class="header-anchor" href="#react-hooksåŸç†" aria-hidden="true">#</a> React hooksåŸç†</h2><p>åœ¨React 16å‰ï¼Œå‡½æ•°å¼ç»„ä»¶ä¸èƒ½æ‹¥æœ‰çŠ¶æ€ç®¡ç†ï¼Ÿå› ä¸º16ä»¥å‰åªæœ‰ç±»ç»„ä»¶æœ‰å¯¹åº”çš„å®ä¾‹ï¼Œè€Œ16ä»¥åFiber æ¶æ„çš„å‡ºç°ï¼Œè®©æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ‹¥æœ‰å¯¹åº”çš„å®ä¾‹ï¼Œä¹Ÿå°±æ‹¥æœ‰äº†ä¿å­˜çŠ¶æ€çš„èƒ½åŠ›ã€‚</p><p>Hooksçš„æœ¬è´¨å°±æ˜¯é—­åŒ…å’Œä¸¤çº§é“¾è¡¨ã€‚</p><blockquote><p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡æˆ–æ–¹æ³•çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºé—­åŒ…å‡½æ•°ï¼Œé€šè¿‡é—­åŒ…å‡½æ•°è®¿é—®è¿™ä¸ªå‡½æ•°çš„å±€éƒ¨å˜é‡, åˆ©ç”¨é—­åŒ…å¯ä»¥çªç ´ä½œç”¨é“¾åŸŸçš„ç‰¹æ€§ï¼Œå°†å‡½æ•°å†…éƒ¨çš„å˜é‡å’Œæ–¹æ³•ä¼ é€’åˆ°å¤–éƒ¨ã€‚</p></blockquote><h3 id="hooks-é“¾è¡¨" tabindex="-1"><a class="header-anchor" href="#hooks-é“¾è¡¨" aria-hidden="true">#</a> hooks é“¾è¡¨</h3><p>ä¸€ä¸ªç»„ä»¶åŒ…å«çš„hooks ä»¥é“¾è¡¨çš„å½¢å¼å­˜å‚¨åœ¨fiberèŠ‚ç‚¹çš„memoizedStateå±æ€§ä¸Šï¼ŒcurrentHooké“¾è¡¨å°±æ˜¯å½“å‰æ­£åœ¨éå†çš„fiberèŠ‚ç‚¹çš„ã€‚nextCurrentHook å°±æ˜¯å³å°†è¢«æ·»åŠ åˆ°æ­£åœ¨éå†fiberèŠ‚ç‚¹çš„hooksçš„æ–°é“¾è¡¨ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token literal-property property">currentHook</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">nextCurrentHook</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

type Hooks <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">memoizedState</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// æŒ‡å‘å½“å‰æ¸²æŸ“èŠ‚ç‚¹ Fiber</span>
  <span class="token literal-property property">baseState</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// åˆå§‹åŒ– initialStateï¼Œ æœ€æ–°çš„state</span>
  <span class="token literal-property property">baseUpdate</span><span class="token operator">:</span> Update<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// å½“å‰éœ€è¦æ›´æ–°çš„ Update ï¼Œæ¯æ¬¡æ›´æ–°å®Œä¹‹åï¼Œä¼šèµ‹å€¼ä¸Šä¸€ä¸ª updateï¼Œæ–¹ä¾¿ react åœ¨æ¸²æŸ“é”™è¯¯çš„è¾¹ç¼˜ï¼Œæ•°æ®å›æº¯</span>
  <span class="token literal-property property">queue</span><span class="token operator">:</span> UpdateQueue<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">// å¯ä»¥è®©stateå˜åŒ–çš„ï¼Œå³updateæˆ–dispachäº§ç”Ÿçš„update</span>
  <span class="token literal-property property">next</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// link åˆ°ä¸‹ä¸€ä¸ª hooks</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="state" tabindex="-1"><a class="header-anchor" href="#state" aria-hidden="true">#</a> state</h3><p>å…¶å®stateä¸æ˜¯hooksç‹¬æœ‰çš„ï¼Œç±»æ“ä½œçš„setStateä¹Ÿå­˜åœ¨ã€‚</p><p>memoizedStateï¼Œcursor æ˜¯å­˜åœ¨å“ªé‡Œçš„ï¼Ÿå¦‚ä½•å’Œæ¯ä¸ªå‡½æ•°ç»„ä»¶ä¸€ä¸€å¯¹åº”çš„ï¼Ÿ react ä¼šç”Ÿæˆä¸€æ£µç»„ä»¶æ ‘ï¼ˆæˆ–Fiber å•é“¾è¡¨ï¼‰ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”äº†ä¸€ä¸ªç»„ä»¶ï¼Œhooks çš„æ•°æ®å°±ä½œä¸ºç»„ä»¶çš„ä¸€ä¸ªä¿¡æ¯ï¼Œå­˜å‚¨åœ¨è¿™äº›èŠ‚ç‚¹ä¸Šï¼Œä¼´éšç»„ä»¶ä¸€èµ·å‡ºç”Ÿï¼Œä¸€èµ·æ­»äº¡ã€‚</p><p>ä¸ºä»€ä¹ˆåªèƒ½åœ¨å‡½æ•°æœ€å¤–å±‚è°ƒç”¨ Hookï¼Ÿ memoizedState æ˜¯æŒ‰ hookå®šä¹‰çš„é¡ºåºæ¥æ”¾ç½®æ•°æ®çš„ï¼Œå¦‚æœ hook é¡ºåºå˜åŒ–ï¼ŒmemoizedState å¹¶ä¸ä¼šæ„ŸçŸ¥åˆ°ã€‚</p><p>è‡ªå®šä¹‰çš„ Hook æ˜¯å¦‚ä½•å½±å“ä½¿ç”¨å®ƒçš„å‡½æ•°ç»„ä»¶çš„ï¼Ÿ å…±äº«åŒä¸€ä¸ª memoizedStateï¼Œå…±äº«åŒä¸€ä¸ªé¡ºåºã€‚</p><p>â€œCapture Valueâ€ ç‰¹æ€§æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ æ¯ä¸€æ¬¡ ReRender çš„æ—¶å€™ï¼Œéƒ½æ˜¯é‡æ–°å»æ‰§è¡Œå‡½æ•°ç»„ä»¶äº†ï¼Œå¯¹äºä¹‹å‰å·²ç»æ‰§è¡Œè¿‡çš„å‡½æ•°ç»„ä»¶ï¼Œå¹¶ä¸ä¼šåšä»»ä½•æ“ä½œã€‚</p><h2 id="react-setstate-å¼‚æ­¥æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#react-setstate-å¼‚æ­¥æ›´æ–°" aria-hidden="true">#</a> react setState å¼‚æ­¥æ›´æ–°</h2><h3 id="setstate-å®ç°åŸç†" tabindex="-1"><a class="header-anchor" href="#setstate-å®ç°åŸç†" aria-hidden="true">#</a> setState å®ç°åŸç†</h3><p>setState é€šè¿‡ä¸€ä¸ªé˜Ÿåˆ—æœºåˆ¶æ¥å®ç° state æ›´æ–°ï¼Œå½“æ‰§è¡Œ setState() æ—¶ï¼Œä¼šå°†éœ€è¦æ›´æ–°çš„ state æµ…åˆå¹¶åæ”¾å…¥ çŠ¶æ€é˜Ÿåˆ—ï¼Œè€Œä¸ä¼šç«‹å³æ›´æ–° stateï¼Œé˜Ÿåˆ—æœºåˆ¶å¯ä»¥é«˜æ•ˆçš„æ‰¹é‡æ›´æ–° stateã€‚å¦‚æœä¸é€šè¿‡setStateï¼Œç›´æ¥ä¿®æ”¹this.state çš„å€¼ï¼Œåˆ™ä¸ä¼šæ”¾å…¥çŠ¶æ€é˜Ÿåˆ—ï¼Œå½“ä¸‹ä¸€æ¬¡è°ƒç”¨ setState å¯¹çŠ¶æ€é˜Ÿåˆ—è¿›è¡Œåˆå¹¶æ—¶ï¼Œä¹‹å‰å¯¹ this.state çš„ä¿®æ”¹å°†ä¼šè¢«å¿½ç•¥ï¼Œé€ æˆæ— æ³•é¢„çŸ¥çš„é”™è¯¯ã€‚</p><h3 id="setstate-æœ‰çš„åŒæ­¥æœ‰çš„å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#setstate-æœ‰çš„åŒæ­¥æœ‰çš„å¼‚æ­¥" aria-hidden="true">#</a> setState()æœ‰çš„åŒæ­¥æœ‰çš„å¼‚æ­¥ï¼Ÿ</h3><p>åœ¨Reactä¸­ï¼Œ å¦‚æœæ˜¯ç”±Reactå¼•å‘çš„äº‹ä»¶å¤„ç†ï¼ˆæ¯”å¦‚é€šè¿‡onClickå¼•å‘çš„äº‹ä»¶å¤„ç†ï¼‰ï¼Œè°ƒç”¨setStateä¸ä¼šåŒæ­¥æ›´æ–°this.stateï¼Œé™¤æ­¤ä¹‹å¤–çš„setStateè°ƒç”¨ä¼šåŒæ­¥æ‰§è¡Œthis.state ã€‚</p><p>æ‰€è°“â€œé™¤æ­¤ä¹‹å¤–â€ï¼ŒæŒ‡çš„æ˜¯ç»•è¿‡Reacté€šè¿‡addEventListenerç›´æ¥æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿˜æœ‰é€šè¿‡setTimeout/setIntervaläº§ç”Ÿçš„å¼‚æ­¥è°ƒç”¨ã€‚</p><p>åŸå› ï¼š åœ¨Reactçš„setStateå‡½æ•°å®ç°ä¸­ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå˜é‡isBatchingUpdatesåˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–°this.stateè¿˜æ˜¯æ”¾åˆ°é˜Ÿåˆ—ä¸­å›å¤´å†è¯´ï¼Œè€ŒisBatchingUpdatesé»˜è®¤æ˜¯falseï¼Œä¹Ÿå°±è¡¨ç¤ºsetStateä¼šåŒæ­¥æ›´æ–°this.stateï¼Œä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°batchedUpdatesï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠisBatchingUpdatesä¿®æ”¹ä¸ºtrueï¼Œè€Œå½“Reactåœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šè°ƒç”¨è¿™ä¸ªbatchedUpdatesï¼Œé€ æˆçš„åæœï¼Œå°±æ˜¯ç”±Reactæ§åˆ¶çš„äº‹ä»¶å¤„ç†è¿‡ç¨‹setStateä¸ä¼šåŒæ­¥æ›´æ–°this.stateã€‚</p><blockquote><p>setStateçš„â€œå¼‚æ­¥â€å¹¶ä¸æ˜¯è¯´å†…éƒ¨ç”±å¼‚æ­¥ä»£ç å®ç°ï¼Œå…¶å®æœ¬èº«æ‰§è¡Œçš„è¿‡ç¨‹å’Œä»£ç éƒ½æ˜¯åŒæ­¥çš„ï¼Œåªæ˜¯åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°çš„è°ƒç”¨é¡ºåºåœ¨æ›´æ–°ä¹‹å‰ï¼Œå¯¼è‡´åœ¨åˆæˆäº‹ä»¶å’Œé’©å­å‡½æ•°ä¸­æ²¡æ³•ç«‹é©¬æ‹¿åˆ°æ›´æ–°åçš„å€¼ï¼Œå½¢å¼äº†æ‰€è°“çš„â€œå¼‚æ­¥â€ï¼Œå¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•° setState(partialState, callback) ä¸­çš„callbackæ‹¿åˆ°æ›´æ–°åçš„ç»“æœã€‚</p></blockquote><h3 id="è°ƒç”¨é£é™©" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨é£é™©" aria-hidden="true">#</a> è°ƒç”¨é£é™©</h3><p>å½“è°ƒç”¨ setState æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¼šæ‰§è¡Œ enqueueSetState æ–¹æ³•ï¼Œå¹¶ä¼šå¯¹ partialState åŠ _pendingStateQueue é˜Ÿåˆ—è¿›è¡Œåˆå¹¶æ“ä½œï¼Œæœ€ç»ˆé€šè¿‡ enqueueUpdate æ‰§è¡Œ state æ›´æ–°ã€‚</p><p>è€Œ performUpdateIfNecessary è·å– _pendingElementã€ _pendingStateQueueã€_pendingForceUpdateï¼Œå¹¶è°ƒç”¨ reaciveComponent å’Œ updateComponent æ¥è¿›è¡Œç»„ä»¶æ›´æ–°ã€‚</p><p>ä½†ï¼Œå¦‚æœåœ¨ shouldComponentUpdate æˆ– componentWillUpdate æ–¹æ³•é‡Œè°ƒç”¨ this.setState æ–¹æ³•ï¼Œå°±ä¼šé€ æˆå´©æºƒã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨ shouldComponentUpdate æˆ– componentWillUpdate æ–¹æ³•é‡Œè°ƒç”¨ this.setState æ—¶ï¼Œthis._pendingStateQueue!=nullï¼Œåˆ™ performUpdateIfNecessary æ–¹æ³•å°±ä¼šè°ƒç”¨ updateComponent æ–¹æ³•è¿›è¡Œç»„ä»¶æ›´æ–°ï¼Œè€Œ updateComponent æ–¹æ³•åˆä¼šè°ƒç”¨ shouldComponentUpdateå’ŒcomponentWillUpdate æ–¹æ³•ï¼Œå› æ­¤é€ æˆå¾ªç¯è°ƒç”¨ï¼Œä½¿å¾—æµè§ˆå™¨å†…å­˜å æ»¡åå´©æºƒã€‚</p><h2 id="react-fiber" tabindex="-1"><a class="header-anchor" href="#react-fiber" aria-hidden="true">#</a> React Fiber</h2><p>æ‰å¸§ï¼šåœ¨é¡µé¢å…ƒç´ å¾ˆå¤šï¼Œä¸”éœ€è¦é¢‘ç¹åˆ·æ–°çš„åœºæ™¯ä¸‹ï¼ŒReact 15 ä¼šå‡ºç°æ‰å¸§çš„ç°è±¡ï¼Œå…¶æ ¹æœ¬åŸå› ï¼Œæ˜¯å¤§é‡çš„åŒæ­¥è®¡ç®—ä»»åŠ¡é˜»å¡äº†æµè§ˆå™¨çš„ UI æ¸²æŸ“ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJS è¿ç®—ã€é¡µé¢å¸ƒå±€å’Œé¡µé¢ç»˜åˆ¶éƒ½æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨çš„ä¸»çº¿ç¨‹å½“ä¸­ï¼Œä»–ä»¬ä¹‹é—´æ˜¯äº’æ–¥çš„å…³ç³»ã€‚</p><p>å¦‚æœ JS è¿ç®—æŒç»­å ç”¨ä¸»çº¿ç¨‹ï¼Œé¡µé¢å°±æ²¡æ³•å¾—åˆ°åŠæ—¶çš„æ›´æ–°ã€‚</p><p>å½“æˆ‘ä»¬è°ƒç”¨setStateæ›´æ–°é¡µé¢çš„æ—¶å€™ï¼ŒReact ä¼šéå†åº”ç”¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—å‡ºå·®å¼‚ï¼Œç„¶åå†æ›´æ–° UIï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸èƒ½è¢«æ‰“æ–­ã€‚</p><p>å¦‚æœé¡µé¢å…ƒç´ å¾ˆå¤šï¼Œæ•´ä¸ªè¿‡ç¨‹å ç”¨çš„æ—¶æœºå°±å¯èƒ½è¶…è¿‡ 16 æ¯«ç§’ï¼Œå°±å®¹æ˜“å‡ºç°æ‰å¸§çš„ç°è±¡ã€‚</p><p>å¦‚ä½•è§£å†³ä¸»çº¿ç¨‹é•¿æ—¶é—´è¢« JS è¿ç®—ï¼Ÿå°†JSè¿ç®—åˆ‡å‰²ä¸ºå¤šä¸ªæ­¥éª¤ï¼Œåˆ†æ‰¹å®Œæˆã€‚åœ¨å®Œæˆä¸€éƒ¨åˆ†ä»»åŠ¡ä¹‹åï¼Œå°†æ§åˆ¶æƒäº¤å›ç»™æµè§ˆå™¨ï¼Œè®©æµè§ˆå™¨æœ‰æ—¶é—´è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ã€‚ç­‰æµè§ˆå™¨å¿™å®Œä¹‹åï¼Œå†ç»§ç»­ä¹‹å‰æœªå®Œæˆçš„ä»»åŠ¡ã€‚</p><p>React 15 åŠä»¥ä¸‹ç‰ˆæœ¬é€šè¿‡é€’å½’çš„æ–¹å¼è¿›è¡Œæ¸²æŸ“ï¼Œä½¿ç”¨çš„æ˜¯ JS å¼•æ“è‡ªèº«çš„å‡½æ•°è°ƒç”¨æ ˆï¼Œå®ƒä¼šä¸€ç›´æ‰§è¡Œåˆ°æ ˆç©ºä¸ºæ­¢ã€‚</p><p>è€ŒFiberå®ç°äº†è‡ªå·±çš„ç»„ä»¶è°ƒç”¨æ ˆï¼Œå®ƒä»¥é“¾è¡¨çš„å½¢å¼éå†ç»„ä»¶æ ‘ï¼Œå¯ä»¥çµæ´»çš„æš‚åœã€ç»§ç»­å’Œä¸¢å¼ƒæ‰§è¡Œçš„ä»»åŠ¡ã€‚å®ç°æ–¹å¼æ˜¯ä½¿ç”¨äº†æµè§ˆå™¨çš„requestIdleCallback</p><blockquote><p>window.requestIdleCallback()ä¼šåœ¨æµè§ˆå™¨ç©ºé—²æ—¶æœŸä¾æ¬¡è°ƒç”¨å‡½æ•°ï¼Œè¿™å°±å¯ä»¥è®©å¼€å‘è€…åœ¨ä¸»äº‹ä»¶å¾ªç¯ä¸­æ‰§è¡Œåå°æˆ–ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œè€Œä¸”ä¸ä¼šå¯¹åƒåŠ¨ç”»å’Œç”¨æˆ·äº¤äº’è¿™äº›å»¶è¿Ÿè§¦å‘ä½†å…³é”®çš„äº‹ä»¶äº§ç”Ÿå½±å“ã€‚å‡½æ•°ä¸€èˆ¬ä¼šæŒ‰å…ˆè¿›å…ˆè°ƒç”¨çš„é¡ºåºæ‰§è¡Œï¼Œé™¤éå‡½æ•°åœ¨æµè§ˆå™¨è°ƒç”¨å®ƒä¹‹å‰å°±åˆ°äº†å®ƒçš„è¶…æ—¶æ—¶é—´ã€‚</p></blockquote><ul><li>React æ¡†æ¶å†…éƒ¨çš„è¿ä½œå¯ä»¥åˆ†ä¸º 3 å±‚ï¼š <ul><li>Virtual DOM å±‚ï¼Œæè¿°é¡µé¢é•¿ä»€ä¹ˆæ ·ã€‚</li><li>Reconciler å±‚ï¼Œè´Ÿè´£è°ƒç”¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿›è¡Œ Diff è¿ç®—ç­‰ã€‚</li><li>Renderer å±‚ï¼Œæ ¹æ®ä¸åŒçš„å¹³å°ï¼Œæ¸²æŸ“å‡ºç›¸åº”çš„é¡µé¢ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯ ReactDOM å’Œ ReactNativeã€‚</li></ul></li></ul><p>Fiber è¡¨å¾reconciliationé˜¶æ®µæ‰€èƒ½æ‹†åˆ†çš„æœ€å°å·¥ä½œå•å…ƒï¼Œå…¶å®æŒ‡çš„æ˜¯ä¸€ç§é“¾è¡¨æ ‘ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªçº¯ JS å¯¹è±¡æ¥è¡¨ç¤ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fiber <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">stateNode</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// èŠ‚ç‚¹å®ä¾‹</span>
  <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// å­èŠ‚ç‚¹</span>
  <span class="token literal-property property">sibling</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// å…„å¼ŸèŠ‚ç‚¹</span>
  <span class="token keyword">return</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token comment">// è¡¨ç¤ºå¤„ç†å®Œæˆåè¿”å›ç»“æœæ‰€è¦åˆå¹¶çš„ç›®æ ‡ï¼Œé€šå¸¸æŒ‡å‘çˆ¶èŠ‚ç‚¹</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="reconcileråŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#reconcileråŒºåˆ«" aria-hidden="true">#</a> ReconcileråŒºåˆ«</h3><ul><li><p>ä»¥å‰çš„ Reconciler è¢«å‘½åä¸ºStack Reconcilerã€‚Stack Reconciler è¿ä½œçš„è¿‡ç¨‹æ˜¯ä¸èƒ½è¢«æ‰“æ–­çš„ï¼Œå¿…é¡»ä¸€æ¡é“èµ°åˆ°é»‘ï¼›</p></li><li><p>Fiber Reconciler æ¯æ‰§è¡Œä¸€æ®µæ—¶é—´ï¼Œéƒ½ä¼šå°†æ§åˆ¶æƒäº¤å›ç»™æµè§ˆå™¨ï¼Œå¯ä»¥åˆ†æ®µæ‰§è¡Œï¼›</p></li></ul><p>ä»Stack Reconcileråˆ°Fiber Reconcilerï¼Œæºç å±‚é¢å…¶å®å°±æ˜¯å¹²äº†ä¸€ä»¶é€’å½’æ”¹å¾ªç¯çš„äº‹æƒ…ã€‚</p><h3 id="scheduling-è°ƒåº¦" tabindex="-1"><a class="header-anchor" href="#scheduling-è°ƒåº¦" aria-hidden="true">#</a> scheduling(è°ƒåº¦)</h3><ul><li>scheduling(è°ƒåº¦)æ˜¯fiber reconciliationçš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸»è¦æ˜¯è¿›è¡Œä»»åŠ¡åˆ†é…ï¼Œè¾¾åˆ°åˆ†æ®µæ‰§è¡Œã€‚ä»»åŠ¡çš„ä¼˜å…ˆçº§æœ‰å…­ç§ï¼š <ul><li>synchronousï¼Œä¸ä¹‹å‰çš„Stack Reconcileræ“ä½œä¸€æ ·ï¼ŒåŒæ­¥æ‰§è¡Œ</li><li>taskï¼Œåœ¨next tickä¹‹å‰æ‰§è¡Œ</li><li>animationï¼Œä¸‹ä¸€å¸§ä¹‹å‰æ‰§è¡Œ</li><li>highï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ç«‹å³æ‰§è¡Œ</li><li>lowï¼Œç¨å¾®å»¶è¿Ÿæ‰§è¡Œä¹Ÿæ²¡å…³ç³»</li><li>offscreenï¼Œä¸‹ä¸€æ¬¡renderæ—¶æˆ–scrollæ—¶æ‰æ‰§è¡Œ</li></ul></li></ul><p>ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡ï¼ˆå¦‚é”®ç›˜è¾“å…¥ï¼‰å¯ä»¥æ‰“æ–­ä¼˜å…ˆçº§ä½çš„ä»»åŠ¡ï¼ˆå¦‚Diffï¼‰çš„æ‰§è¡Œï¼Œä»è€Œæ›´å¿«çš„ç”Ÿæ•ˆã€‚</p><ul><li>Fiber Reconciler åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šåˆ†ä¸º 2 ä¸ªé˜¶æ®µï¼š <ul><li>é˜¶æ®µä¸€ï¼Œç”Ÿæˆ Fiber æ ‘ï¼Œå¾—å‡ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¿¡æ¯ã€‚è¿™ä¸€æ­¥æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œå¯ä»¥è¢«æ‰“æ–­ã€‚</li><li>é˜¶æ®µäºŒï¼Œå°†éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¸€æ¬¡è¿‡æ‰¹é‡æ›´æ–°ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸èƒ½è¢«æ‰“æ–­ã€‚</li></ul></li></ul><p>é˜¶æ®µä¸€å¯è¢«æ‰“æ–­çš„ç‰¹æ€§ï¼Œè®©ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡å…ˆæ‰§è¡Œï¼Œä»æ¡†æ¶å±‚é¢å¤§å¤§é™ä½äº†é¡µé¢æ‰å¸§çš„æ¦‚ç‡ã€‚</p><h2 id="hoc-ä¸render-propsåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#hoc-ä¸render-propsåŒºåˆ«" aria-hidden="true">#</a> HOC ä¸render propsåŒºåˆ«</h2><p>Render Props: æŠŠå°†è¦åŒ…è£¹çš„ç»„ä»¶ä½œä¸ºpropså±æ€§ä¼ å…¥ï¼Œç„¶åå®¹å™¨ç»„ä»¶è°ƒç”¨è¿™ä¸ªå±æ€§ï¼Œå¹¶å‘å…¶ä¼ å‚ã€‚</p><p>å®ç°æ–¹å¼ï¼š</p><p>1.é€šè¿‡props.children(props)ï¼Œprops.childrenè¿”å›çš„æ˜¯UIå…ƒç´ ã€‚<code>&lt;RenderProps&gt;</code> JSX æ ‡ç­¾ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šä½œä¸ºä¸€ä¸ª children prop ä¼ é€’ç»™ RenderPropsç»„ä»¶ã€‚å› ä¸º RenderProps å°† {props.children} æ¸²æŸ“åœ¨ä¸€ä¸ª <code>&lt;div&gt;</code> ä¸­ï¼Œè¢«ä¼ é€’çš„è¿™äº›å­ç»„ä»¶æœ€ç»ˆéƒ½ä¼šå‡ºç°åœ¨è¾“å‡ºç»“æœä¸­ã€‚</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å®šä¹‰</span>
<span class="token keyword">const</span> <span class="token function-variable function">RenderProps</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// è°ƒç”¨</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RenderProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello RenderProps</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RenderProps</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.é€šè¿‡propsä¸­çš„ä»»ä½•å‡½æ•°, è‡ªè¡Œå®šä¹‰ä¼ å…¥å†…å®¹</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// å®šä¹‰</span>
<span class="token keyword">const</span> <span class="token function-variable function">LoginForm</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> allProps <span class="token operator">=</span> <span class="token punctuation">{</span> flag<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>allProps<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">notLogin</span><span class="token punctuation">(</span>allProps<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// è°ƒç”¨</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoginForm</span></span>
  <span class="token attr-name">login</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">LOGIN</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
  <span class="token attr-name">noLogin</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">NOT LOGIN</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¼˜ç‚¹ï¼š <ul><li>æ”¯æŒES6</li><li>ä¸ç”¨æ‹…å¿ƒpropså‘½åé—®é¢˜ï¼Œåœ¨renderå‡½æ•°ä¸­åªå–éœ€è¦çš„state</li><li>ä¸ä¼šäº§ç”Ÿæ— ç”¨çš„ç»„ä»¶åŠ æ·±å±‚çº§</li><li>render propsæ¨¡å¼çš„æ„å»ºéƒ½æ˜¯åŠ¨æ€çš„ï¼Œæ‰€æœ‰çš„æ”¹å˜éƒ½åœ¨renderä¸­è§¦å‘ï¼Œå¯ä»¥æ›´å¥½çš„åˆ©ç”¨ç»„ä»¶å†…çš„ç”Ÿå‘½å‘¨æœŸã€‚</li></ul></li></ul><p>HOC: æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶çš„å‡½æ•°ã€‚</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// UI</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Home<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é«˜é˜¶ç»„ä»¶ç”±äºæ¯æ¬¡éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œå¯¹äºreactæ¥è¯´ï¼Œè¿™æ˜¯ä¸åˆ©äºdiffå’ŒçŠ¶æ€å¤ç”¨çš„ï¼Œæ‰€ä»¥é«˜é˜¶ç»„ä»¶çš„åŒ…è£…ä¸èƒ½åœ¨render æ–¹æ³•ä¸­è¿›è¡Œï¼Œè€Œåªèƒ½åƒä¸Šé¢é‚£æ ·åœ¨ç»„ä»¶å£°æ˜æ—¶åŒ…è£¹ï¼Œè¿™æ ·ä¹Ÿå°±ä¸åˆ©äºåŠ¨æ€ä¼ å‚ã€‚</p><ul><li><p>ä¼˜ç‚¹ï¼š</p><ul><li>æ”¯æŒES6</li><li>å¤ç”¨æ€§å¼ºï¼ŒHOCä¸ºçº¯å‡½æ•°ä¸”è¿”å›å€¼ä¸ºç»„ä»¶ï¼Œå¯ä»¥å¤šå±‚åµŒå¥—</li><li>æ”¯æŒä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œå¢å¼ºäº†é€‚ç”¨èŒƒå›´</li></ul></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>å½“å¤šä¸ªHOCä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ— æ³•ç›´æ¥åˆ¤æ–­å­ç»„ä»¶çš„propsæ˜¯å“ªä¸ªHOCè´Ÿè´£ä¼ é€’çš„</li><li>å¤šä¸ªç»„ä»¶åµŒå¥—ï¼Œå®¹æ˜“äº§ç”ŸåŒæ ·åç§°çš„props</li><li>HOCå¯èƒ½ä¼šäº§ç”Ÿè®¸å¤šæ— ç”¨çš„ç»„ä»¶ï¼ŒåŠ æ·±äº†ç»„ä»¶çš„å±‚çº§</li></ul></li></ul><p>æ€»çš„æ¥è¯´ï¼Œrender propså…¶å®å’Œé«˜é˜¶ç»„ä»¶ç±»ä¼¼ï¼Œå°±æ˜¯åœ¨puru componentä¸Šå¢åŠ stateï¼Œå“åº”reactçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><h2 id="react-é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#react-é€šä¿¡" aria-hidden="true">#</a> React é€šä¿¡</h2><p>reactçš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œæœ€å¸¸è§çš„å°±æ˜¯é€šè¿‡propsç”±çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ã€‚</p><ul><li><p>çˆ¶å‘å­é€šä¿¡ï¼šä¼ å…¥props</p></li><li><p>å­å‘çˆ¶é€šä¿¡ï¼šçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åé€šè¿‡è¿™ä¸ªå‡½æ•°çš„å›è°ƒï¼Œæ‹¿åˆ°å­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼</p></li><li><p>çˆ¶å‘å­™é€šä¿¡ï¼šåˆ©ç”¨contextä¼ å€¼ã€‚React.createContext()</p></li><li><p>å…„å¼Ÿé—´é€šä¿¡ï¼š</p><ul><li>æ‰¾ä¸€ä¸ªç›¸åŒçš„çˆ¶ç»„ä»¶ï¼Œæ—¢å¯ä»¥ç”¨propsä¼ é€’æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç”¨contextçš„æ–¹å¼æ¥ä¼ é€’æ•°æ®ã€‚</li><li>ç”¨ä¸€äº›å…¨å±€æœºåˆ¶å»å®ç°é€šä¿¡ï¼Œæ¯”å¦‚reduxç­‰</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼</li></ul></li></ul><h2 id="reactåˆæˆäº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#reactåˆæˆäº‹ä»¶" aria-hidden="true">#</a> reactåˆæˆäº‹ä»¶</h2><p>React åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰æ˜¯ React æ¨¡æ‹ŸåŸç”Ÿ DOM äº‹ä»¶æ‰€æœ‰èƒ½åŠ›çš„ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œå³æµè§ˆå™¨åŸç”Ÿäº‹ä»¶çš„è·¨æµè§ˆå™¨åŒ…è£…å™¨ã€‚</p><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆæˆäº‹ä»¶ï¼Ÿ</p><ul><li><p>è¿›è¡Œæµè§ˆå™¨å…¼å®¹ï¼Œå®ç°æ›´å¥½çš„è·¨å¹³å° React é‡‡ç”¨çš„æ˜¯é¡¶å±‚äº‹ä»¶ä»£ç†æœºåˆ¶ï¼Œèƒ½å¤Ÿä¿è¯å†’æ³¡ä¸€è‡´æ€§ï¼Œå¯ä»¥è·¨æµè§ˆå™¨æ‰§è¡Œã€‚React æä¾›çš„åˆæˆäº‹ä»¶ç”¨æ¥æŠ¹å¹³ä¸åŒæµè§ˆå™¨äº‹ä»¶å¯¹è±¡ä¹‹é—´çš„å·®å¼‚ï¼Œå°†ä¸åŒå¹³å°äº‹ä»¶æ¨¡æ‹Ÿåˆæˆäº‹ä»¶ã€‚</p></li><li><p>é¿å…åƒåœ¾å›æ”¶ äº‹ä»¶å¯¹è±¡å¯èƒ½ä¼šè¢«é¢‘ç¹åˆ›å»ºå’Œå›æ”¶ï¼Œå› æ­¤ React å¼•å…¥äº‹ä»¶æ± ï¼Œåœ¨äº‹ä»¶æ± ä¸­è·å–æˆ–é‡Šæ”¾äº‹ä»¶å¯¹è±¡ã€‚å³ React äº‹ä»¶å¯¹è±¡ä¸ä¼šè¢«é‡Šæ”¾æ‰ï¼Œè€Œæ˜¯å­˜æ”¾è¿›ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå½“äº‹ä»¶è§¦å‘ï¼Œå°±ä»è¿™ä¸ªæ•°ç»„ä¸­å¼¹å‡ºï¼Œé¿å…é¢‘ç¹åœ°å»åˆ›å»ºå’Œé”€æ¯(åƒåœ¾å›æ”¶)ã€‚</p></li><li><p>æ–¹ä¾¿äº‹ä»¶ç»Ÿä¸€ç®¡ç†å’Œäº‹åŠ¡æœºåˆ¶</p></li></ul><h3 id="å®ç°åŸç†" tabindex="-1"><a class="header-anchor" href="#å®ç°åŸç†" aria-hidden="true">#</a> å®ç°åŸç†</h3><p>åœ¨ React ä¸­ï¼Œâ€œåˆæˆäº‹ä»¶â€ä¼šä»¥äº‹ä»¶å§”æ‰˜æ–¹å¼ç»‘å®šåœ¨ document å¯¹è±¡ä¸Šï¼Œå¹¶åœ¨ç»„ä»¶å¸è½½ï¼ˆunmountï¼‰é˜¶æ®µè‡ªåŠ¨é”€æ¯ç»‘å®šçš„äº‹ä»¶ã€‚</p><p>åˆæˆäº‹ä»¶å’ŒåŸç”Ÿäº‹ä»¶ å½“çœŸå® DOM å…ƒç´ è§¦å‘äº‹ä»¶ï¼Œä¼šå†’æ³¡åˆ° document å¯¹è±¡åï¼Œå†å¤„ç† React äº‹ä»¶ï¼›æ‰€ä»¥ä¼šå…ˆæ‰§è¡ŒåŸç”Ÿäº‹ä»¶ï¼Œç„¶åå¤„ç† React äº‹ä»¶ï¼›æœ€åçœŸæ­£æ‰§è¡Œ document ä¸ŠæŒ‚è½½çš„äº‹ä»¶ã€‚ åˆæˆäº‹ä»¶å’ŒåŸç”Ÿäº‹ä»¶æœ€å¥½ä¸è¦æ··ç”¨ã€‚åŸç”Ÿäº‹ä»¶ä¸­å¦‚æœæ‰§è¡Œäº†stopPropagationæ–¹æ³•ï¼Œåˆ™ä¼šå¯¼è‡´å…¶ä»–Reactäº‹ä»¶å¤±æ•ˆã€‚å› ä¸ºæ‰€æœ‰å…ƒç´ çš„äº‹ä»¶å°†æ— æ³•å†’æ³¡åˆ°documentä¸Šï¼Œæ‰€æœ‰çš„ React äº‹ä»¶éƒ½å°†æ— æ³•è¢«æ³¨å†Œã€‚</p><h3 id="åˆæˆäº‹ä»¶çš„äº‹ä»¶æ± " tabindex="-1"><a class="header-anchor" href="#åˆæˆäº‹ä»¶çš„äº‹ä»¶æ± " aria-hidden="true">#</a> åˆæˆäº‹ä»¶çš„äº‹ä»¶æ± </h3><p>åˆæˆäº‹ä»¶å¯¹è±¡æ± ï¼Œæ˜¯ React äº‹ä»¶ç³»ç»Ÿæä¾›çš„ä¸€ç§æ€§èƒ½ä¼˜åŒ–æ–¹å¼ã€‚åˆæˆäº‹ä»¶å¯¹è±¡åœ¨äº‹ä»¶æ± ç»Ÿä¸€ç®¡ç†ï¼Œä¸åŒç±»å‹çš„åˆæˆäº‹ä»¶å…·æœ‰ä¸åŒçš„äº‹ä»¶æ± ã€‚</p><h2 id="react-è™šæ‹Ÿdom" tabindex="-1"><a class="header-anchor" href="#react-è™šæ‹Ÿdom" aria-hidden="true">#</a> react è™šæ‹Ÿdom</h2><h3 id="ä»€ä¹ˆæ˜¯è™šæ‹Ÿdom" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è™šæ‹Ÿdom" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯è™šæ‹Ÿdom?</h3><p>åœ¨ React ä¸­ï¼Œrender æ‰§è¡Œçš„ç»“æœå¾—åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„ DOM èŠ‚ç‚¹ï¼Œè€Œæ˜¯è½»é‡çº§çš„ JavaScript å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º virtual DOMã€‚å®ƒé€šè¿‡JSçš„Objectå¯¹è±¡æ¨¡æ‹ŸDOMä¸­çš„èŠ‚ç‚¹ï¼Œç„¶åå†é€šè¿‡ç‰¹å®šçš„renderæ–¹æ³•å°†å…¶æ¸²æŸ“æˆçœŸå®çš„DOMèŠ‚ç‚¹ã€‚</p><p>è™šæ‹Ÿ DOM æ˜¯ React çš„ä¸€å¤§äº®ç‚¹ï¼Œå…·æœ‰batching(æ‰¹å¤„ç†) å’Œé«˜æ•ˆçš„ Diff ç®—æ³•ã€‚batching æŠŠæ‰€æœ‰çš„ DOM æ“ä½œæœé›†èµ·æ¥ï¼Œä¸€æ¬¡æ€§æäº¤ç»™çœŸå®çš„ DOMã€‚diff ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¹Ÿä»æ ‡å‡†çš„çš„ Diff ç®—æ³•çš„ O(n^3) é™åˆ°äº† O(n)ã€‚</p><h3 id="batching-æ‰¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#batching-æ‰¹å¤„ç†" aria-hidden="true">#</a> batching(æ‰¹å¤„ç†)</h3><p>ä¸»è¦æ€æƒ³æ˜¯ï¼Œæ— è®ºsetStateæ‚¨åœ¨Reactäº‹ä»¶å¤„ç†ç¨‹åºæˆ–åŒæ­¥ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­è¿›è¡Œå¤šå°‘æ¬¡è°ƒç”¨ï¼Œå®ƒéƒ½å°†è¢«æ‰¹å¤„ç†æˆä¸€ä¸ªæ›´æ–°, æœ€ç»ˆåªæœ‰ä¸€æ¬¡é‡æ–°æ¸²æŸ“ã€‚</p><h3 id="è™šæ‹Ÿ-dom-ä¸-åŸç”Ÿ-dom" tabindex="-1"><a class="header-anchor" href="#è™šæ‹Ÿ-dom-ä¸-åŸç”Ÿ-dom" aria-hidden="true">#</a> è™šæ‹Ÿ DOM ä¸ åŸç”Ÿ DOM</h3><p>å¦‚æœæ²¡æœ‰ Virtual DOMï¼Œå°±éœ€è¦ç›´æ¥æ“ä½œåŸç”Ÿ DOMã€‚åœ¨ä¸€ä¸ªå¤§å‹åˆ—è¡¨æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æƒ…å†µä¸‹ï¼Œç›´æ¥é‡ç½® innerHTMLè¿˜ç®—åˆç†ï¼Œä½†æ˜¯ï¼Œåªæœ‰ä¸€è¡Œæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒä¹Ÿéœ€è¦é‡ç½®æ•´ä¸ª innerHTMLï¼Œè¿™å°±é€ æˆäº†å¤§é‡æµªè´¹ã€‚</p><p>innerHTML å’Œ Virtual DOM çš„é‡ç»˜æ€§èƒ½æ¶ˆè€—ï¼š innerHTML: render html string + é‡æ–°åˆ›å»ºæ‰€æœ‰ DOM å…ƒç´  Virtual DOM: render Virtual DOM + diff + å¿…è¦çš„ DOM æ›´æ–°</p><p>Virtual DOM render + diff æ˜¾ç„¶æ¯”æ¸²æŸ“ html å­—ç¬¦ä¸²è¦æ…¢ï¼Œä½†æ˜¯å®ƒä¾ç„¶æ˜¯çº¯ js å±‚é¢çš„è®¡ç®—ï¼Œæ¯”èµ·åé¢çš„ DOM æ“ä½œæ¥è¯´ï¼Œä¾ç„¶ä¾¿å®œäº†å¤ªå¤šã€‚innerHTML çš„æ€»è®¡ç®—é‡ä¸ç®¡æ˜¯ js è®¡ç®—è¿˜æ˜¯ DOM æ“ä½œéƒ½æ˜¯å’Œæ•´ä¸ªç•Œé¢çš„å¤§å°ç›¸å…³ï¼Œä½† Virtual DOM çš„è®¡ç®—é‡åªæœ‰ js è®¡ç®—å’Œç•Œé¢å¤§å°ç›¸å…³ï¼ŒDOM æ“ä½œæ˜¯å’Œæ•°æ®çš„å˜åŠ¨é‡ç›¸å…³ã€‚</p><table><thead><tr><th>Real DOM</th><th>Virtual DOM</th></tr></thead><tbody><tr><td>æ›´æ–°ç¼“æ…¢ã€‚</td><td>æ›´æ–°æ›´å¿«ã€‚</td></tr><tr><td>å¯ä»¥ç›´æ¥æ›´æ–° HTMLã€‚</td><td>æ— æ³•ç›´æ¥æ›´æ–° HTMLã€‚</td></tr><tr><td>å¦‚æœå…ƒç´ æ›´æ–°ï¼Œåˆ™åˆ›å»ºæ–°DOMã€‚</td><td>å¦‚æœå…ƒç´ æ›´æ–°ï¼Œåˆ™æ›´æ–° JSX ã€‚</td></tr><tr><td>DOMæ“ä½œä»£ä»·å¾ˆé«˜ã€‚</td><td>DOM æ“ä½œéå¸¸ç®€å•ã€‚</td></tr><tr><td>æ¶ˆè€—çš„å†…å­˜è¾ƒå¤šã€‚</td><td>å¾ˆå°‘çš„å†…å­˜æ¶ˆè€—ã€‚</td></tr></tbody></table><h3 id="è™šæ‹Ÿ-dom-ä¸-mvvm" tabindex="-1"><a class="header-anchor" href="#è™šæ‹Ÿ-dom-ä¸-mvvm" aria-hidden="true">#</a> è™šæ‹Ÿ DOM ä¸ MVVM</h3><p>ç›¸æ¯”èµ· Reactï¼Œå…¶ä»– MVVM ç³»æ¡†æ¶æ¯”å¦‚ Angular, Knockout , Vue ï¼ŒAvalon é‡‡ç”¨çš„éƒ½æ˜¯æ•°æ®ç»‘å®šã€‚é€šè¿‡ Directive/Binding å¯¹è±¡ï¼Œè§‚å¯Ÿæ•°æ®å˜åŒ–å¹¶ä¿ç•™å¯¹å®é™… DOM å…ƒç´ çš„å¼•ç”¨ï¼Œå½“æœ‰æ•°æ®å˜åŒ–æ—¶è¿›è¡Œå¯¹åº”çš„æ“ä½œã€‚MVVM çš„å˜åŒ–æ£€æŸ¥æ˜¯æ•°æ®å±‚é¢çš„ï¼Œè€Œ React çš„æ£€æŸ¥æ˜¯ DOM ç»“æ„å±‚é¢çš„ã€‚</p><p>MVVM çš„æ€§èƒ½ä¹Ÿæ ¹æ®å˜åŠ¨æ£€æµ‹çš„å®ç°åŸç†æœ‰æ‰€ä¸åŒï¼šAngular ä¾èµ–äºè„æ£€æŸ¥ï¼›Knockout/Vue/Avalon é‡‡ç”¨äº†ä¾èµ–æ”¶é›†ã€‚</p><p>è„æ£€æŸ¥ï¼šscope digest(watcher count) ) + å¿…è¦ DOM æ›´æ–°</p><p>ä¾èµ–æ”¶é›†ï¼šé‡æ–°æ”¶é›†ä¾èµ–(data change) ) + å¿…è¦ DOM æ›´æ–°</p><p>Angular æœ€ä¸æ•ˆç‡çš„åœ°æ–¹åœ¨äºä»»ä½•å°å˜åŠ¨éƒ½æœ‰çš„å’Œ watcher æ•°é‡ç›¸å…³çš„æ€§èƒ½ä»£ä»·ï¼Œå½“æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æ—¶å€™ï¼ŒAngularæ›´æœ‰æ•ˆã€‚ä¾èµ–æ”¶é›†åœ¨åˆå§‹åŒ–å’Œæ•°æ®å˜åŒ–çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°æ”¶é›†ä¾èµ–ï¼Œè¿™ä¸ªä»£ä»·åœ¨å°é‡æ›´æ–°çš„æ—¶å€™å‡ ä¹å¯ä»¥å¿½ç•¥ï¼Œä½†åœ¨æ•°æ®é‡åºå¤§çš„æ—¶å€™ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„æ¶ˆè€—ã€‚</p><h3 id="æ€§èƒ½æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½æ¯”è¾ƒ" aria-hidden="true">#</a> æ€§èƒ½æ¯”è¾ƒ</h3><p>åœ¨æ¯”è¾ƒæ€§èƒ½çš„æ—¶å€™ï¼Œè¦åˆ†æ¸…æ¥šåˆå§‹æ¸²æŸ“ã€å°é‡æ•°æ®æ›´æ–°ã€å¤§é‡æ•°æ®æ›´æ–°è¿™äº›ä¸åŒçš„åœºåˆã€‚Virtual DOMã€è„æ£€æŸ¥ MVVMã€æ•°æ®æ”¶é›† MVVM åœ¨ä¸åŒåœºåˆå„æœ‰ä¸åŒçš„è¡¨ç°å’Œä¸åŒçš„ä¼˜åŒ–éœ€æ±‚ã€‚</p><p>Virtual DOM ä¸ºäº†æå‡å°é‡æ•°æ®æ›´æ–°æ—¶çš„æ€§èƒ½ï¼Œä¹Ÿéœ€è¦é’ˆå¯¹æ€§çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚ shouldComponentUpdate æˆ–æ˜¯ immutable dataã€‚</p><ul><li><p>åˆå§‹æ¸²æŸ“ï¼šVirtual DOM &gt; è„æ£€æŸ¥ &gt;= ä¾èµ–æ”¶é›†</p></li><li><p>å°é‡æ•°æ®æ›´æ–°ï¼šä¾èµ–æ”¶é›† &gt;&gt; Virtual DOM + ä¼˜åŒ– &gt; è„æ£€æŸ¥ï¼ˆæ— æ³•ä¼˜åŒ–ï¼‰&gt; Virtual DOM æ— ä¼˜åŒ–</p></li><li><p>å¤§é‡æ•°æ®æ›´æ–°ï¼šè„æ£€æŸ¥ + ä¼˜åŒ– &gt;= ä¾èµ–æ”¶é›† + ä¼˜åŒ– &gt; Virtual DOMï¼ˆæ— æ³•/æ— éœ€ä¼˜åŒ–ï¼‰&gt;&gt; MVVM æ— ä¼˜åŒ–</p></li></ul><h3 id="diff-ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#diff-ç®—æ³•" aria-hidden="true">#</a> diff ç®—æ³•</h3><p>ä¼ ç»Ÿ diff ç®—æ³•é€šè¿‡å¾ªç¯é€’å½’å¯¹èŠ‚ç‚¹è¿›è¡Œä¾æ¬¡å¯¹æ¯”ï¼Œç®—æ³•å¤æ‚åº¦è¾¾åˆ° O(n^3)ï¼Œå…¶ä¸­ n æ˜¯æ ‘ä¸­èŠ‚ç‚¹çš„æ€»æ•°ã€‚O(n^3) æ„å‘³ç€å¦‚æœè¦å±•ç¤º1000ä¸ªèŠ‚ç‚¹ï¼Œå°±è¦ä¾æ¬¡æ‰§è¡Œä¸Šåäº¿æ¬¡çš„æ¯”è¾ƒï¼Œ è¿™æ˜¯æ— æ³•æ»¡è¶³ç°ä»£å‰ç«¯æ€§èƒ½è¦æ±‚çš„ã€‚</p><ul><li>diff ç®—æ³•ä¸»è¦åŒ…æ‹¬å‡ ä¸ªæ­¥éª¤ï¼š <ul><li>ç”¨ JS å¯¹è±¡çš„æ–¹å¼æ¥è¡¨ç¤º DOM æ ‘çš„ç»“æ„ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå¯¹è±¡æ„å»ºå‡ºçœŸå®çš„ DOM æ ‘ï¼Œæ’åˆ°æ–‡æ¡£ä¸­ã€‚</li><li>å½“çŠ¶æ€å˜æ›´çš„æ—¶å€™ï¼Œé‡æ–°æ„é€ ä¸€æ£µæ–°çš„å¯¹è±¡æ ‘ã€‚ç„¶åç”¨æ–°çš„æ ‘å’Œæ—§çš„æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œè®°å½•ä¸¤æ£µæ ‘çš„å·®å¼‚, æœ€åæŠŠæ‰€è®°å½•çš„å·®å¼‚åº”ç”¨åˆ°æ‰€æ„å»ºçš„çœŸæ­£çš„DOMæ ‘ä¸Šï¼Œè§†å›¾æ›´æ–°ã€‚</li></ul></li></ul><h3 id="diff-ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#diff-ç­–ç•¥" aria-hidden="true">#</a> diff ç­–ç•¥</h3><ul><li>React é€šè¿‡åˆ¶å®šå¤§èƒ†çš„diffç­–ç•¥ï¼Œå°†diffç®—æ³•å¤æ‚åº¦ä» O(n^3) è½¬æ¢æˆ O(n) ã€‚ <ul><li>React é€šè¿‡åˆ†å±‚æ±‚å¼‚çš„ç­–ç•¥ï¼Œå¯¹ tree diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li><li>React é€šè¿‡ç›¸åŒç±»ç”Ÿæˆç›¸ä¼¼æ ‘å½¢ç»“æ„ï¼Œä¸åŒç±»ç”Ÿæˆä¸åŒæ ‘å½¢ç»“æ„çš„ç­–ç•¥ï¼Œå¯¹ component diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li><li>React é€šè¿‡è®¾ç½®å”¯ä¸€ keyçš„ç­–ç•¥ï¼Œå¯¹ element diff è¿›è¡Œç®—æ³•ä¼˜åŒ–ï¼›</li></ul></li></ul><h3 id="tree-diff-å±‚çº§æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#tree-diff-å±‚çº§æ¯”è¾ƒ" aria-hidden="true">#</a> tree diffï¼ˆå±‚çº§æ¯”è¾ƒï¼‰</h3><p>React å¯¹æ ‘è¿›è¡Œåˆ†å±‚æ¯”è¾ƒï¼Œä¸¤æ£µæ ‘åªä¼šå¯¹åŒä¸€å±‚æ¬¡çš„èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚ å½“å‘ç°èŠ‚ç‚¹å·²ç»ä¸å­˜åœ¨ï¼Œåˆ™è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ä¼šè¢«å®Œå…¨åˆ é™¤æ‰ï¼Œä¸ä¼šè¿›è¡Œè¿›ä¸€æ­¥çš„æ¯”è¾ƒã€‚</p><p>è¿™æ ·åªéœ€è¦å¯¹æ ‘è¿›è¡Œä¸€æ¬¡éå†ï¼Œä¾¿èƒ½å®Œæˆæ•´ä¸ª DOM æ ‘çš„æ¯”è¾ƒã€‚ å½“å‡ºç°èŠ‚ç‚¹è·¨å±‚çº§ç§»åŠ¨æ—¶ï¼Œå¹¶ä¸ä¼šå‡ºç°ç§»åŠ¨æ“ä½œï¼Œè€Œæ˜¯ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘è¢«é‡æ–°åˆ›å»ºï¼Œè¿™æ˜¯ä¸€ç§å½±å“ React æ€§èƒ½çš„æ“ä½œï¼Œå› æ­¤ React å®˜æ–¹å»ºè®®ä¸è¦è¿›è¡Œ DOM èŠ‚ç‚¹è·¨å±‚çº§çš„æ“ä½œã€‚</p><p>å…ˆè¿›è¡Œæ ‘ç»“æ„çš„å±‚çº§æ¯”è¾ƒï¼Œå¯¹åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼›</p><p>æ¥ç€çœ‹èŠ‚ç‚¹æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œæ˜¯ç»„ä»¶å°±åš Component Diff;</p><p>å¦‚æœèŠ‚ç‚¹æ˜¯æ ‡ç­¾æˆ–è€…å…ƒç´ ï¼Œå°±åš Element Diff;</p><blockquote><p>æ³¨æ„ï¼šåœ¨å¼€å‘ç»„ä»¶æ—¶ï¼Œä¿æŒç¨³å®šçš„ DOM ç»“æ„ä¼šæœ‰åŠ©äºæ€§èƒ½çš„æå‡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡ CSS éšè—æˆ–æ˜¾ç¤ºèŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯çœŸçš„ç§»é™¤æˆ–æ·»åŠ  DOM èŠ‚ç‚¹ã€‚</p></blockquote><ul><li>component diffï¼ˆç»„ä»¶æ¯”è¾ƒï¼‰ <ul><li>å¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼ŒæŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ virtual DOM treeã€‚</li><li>å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¯¥ç»„ä»¶åˆ¤æ–­ä¸º dirty componentï¼Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“ä¸€ä¸ªå…ƒç´ ä» <code>&lt;Article&gt;</code> å˜æˆ <code>&lt;Comment&gt;</code>ä¼šè§¦å‘ä¸€ä¸ªå®Œæ•´çš„é‡å»ºæµç¨‹ã€‚</li></ul></li></ul><p>å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ Virtual DOM æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹é‚£å¯ä»¥èŠ‚çœå¤§é‡çš„ diff è¿ç®—æ—¶é—´ã€‚å› æ­¤ React å…è®¸ç”¨æˆ·é€šè¿‡ shouldComponentUpdate() æ¥åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ diffã€‚</p><p>å¯¹äºä¸¤ä¸ªä¸åŒç±»å‹ä½†ç»“æ„ç›¸ä¼¼çš„ç»„ä»¶ï¼Œä¸ä¼šæ¯”è¾ƒäºŒè€…çš„ç»“æ„ï¼Œè€Œä¸”æ›¿æ¢æ•´ä¸ªç»„ä»¶çš„æ‰€æœ‰å†…å®¹ã€‚ä¸åŒç±»å‹çš„ component æ˜¯å¾ˆå°‘å­˜åœ¨ç›¸ä¼¼ DOM tree çš„æœºä¼šï¼Œå› æ­¤è¿™ç§æç«¯å› ç´ å¾ˆéš¾åœ¨å®ç°å¼€å‘è¿‡ç¨‹ä¸­é€ æˆé‡å¤§å½±å“çš„ã€‚</p><h3 id="element-diff-å…ƒç´ æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#element-diff-å…ƒç´ æ¯”è¾ƒ" aria-hidden="true">#</a> element diff (å…ƒç´ æ¯”è¾ƒ)</h3><p>å½“èŠ‚ç‚¹å¤„äºåŒä¸€å±‚çº§æ—¶ï¼ŒReact diff æä¾›äº†ä¸‰ç§èŠ‚ç‚¹æ“ä½œï¼Œåˆ†åˆ«ä¸ºï¼šINSERT_MARKUPï¼ˆæ’å…¥ï¼‰ã€MOVE_EXISTINGï¼ˆç§»åŠ¨ï¼‰å’Œ REMOVE_NODEï¼ˆåˆ é™¤ï¼‰ã€‚</p><p>INSERT_MARKUPï¼Œæ–°çš„ component ç±»å‹ä¸åœ¨è€é›†åˆé‡Œï¼Œ å³æ˜¯å…¨æ–°çš„èŠ‚ç‚¹ï¼Œéœ€è¦å¯¹æ–°èŠ‚ç‚¹æ‰§è¡Œæ’å…¥æ“ä½œã€‚</p><p>MOVE_EXISTINGï¼Œåœ¨è€é›†åˆæœ‰æ–° component ç±»å‹ï¼Œä¸” element æ˜¯å¯æ›´æ–°çš„ç±»å‹ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦åšç§»åŠ¨æ“ä½œï¼Œå¯ä»¥å¤ç”¨ä»¥å‰çš„ DOM èŠ‚ç‚¹ã€‚</p><p>REMOVE_NODEï¼Œè€ component ç±»å‹ï¼Œåœ¨æ–°é›†åˆé‡Œä¹Ÿæœ‰ï¼Œä½†å¯¹åº”çš„ element ä¸åŒåˆ™ä¸èƒ½ç›´æ¥å¤ç”¨å’Œæ›´æ–°ï¼Œéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œï¼Œæˆ–è€…è€ component ä¸åœ¨æ–°é›†åˆé‡Œçš„ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œåˆ é™¤æ“ä½œã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Connecticut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>React å¹¶ä¸ä¼šæ„è¯†åˆ°åº”è¯¥ä¿ç•™<code>&lt;li&gt;Duke&lt;/li&gt;</code>å’Œ<code>&lt;li&gt;Villanova&lt;/li&gt;</code>ï¼Œè€Œæ˜¯ä¼šé‡å»ºæ¯ä¸€ä¸ªå­å…ƒç´ ,ä¸ä¼šè¿›è¡Œç§»åŠ¨ DOM æ“ä½œã€‚</p><h3 id="key-ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#key-ä¼˜åŒ–" aria-hidden="true">#</a> key ä¼˜åŒ–</h3><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒReact å¼•å…¥äº† key å±æ€§, å¯¹åŒä¸€å±‚çº§çš„åŒç»„å­èŠ‚ç‚¹ï¼Œæ·»åŠ å”¯ä¸€ key è¿›è¡ŒåŒºåˆ†ã€‚</p><p>å½“å­å…ƒç´ æ‹¥æœ‰ key æ—¶ï¼ŒReact ä½¿ç”¨ key æ¥åŒ¹é…åŸæœ‰æ ‘ä¸Šçš„å­å…ƒç´ ä»¥åŠæœ€æ–°æ ‘ä¸Šçš„å­å…ƒç´ ã€‚å¦‚æœæœ‰ç›¸åŒçš„èŠ‚ç‚¹ï¼Œæ— éœ€è¿›è¡ŒèŠ‚ç‚¹åˆ é™¤å’Œåˆ›å»ºï¼Œåªéœ€è¦å°†è€é›†åˆä¸­èŠ‚ç‚¹çš„ä½ç½®è¿›è¡Œç§»åŠ¨ï¼Œæ›´æ–°ä¸ºæ–°é›†åˆä¸­èŠ‚ç‚¹çš„ä½ç½®ã€‚</p><blockquote><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ç±»ä¼¼å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°åˆ—è¡¨é¦–éƒ¨çš„æ“ä½œï¼Œå½“èŠ‚ç‚¹æ•°é‡è¿‡å¤§æˆ–æ›´æ–°æ“ä½œè¿‡äºé¢‘ç¹æ—¶ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¼šå½±å“ React çš„æ¸²æŸ“æ€§èƒ½ã€‚ key ä¸éœ€è¦å…¨å±€å”¯ä¸€ï¼Œä½†åœ¨åˆ—è¡¨ä¸­éœ€è¦ä¿æŒå”¯ä¸€ã€‚ Key åº”è¯¥å…·æœ‰ç¨³å®šï¼Œå¯é¢„æµ‹ï¼Œä»¥åŠåˆ—è¡¨å†…å”¯ä¸€çš„ç‰¹è´¨ã€‚ä¸ç¨³å®šçš„ keyï¼ˆæ¯”å¦‚é€šè¿‡ Math.random() ç”Ÿæˆçš„ï¼‰ä¼šå¯¼è‡´è®¸å¤šç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹è¢«ä¸å¿…è¦åœ°é‡æ–°åˆ›å»ºï¼Œè¿™å¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™å’Œå­ç»„ä»¶ä¸­çš„çŠ¶æ€ä¸¢å¤±ã€‚</p></blockquote><h2 id="reactä¸vueåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#reactä¸vueåŒºåˆ«" aria-hidden="true">#</a> reactä¸vueåŒºåˆ«</h2><ul><li>ç›‘å¬æ•°æ®å˜åŒ–çš„å®ç°åŸç†ä¸åŒ</li></ul><p>Vueé€šè¿‡ getter/setterä»¥åŠä¸€äº›å‡½æ•°çš„åŠ«æŒï¼Œèƒ½ç²¾ç¡®çŸ¥é“æ•°æ®å˜åŒ–ã€‚ Reacté»˜è®¤æ˜¯é€šè¿‡æ¯”è¾ƒå¼•ç”¨çš„æ–¹å¼ï¼ˆdiffï¼‰è¿›è¡Œçš„ï¼Œå¦‚æœä¸ä¼˜åŒ–å¯èƒ½å¯¼è‡´å¤§é‡ä¸å¿…è¦çš„VDOMçš„é‡æ–°æ¸²æŸ“ã€‚</p><ul><li>æ•°æ®æµä¸åŒ</li></ul><p>Vue1.0ä¸­å¯ä»¥å®ç°ä¸¤ç§åŒå‘ç»‘å®šï¼šçˆ¶å­ç»„ä»¶ä¹‹é—´propså¯ä»¥åŒå‘ç»‘å®šï¼›ç»„ä»¶ä¸DOMä¹‹é—´å¯ä»¥é€šè¿‡v-modelåŒå‘ç»‘å®šã€‚ Vue2.xä¸­çˆ¶å­ç»„ä»¶ä¹‹é—´ä¸èƒ½åŒå‘ç»‘å®šäº†ï¼ˆä½†æ˜¯æä¾›äº†ä¸€ä¸ªè¯­æ³•ç³–è‡ªåŠ¨å¸®ä½ é€šè¿‡äº‹ä»¶çš„æ–¹å¼ä¿®æ”¹)ã€‚ Reactä¸€ç›´ä¸æ”¯æŒåŒå‘ç»‘å®šï¼Œæå€¡çš„æ˜¯å•å‘æ•°æ®æµï¼Œç§°ä¹‹ä¸ºonChange/setState()æ¨¡å¼ã€‚</p><ul><li>HoCå’Œmixins</li></ul><p>Vueç»„åˆä¸åŒåŠŸèƒ½çš„æ–¹å¼æ˜¯é€šè¿‡mixinï¼ŒVueä¸­ç»„ä»¶æ˜¯ä¸€ä¸ªè¢«åŒ…è£…çš„å‡½æ•°ï¼Œå¹¶ä¸ç®€å•çš„å°±æ˜¯æˆ‘ä»¬å®šä¹‰ç»„ä»¶çš„æ—¶å€™ä¼ å…¥çš„å¯¹è±¡æˆ–è€…å‡½æ•°ã€‚ Reactç»„åˆä¸åŒåŠŸèƒ½çš„æ–¹å¼æ˜¯é€šè¿‡HoC(é«˜é˜¶ç»„ä»¶ï¼‰ã€‚</p><ul><li>æ¨¡æ¿æ¸²æŸ“æ–¹å¼çš„ä¸åŒ</li></ul><p>æ¨¡æ¿çš„è¯­æ³•ä¸åŒï¼ŒReactæ˜¯é€šè¿‡JSXæ¸²æŸ“æ¨¡æ¿ï¼Œ Vueæ˜¯é€šè¿‡ä¸€ç§æ‹“å±•çš„HTMLè¯­æ³•è¿›è¡Œæ¸²æŸ“ã€‚ æ¨¡æ¿çš„åŸç†ä¸åŒï¼ŒReacté€šè¿‡åŸç”ŸJSå®ç°æ¨¡æ¿ä¸­çš„å¸¸è§è¯­æ³•ï¼Œæ¯”å¦‚æ’å€¼ï¼Œæ¡ä»¶ï¼Œå¾ªç¯ç­‰ã€‚è€ŒVueæ˜¯åœ¨å’Œç»„ä»¶JSä»£ç åˆ†ç¦»çš„å•ç‹¬çš„æ¨¡æ¿ä¸­ï¼Œé€šè¿‡æŒ‡ä»¤æ¥å®ç°çš„ï¼Œæ¯”å¦‚ v-if ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œè¯´æ˜Reactçš„å¥½å¤„ï¼šreactä¸­renderå‡½æ•°æ˜¯æ”¯æŒé—­åŒ…ç‰¹æ€§çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬importçš„ç»„ä»¶åœ¨renderä¸­å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ä½†æ˜¯åœ¨Vueä¸­ï¼Œç”±äºæ¨¡æ¿ä¸­ä½¿ç”¨çš„æ•°æ®éƒ½å¿…é¡»æŒ‚åœ¨ this ä¸Šè¿›è¡Œä¸€æ¬¡ä¸­è½¬ï¼Œæ‰€ä»¥æˆ‘ä»¬import ä¸€ä¸ªç»„ä»¶å®Œäº†ä¹‹åï¼Œè¿˜éœ€è¦åœ¨ components ä¸­å†å£°æ˜ä¸‹ã€‚</p><ul><li>æ¸²æŸ“è¿‡ç¨‹ä¸åŒ</li></ul><p>Vueå¯ä»¥æ›´å¿«åœ°è®¡ç®—å‡ºVirtual DOMçš„å·®å¼‚ï¼Œè¿™æ˜¯ç”±äºå®ƒä¼šè·Ÿè¸ªæ¯ä¸€ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¸éœ€è¦é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ã€‚ Reactå½“çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œå…¨éƒ¨å­ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚é€šè¿‡shouldComponentUpdateè¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¯ä»¥è¿›è¡Œæ§åˆ¶ï¼Œä½†Vueå°†æ­¤è§†ä¸ºé»˜è®¤çš„ä¼˜åŒ–ã€‚</p><ul><li>æ¡†æ¶æœ¬è´¨ä¸åŒ</li></ul><p>Vueæœ¬è´¨æ˜¯MVVMæ¡†æ¶ï¼Œç”±MVCå‘å±•è€Œæ¥ï¼› Reactæ˜¯å‰ç«¯ç»„ä»¶åŒ–æ¡†æ¶ï¼Œç”±åç«¯ç»„ä»¶åŒ–å‘å±•è€Œæ¥ã€‚</p><h2 id="æ€§èƒ½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a> æ€§èƒ½ä¼˜åŒ–</h2><ul><li>é™æ€èµ„æºä½¿ç”¨ CDN</li></ul><p>CDNæ˜¯ä¸€ç»„åˆ†å¸ƒåœ¨å¤šä¸ªä¸åŒåœ°ç†ä½ç½®çš„ Web æœåŠ¡å™¨ã€‚å½“æœåŠ¡å™¨ç¦»ç”¨æˆ·è¶Šè¿œæ—¶ï¼Œå»¶è¿Ÿè¶Šé«˜ã€‚</p><ul><li>æ— é˜»å¡</li></ul><p>å¤´éƒ¨å†…è”çš„æ ·å¼å’Œè„šæœ¬ä¼šé˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œæ ·å¼æ”¾åœ¨å¤´éƒ¨å¹¶ä½¿ç”¨linkæ–¹å¼å¼•å…¥ï¼Œè„šæœ¬æ”¾åœ¨å°¾éƒ¨å¹¶ä½¿ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½</p><ul><li>å‹ç¼©æ–‡ä»¶</li></ul><p>å‹ç¼©æ–‡ä»¶å¯ä»¥å‡å°‘æ–‡ä»¶ä¸‹è½½æ—¶é—´ã€‚</p><p>åœ¨ webpack å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ’ä»¶è¿›è¡Œå‹ç¼©ï¼š JavaScriptï¼šUglifyPlugin CSS ï¼šMiniCssExtractPlugin HTMLï¼šHtmlWebpackPlugin</p><p>ä½¿ç”¨ gzip å‹ç¼©ã€‚é€šè¿‡å‘ HTTP è¯·æ±‚å¤´ä¸­çš„ Accept-Encoding å¤´æ·»åŠ  gzip æ ‡è¯†æ¥å¼€å¯è¿™ä¸€åŠŸèƒ½ã€‚</p><ul><li>å›¾ç‰‡ä¼˜åŒ–</li></ul><p>å›¾ç‰‡æ‡’åŠ è½½</p><p>å“åº”å¼å›¾ç‰‡ï¼šæµè§ˆå™¨æ ¹æ®å±å¹•å¤§å°è‡ªåŠ¨åŠ è½½åˆé€‚çš„å›¾ç‰‡ã€‚</p><p>é™ä½å›¾ç‰‡è´¨é‡ï¼šæ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€æ˜¯é€šè¿‡ webpack æ’ä»¶ image-webpack-loaderï¼ŒäºŒæ˜¯é€šè¿‡åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼©ã€‚</p><ul><li>å‡å°‘é‡ç»˜é‡æ’</li></ul><p>é™ä½ CSS é€‰æ‹©å™¨çš„å¤æ‚æ€§</p><p>ä½¿ç”¨ transform å’Œ opacity å±æ€§æ›´æ”¹æ¥å®ç°åŠ¨ç”»</p><p>ç”¨ JavaScript ä¿®æ”¹æ ·å¼æ—¶ï¼Œæœ€å¥½ä¸è¦ç›´æ¥å†™æ ·å¼ï¼Œè€Œæ˜¯æ›¿æ¢ class æ¥æ”¹å˜æ ·å¼ã€‚</p><p>å¦‚æœè¦å¯¹ DOM å…ƒç´ æ‰§è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œå¯ä»¥å°† DOM å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¿®æ”¹å®Œæˆåï¼Œå†å°†å®ƒå¸¦å›æ–‡æ¡£ã€‚æ¨èä½¿ç”¨éšè—å…ƒç´ ï¼ˆdisplay:noneï¼‰æˆ–æ–‡æ¡£ç¢ç‰‡ï¼ˆDocumentFragementï¼‰ï¼Œéƒ½èƒ½å¾ˆå¥½çš„å®ç°è¿™ä¸ªæ–¹æ¡ˆã€‚</p><ul><li>ä½¿ç”¨ requestAnimationFrame æ¥å®ç°è§†è§‰å˜åŒ–</li></ul><p>window.requestAnimationFrame() å‘Šè¯‰æµè§ˆå™¨â€”â€”ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œ</p><ul><li>webpack æ‰“åŒ…ï¼Œ æ·»åŠ æ–‡ä»¶ç¼“å­˜ index.html è®¾ç½®æˆ no-cacheï¼Œè¿™æ ·æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ¯”å¯¹ä¸€ä¸‹ index.html æ–‡ä»¶æœ‰æ²¡å˜åŒ–ï¼Œå¦‚æœæ²¡å˜åŒ–å°±ä½¿ç”¨ç¼“å­˜ï¼Œæœ‰å˜åŒ–å°±ä½¿ç”¨æ–°çš„ index.html æ–‡ä»¶ã€‚ å…¶ä»–æ‰€æœ‰æ–‡ä»¶ä¸€å¾‹ä½¿ç”¨é•¿ç¼“å­˜ï¼Œä¾‹å¦‚è®¾ç½®æˆç¼“å­˜ä¸€å¹´ maxAge: 1000 * 60 * 60 * 24 * 365ã€‚ å‰ç«¯ä»£ç ä½¿ç”¨ webpack æ‰“åŒ…ï¼Œæ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶åï¼Œæ¯æ¬¡é‡æ–°æ‰“åŒ…æ—¶åªæœ‰å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œæ–‡ä»¶åæ‰ä¼šå‘ç”Ÿå˜åŒ–ã€‚</li></ul><blockquote><p>max-age: è®¾ç½®ç¼“å­˜å­˜å‚¨çš„æœ€å¤§å‘¨æœŸï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ç¼“å­˜è¢«è®¤ä¸ºè¿‡æœŸ(å•ä½ç§’)ã€‚åœ¨è¿™ä¸ªæ—¶é—´å‰ï¼Œæµè§ˆå™¨è¯»å–æ–‡ä»¶ä¸ä¼šå‘å‡ºæ–°è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ç¼“å­˜ã€‚ æŒ‡å®š no-cache è¡¨ç¤ºå®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯æ¬¡ä½¿ç”¨ç¼“å­˜èµ„æºå‰éƒ½å¿…é¡»é‡æ–°éªŒè¯å…¶æœ‰æ•ˆæ€§</p></blockquote><h2 id="è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ" aria-hidden="true">#</a> è¾“å…¥urlåå‘ç”Ÿäº†ä»€ä¹ˆ</h2><ol><li><p>DNSåŸŸåè§£æï¼›</p></li><li><p>å»ºç«‹TCPè¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼›</p></li><li><p>å‘é€HTTPè¯·æ±‚ï¼›</p></li><li><p>æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼›</p></li><li><p>è¿”å›å“åº”ç»“æœï¼›</p></li><li><p>å…³é—­TCPè¿æ¥ï¼ˆå››æ¬¡æ¡æ‰‹ï¼‰ï¼›</p></li><li><p>æµè§ˆå™¨è§£æHTMLï¼›</p></li><li><p>æµè§ˆå™¨å¸ƒå±€æ¸²æŸ“ï¼›</p></li></ol><ul><li>DNSåŸŸåè§£æï¼šæ‹¿åˆ°æœåŠ¡å™¨ip</li></ul><p>å®¢æˆ·ç«¯æ”¶åˆ°ä½ è¾“å…¥çš„åŸŸååœ°å€åï¼Œå®ƒé¦–å…ˆå»æ‰¾æœ¬åœ°çš„hostsæ–‡ä»¶ï¼Œæ£€æŸ¥åœ¨è¯¥æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ç›¸åº”çš„åŸŸåã€IPå¯¹åº”å…³ç³»ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å‘å…¶IPåœ°å€å‘é€è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†å»æ‰¾DNSæœåŠ¡å™¨ã€‚</p><ul><li>å»ºç«‹TCPé“¾æ¥ï¼šå®¢æˆ·ç«¯é“¾æ¥æœåŠ¡å™¨</li></ul><p>TCPæä¾›äº†ä¸€ç§å¯é ã€é¢å‘è¿æ¥ã€å­—èŠ‚æµã€ä¼ è¾“å±‚çš„æœåŠ¡ã€‚å¯¹äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨çš„TCPé“¾æ¥ï¼Œå¿…ç„¶è¦è¯´çš„å°±æ˜¯ã€ä¸‰æ¬¡æ¡æ‰‹ã€ã€‚â€œ3æ¬¡æ¡æ‰‹â€çš„ä½œç”¨å°±æ˜¯åŒæ–¹éƒ½èƒ½æ˜ç¡®è‡ªå·±å’Œå¯¹æ–¹çš„æ”¶ã€å‘èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚</p><p>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå¸¦æœ‰SYNæ ‡å¿—çš„æ•°æ®åŒ…ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°åï¼Œå›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN/ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯ï¼Œæœ€åå®¢æˆ·ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨æ¡æ‰‹ç»“æŸï¼Œè¿æ¥æˆåŠŸã€‚</p><p>SYN â€”â€” ç”¨äºåˆå¦‚åŒ–ä¸€ä¸ªè¿æ¥çš„åºåˆ—å·ã€‚ ACK â€”â€” ç¡®è®¤ï¼Œä½¿å¾—ç¡®è®¤å·æœ‰æ•ˆã€‚ RST â€”â€” é‡ç½®è¿æ¥ã€‚ FIN â€”â€” è¯¥æŠ¥æ–‡æ®µçš„å‘é€æ–¹å·²ç»ç»“æŸå‘å¯¹æ–¹å‘é€æ•°æ®ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ï¼šâ€œä½ å¥½ï¼Œåœ¨å®¶ä¸ã€‚â€ -- SYN æœåŠ¡ç«¯ï¼šâ€œåœ¨çš„ï¼Œä½ æ¥å§ã€‚â€ -- SYN + ACK å®¢æˆ·ç«¯ï¼šâ€œå¥½å˜ã€‚â€ -- ACK</p></blockquote><ul><li><p>å‘é€HTTPè¯·æ±‚</p></li><li><p>æœåŠ¡å™¨å¤„ç†è¯·æ±‚</p></li><li><p>è¿”å›å“åº”ç»“æœ</p></li><li><p>å…³é—­TCPè¿æ¥ï¼ˆéœ€è¦4æ¬¡æ¡æ‰‹ï¼‰</p></li></ul><p>ä¸ºäº†é¿å…æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯åŒæ–¹çš„èµ„æºå ç”¨å’ŒæŸè€—ï¼Œå½“åŒæ–¹æ²¡æœ‰è¯·æ±‚æˆ–å“åº”ä¼ é€’æ—¶ï¼Œä»»æ„ä¸€æ–¹éƒ½å¯ä»¥å‘èµ·å…³é—­è¯·æ±‚ã€‚</p><p>å…³é—­è¿æ¥æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°å¯¹æ–¹çš„FINæŠ¥æ–‡æ—¶ï¼Œä»…ä»…è¡¨ç¤ºå®¢æˆ·ç«¯ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼Œè€ŒæœåŠ¡å™¨ä¹Ÿæœªå¿…å…¨éƒ¨æ•°æ®éƒ½å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥æœåŠ¡å™¨å¯ä»¥ç«‹å³å…³é—­ï¼Œä¹Ÿå¯ä»¥å‘é€ä¸€äº›æ•°æ®ç»™å¯¹æ–¹åï¼Œå†å‘é€FINæŠ¥æ–‡ç»™å¯¹æ–¹æ¥è¡¨ç¤ºåŒæ„ç°åœ¨å…³é—­è¿æ¥ï¼Œå› æ­¤ï¼Œå·±æ–¹ACKå’ŒFINä¸€èˆ¬éƒ½ä¼šåˆ†å¼€å‘é€ï¼Œä»è€Œå¯¼è‡´å¤šäº†ä¸€æ¬¡ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ï¼šâ€œå…„å¼Ÿï¼Œæˆ‘è¿™è¾¹æ²¡æ•°æ®è¦ä¼ äº†ï¼Œå’±å…³é—­è¿æ¥å§ã€‚â€ -- FIN + seq æœåŠ¡ç«¯ï¼šâ€œæ”¶åˆ°ï¼Œæˆ‘çœ‹çœ‹æˆ‘è¿™è¾¹æœ‰æœ¨æœ‰æ•°æ®äº†ã€‚â€ -- ACK + seq + ack æœåŠ¡ç«¯ï¼šâ€œå…„å¼Ÿï¼Œæˆ‘è¿™è¾¹ä¹Ÿæ²¡æ•°æ®è¦ä¼ ä½ äº†ï¼Œå’±å¯ä»¥å…³é—­è¿æ¥äº†ã€‚â€ - FIN + ACK + seq + ack å®¢æˆ·ç«¯ï¼šâ€œå¥½å˜ã€‚â€ -- ACK + seq + ack</p></blockquote><ul><li>æµè§ˆå™¨è§£æHTML</li></ul><p>æµè§ˆå™¨éœ€è¦åŠ è½½è§£æçš„ä¸ä»…ä»…æ˜¯HTMLï¼Œè¿˜åŒ…æ‹¬CSSã€JSï¼Œä»¥åŠè¿˜è¦åŠ è½½å›¾ç‰‡ã€è§†é¢‘ç­‰å…¶ä»–åª’ä½“èµ„æºã€‚</p><p>æµè§ˆå™¨é€šè¿‡è§£æHTMLï¼Œç”ŸæˆDOMæ ‘ï¼Œè§£æCSSï¼Œç”ŸæˆCSSOMæ ‘ï¼Œç„¶åé€šè¿‡DOMæ ‘å’ŒCSSPOMæ ‘ç”Ÿæˆæ¸²æŸ“æ ‘ã€‚æ¸²æŸ“æ ‘ä¸DOMæ ‘ä¸åŒï¼Œæ¸²æŸ“æ ‘ä¸­å¹¶æ²¡æœ‰headã€displayä¸ºnoneç­‰ä¸å¿…æ˜¾ç¤ºçš„èŠ‚ç‚¹ã€‚</p><blockquote><p>æµè§ˆå™¨çš„è§£æè¿‡ç¨‹å¹¶éæ˜¯ä¸²è¿è¿›è¡Œçš„ï¼Œæ¯”å¦‚åœ¨è§£æCSSçš„åŒæ—¶ï¼Œå¯ä»¥ç»§ç»­åŠ è½½è§£æHTMLï¼Œä½†åœ¨è§£ææ‰§è¡ŒJSè„šæœ¬æ—¶ï¼Œä¼šåœæ­¢è§£æåç»­HTMLï¼Œä¼šå‡ºç°é˜»å¡é—®é¢˜ã€‚</p></blockquote><ul><li>æµè§ˆå™¨æ¸²æŸ“é¡µé¢</li></ul><p>æ ¹æ®æ¸²æŸ“æ ‘å¸ƒå±€ï¼Œè®¡ç®—CSSæ ·å¼ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹åœ¨é¡µé¢ä¸­çš„å¤§å°å’Œä½ç½®ç­‰å‡ ä½•ä¿¡æ¯ã€‚HTMLé»˜è®¤æ˜¯æµå¼å¸ƒå±€çš„ï¼ŒCSSå’Œjsä¼šæ‰“ç ´è¿™ç§å¸ƒå±€ï¼Œæ”¹å˜DOMçš„å¤–è§‚æ ·å¼ä»¥åŠå¤§å°å’Œä½ç½®ã€‚æœ€åæµè§ˆå™¨ç»˜åˆ¶å„ä¸ªèŠ‚ç‚¹ï¼Œå°†é¡µé¢å±•ç¤ºç»™ç”¨æˆ·ã€‚</p><blockquote><p>replaintï¼šå±å¹•çš„ä¸€éƒ¨åˆ†é‡ç”»ï¼Œä¸å½±å“æ•´ä½“å¸ƒå±€ï¼Œæ¯”å¦‚æŸä¸ªCSSçš„èƒŒæ™¯è‰²å˜äº†ï¼Œä½†å…ƒç´ çš„å‡ ä½•å°ºå¯¸å’Œä½ç½®ä¸å˜ã€‚ reflowï¼šæ„å‘³ç€å…ƒç´ çš„å‡ ä½•å°ºå¯¸å˜äº†ï¼Œéœ€è¦é‡æ–°è®¡ç®—æ¸²æŸ“æ ‘ã€‚</p></blockquote><h2 id="å‰ç«¯è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯è·¯ç”±" aria-hidden="true">#</a> å‰ç«¯è·¯ç”±</h2><h3 id="ä»€ä¹ˆæ˜¯è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è·¯ç”±" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯è·¯ç”±</h3><p>è·¯ç”±æ˜¯ç”¨æ¥è·Ÿåç«¯æœåŠ¡å™¨è¿›è¡Œäº¤äº’çš„ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ä¸åŒçš„è·¯å¾„è¯·æ±‚ä¸åŒçš„èµ„æºã€‚ è·¯ç”±è¿™æ¦‚å¿µæœ€å¼€å§‹æ˜¯åœ¨åç«¯å‡ºç°, åœ¨å‰åç«¯ä¸åˆ†ç¦»çš„æ—¶æœŸ, ç”±åç«¯æ¥æ§åˆ¶è·¯ç”±, æœåŠ¡å™¨æ¥æ”¶å®¢æˆ·ç«¯çš„è¯·æ±‚,è§£æå¯¹åº”çš„urlè·¯å¾„, å¹¶è¿”å›å¯¹åº”çš„é¡µé¢/èµ„æºã€‚</p><h3 id="å‰ç«¯è·¯ç”±-1" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯è·¯ç”±-1" aria-hidden="true">#</a> å‰ç«¯è·¯ç”±</h3><p>Ajaxï¼Œå…¨ç§° Asynchronous JavaScript And XMLï¼Œæ˜¯æµè§ˆå™¨ç”¨æ¥å®ç°å¼‚æ­¥åŠ è½½çš„ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆã€‚</p><p>åœ¨Ajaxæ²¡æœ‰å‡ºç°æ—¶æœŸï¼Œå¤§å¤šæ•°çš„ç½‘é¡µéƒ½æ˜¯é€šè¿‡ç›´æ¥è¿”å› HTMLï¼Œç”¨æˆ·çš„æ¯æ¬¡æ›´æ–°æ“ä½œéƒ½éœ€è¦é‡æ–°åˆ·æ–°é¡µé¢ï¼ŒåŠå…¶å½±å“äº¤äº’ä½“éªŒã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæå‡ºäº†Ajax(å¼‚æ­¥åŠ è½½æ–¹æ¡ˆ), æœ‰äº† Ajax åï¼Œç”¨æˆ·äº¤äº’å°±ä¸ç”¨æ¯æ¬¡éƒ½åˆ·æ–°é¡µé¢ã€‚åæ¥å‡ºç°SPAå•é¡µåº”ç”¨ã€‚</p><ul><li>SPA ä¸­ç”¨æˆ·çš„äº¤äº’æ˜¯é€šè¿‡ JS æ”¹å˜ HTML å†…å®¹æ¥å®ç°çš„ï¼Œé¡µé¢æœ¬èº«çš„ url å¹¶æ²¡æœ‰å˜åŒ–ï¼Œè¿™å¯¼è‡´äº†ä¸¤ä¸ªé—®é¢˜ï¼š <ul><li>SPA æ— æ³•è®°ä½ç”¨æˆ·çš„æ“ä½œè®°å½•ï¼Œæ— è®ºæ˜¯åˆ·æ–°ã€å‰è¿›è¿˜æ˜¯åé€€ï¼Œéƒ½æ— æ³•å±•ç¤ºç”¨æˆ·çœŸå®çš„æœŸæœ›å†…å®¹ã€‚</li><li>SPA ä¸­è™½ç„¶ç”±äºä¸šåŠ¡çš„ä¸åŒä¼šæœ‰å¤šç§é¡µé¢å±•ç¤ºå½¢å¼ï¼Œä½†åªæœ‰ä¸€ä¸ª urlï¼Œå¯¹ SEO ä¸å‹å¥½ï¼Œä¸æ–¹ä¾¿æœç´¢å¼•æ“è¿›è¡Œæ”¶å½•ã€‚</li></ul></li></ul><p>å‰ç«¯è·¯ç”±å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜è€Œå‡ºç°çš„ã€‚</p><h3 id="å‰ç«¯è·¯ç”±çš„å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯è·¯ç”±çš„å®ç°æ–¹å¼" aria-hidden="true">#</a> å‰ç«¯è·¯ç”±çš„å®ç°æ–¹å¼</h3><p>å‰ç«¯è·¯ç”±çš„å®ç°å®é™…ä¸Šæ˜¯æ£€æµ‹ url çš„å˜åŒ–ï¼Œæˆªè· url åœ°å€ï¼Œè§£ææ¥åŒ¹é…è·¯ç”±è§„åˆ™ã€‚æœ‰ä¸‹é¢ä¸¤ç§å®ç°æ–¹å¼ï¼š</p><ul><li>Hashæ¨¡å¼ hash å°±æ˜¯æŒ‡ url åçš„ # å·ä»¥åŠåé¢çš„å­—ç¬¦ã€‚ #åé¢ hash å€¼çš„å˜åŒ–ï¼Œå¹¶ä¸ä¼šå¯¼è‡´æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œæµè§ˆå™¨ä¸å‘è¯·æ±‚ï¼Œä¹Ÿå°±ä¸ä¼šåˆ·æ–°é¡µé¢ã€‚</li></ul><p>hash çš„æ”¹å˜ä¼šè§¦å‘ hashchange äº‹ä»¶ï¼Œå¯ä»¥ç”¨onhashchangeäº‹ä»¶æ¥ç›‘å¬hashå€¼çš„æ”¹å˜ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ç›‘å¬hashå˜åŒ–ï¼Œç‚¹å‡»æµè§ˆå™¨çš„å‰è¿›åé€€ä¼šè§¦å‘</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;hashchange&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>History æ¨¡å¼</li></ul><p>åœ¨ HTML5 ä¹‹å‰ï¼Œæµè§ˆå™¨å°±å·²ç»æœ‰äº† history å¯¹è±¡ã€‚ä½†åœ¨æ—©æœŸçš„ history ä¸­åªèƒ½ç”¨äºå¤šé¡µé¢çš„è·³è½¬ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// åé€€ä¸€é¡µ</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å‰è¿›ä¸¤é¡µ</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å‰è¿›ä¸€é¡µ</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// åé€€ä¸€é¡µ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ HTML5 çš„è§„èŒƒä¸­ï¼Œhistory æ–°å¢äº†å‡ ä¸ª API:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å‘å½“å‰æµè§ˆå™¨ä¼šè¯çš„å†å²å †æ ˆä¸­æ·»åŠ ä¸€ä¸ªçŠ¶æ€</span>
history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¿®æ”¹äº†å½“å‰çš„å†å²è®°å½•é¡¹ï¼ˆä¸æ˜¯æ–°å»ºä¸€ä¸ªï¼‰</span>
history<span class="token punctuation">.</span>state          <span class="token comment">// è¿”å›ä¸€ä¸ªè¡¨ç¤ºå†å²å †æ ˆé¡¶éƒ¨çš„çŠ¶æ€çš„å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äº history.pushState() å’Œ history.replaceState() å¯ä»¥æ”¹å˜ url åŒæ—¶ï¼Œä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œæ‰€ä»¥åœ¨ HTML5 ä¸­çš„ histroy å…·å¤‡äº†å®ç°å‰ç«¯è·¯ç”±çš„èƒ½åŠ›ã€‚ windowå¯¹è±¡æä¾›äº†onpopstateäº‹ä»¶æ¥ç›‘å¬å†å²æ ˆçš„æ”¹å˜,ä¸€æ—¦å†å²æ ˆä¿¡æ¯å‘ç”Ÿæ”¹å˜, ä¾¿ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚</p><blockquote><p>è°ƒç”¨history.pushState()æˆ–history.replaceState()ä¸ä¼šè§¦å‘popstateäº‹ä»¶ã€‚åªæœ‰åœ¨åšå‡ºæµè§ˆå™¨åŠ¨ä½œæ—¶ï¼Œæ‰ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œä¾‹å¦‚æ‰§è¡Œhistory.back()æˆ–history.forward()åè§¦å‘ window.onpopstateäº‹ä»¶ã€‚</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å†å²æ ˆæ”¹å˜</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„ï¼š pushState() ä¸ä¼šé€ æˆ hashchange äº‹ä»¶è°ƒç”¨, å³ä½¿æ–°çš„URLå’Œä¹‹å‰çš„URLåªæ˜¯é”šçš„æ•°æ®ä¸åŒã€‚</p></blockquote><ul><li>ä¸¤ç§æ¨¡å¼å¯¹æ¯”</li></ul><table><thead><tr><th>å¯¹æ¯”</th><th>Hash</th><th>History</th></tr></thead><tbody><tr><td>è·¯å¾„</td><td>å¸¦#, è·¯å¾„ä¸‘</td><td>æ­£å¸¸è·¯å¾„</td></tr><tr><td>å…¼å®¹æ€§</td><td>&gt;=ie8</td><td>&gt;=ie10</td></tr><tr><td>å®ç”¨æ€§</td><td>ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€æœåŠ¡ç«¯é…åˆå¤„ç†ã€‚</td><td>éœ€æœåŠ¡ç«¯é…åˆå¤„ç†</td></tr><tr><td>å‘½åç©ºé—´</td><td>åŒä¸€document</td><td>åŒæº</td></tr><tr><td>é”šç‚¹</td><td>å¯¼è‡´é”šç‚¹åŠŸèƒ½å¤±æ•ˆ</td><td>é”šç‚¹åŠŸèƒ½æ­£å¸¸</td></tr></tbody></table><h3 id="å‰ç«¯è·¯ç”±å®è·µ" tabindex="-1"><a class="header-anchor" href="#å‰ç«¯è·¯ç”±å®è·µ" aria-hidden="true">#</a> å‰ç«¯è·¯ç”±å®è·µ</h3><ul><li>vue-router/react-router éƒ½æ˜¯åŸºäºå‰ç«¯è·¯ç”±çš„åŸç†å®ç°çš„~ react-routerå¸¸ç”¨çš„ history æœ‰ä¸‰ç§å½¢å¼: <ul><li>browserHistory: ä½¿ç”¨æµè§ˆå™¨ä¸­çš„History API ç”¨äºå¤„ç† URLã€‚history åœ¨ DOM ä¸Šçš„å®ç°ï¼Œç”¨äºæ”¯æŒ HTML5 history API çš„æµè§ˆå™¨ã€‚</li><li>hashHistory: ä½¿ç”¨ URL ä¸­çš„ hashï¼ˆ#ï¼‰éƒ¨åˆ†å»åˆ›å»ºè·¯ç”±ã€‚history åœ¨ DOM ä¸Šçš„å®ç°ï¼Œç”¨äºæ—§ç‰ˆæµè§ˆå™¨ã€‚</li><li>createMemoryHistory: ä¸ä¼šåœ¨åœ°å€æ è¢«æ“ä½œæˆ–è¯»å–ï¼Œhistory åœ¨å†…å­˜ä¸Šçš„å®ç°ï¼Œç”¨äºæµ‹è¯•æˆ–é DOM ç¯å¢ƒï¼ˆä¾‹å¦‚ React Nativeï¼‰ã€‚</li></ul></li></ul><h2 id="babel-pluginä¸presetåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#babel-pluginä¸presetåŒºåˆ«" aria-hidden="true">#</a> Babel Pluginä¸presetåŒºåˆ«</h2><p>Babelæ˜¯ä»£ç è½¬æ¢å™¨ï¼Œæ¯”å¦‚å°†ES6è½¬æˆES5ï¼Œæˆ–è€…å°†JSXè½¬æˆJSç­‰ã€‚å€ŸåŠ©Babelï¼Œå¼€å‘è€…å¯ä»¥æå‰ç”¨ä¸Šæ–°çš„JSç‰¹æ€§ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>åŸå§‹ä»£ç  --&gt; [Babel Plugin] --&gt; è½¬æ¢åçš„ä»£ç 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin" aria-hidden="true">#</a> Plugin</h3><p>å®ç°Babelä»£ç è½¬æ¢åŠŸèƒ½çš„æ ¸å¿ƒï¼Œå°±æ˜¯Babelæ’ä»¶ï¼ˆpluginï¼‰ã€‚Babelæ’ä»¶ä¸€èˆ¬å°½å¯èƒ½æ‹†æˆå°çš„åŠ›åº¦ï¼Œå¼€å‘è€…å¯ä»¥æŒ‰éœ€å¼•è¿›, æ—¢æé«˜äº†æ€§èƒ½ï¼Œä¹Ÿæé«˜äº†æ‰©å±•æ€§ã€‚æ¯”å¦‚å¯¹ES6è½¬ES5çš„åŠŸèƒ½ï¼ŒBabelå®˜æ–¹æ‹†æˆäº†20+ä¸ªæ’ä»¶ã€‚å¼€å‘è€…æƒ³è¦ä½“éªŒES6çš„ç®­å¤´å‡½æ•°ç‰¹æ€§ï¼Œé‚£åªéœ€è¦å¼•å…¥transform-es2015-arrow-functionsæ’ä»¶å°±å¯ä»¥ï¼Œè€Œä¸æ˜¯åŠ è½½ES6å…¨å®¶æ¡¶ã€‚</p><h3 id="preset" tabindex="-1"><a class="header-anchor" href="#preset" aria-hidden="true">#</a> Preset</h3><p>å¯ä»¥ç®€å•çš„æŠŠBabel Presetè§†ä¸ºBabel Pluginçš„é›†åˆã€‚æƒ³è¦å°†æ‰€æœ‰ES6çš„ä»£ç è½¬æˆES5ï¼Œé€ä¸ªæ’ä»¶å¼•å…¥çš„æ•ˆç‡æ¯”è¾ƒä½ä¸‹, å°±å¯ä»¥é‡‡ç”¨Babel Presetã€‚æ¯”å¦‚babel-preset-es2015å°±åŒ…å«äº†æ‰€æœ‰è·ŸES6è½¬æ¢æœ‰å…³çš„æ’ä»¶ã€‚</p><p>Pluginä¸Presetæ‰§è¡Œé¡ºåº</p><p>å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªPluginå’ŒPresetï¼Œæ­¤æ—¶ï¼Œå®ƒä»¬çš„æ‰§è¡Œé¡ºåºéå¸¸é‡è¦ã€‚</p><ul><li><p>å…ˆæ‰§è¡Œå®Œæ‰€æœ‰Pluginï¼Œå†æ‰§è¡ŒPresetã€‚</p></li><li><p>å¤šä¸ªPluginï¼ŒæŒ‰ç…§å£°æ˜æ¬¡åºé¡ºåºæ‰§è¡Œã€‚</p></li><li><p>å¤šä¸ªPresetï¼ŒæŒ‰ç…§å£°æ˜æ¬¡åºé€†åºæ‰§è¡Œã€‚</p></li><li><p>æ¯”å¦‚.babelrcé…ç½®å¦‚ä¸‹ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„é¡ºåºä¸ºï¼š</p><ul><li>Pluginï¼štransform-react-jsxã€transform-async-to-generator</li><li>Presetï¼šes2016ã€es2015</li></ul></li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;es2016&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;transform-react-jsx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transform-async-to-generator&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç " tabindex="-1"><a class="header-anchor" href="#æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç " aria-hidden="true">#</a> æ€æ ·å¼€å‘å’Œéƒ¨ç½²å‰ç«¯ä»£ç </h2><p>ä¸ºäº†è¿›ä¸€æ­¥æå‡ç½‘ç«™æ€§èƒ½ï¼Œä¼šæŠŠé™æ€èµ„æºå’ŒåŠ¨æ€ç½‘é¡µåˆ†é›†ç¾¤éƒ¨ç½²ï¼Œé™æ€èµ„æºä¼šè¢«éƒ¨ç½²åˆ°CDNèŠ‚ç‚¹ä¸Šï¼Œç½‘é¡µä¸­å¼•ç”¨çš„èµ„æºä¹Ÿä¼šå˜æˆå¯¹åº”çš„éƒ¨ç½²è·¯å¾„ã€‚å½“éœ€è¦æ›´æ–°é™æ€èµ„æºçš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿä¼šæ›´æ–°htmlä¸­çš„å¼•ç”¨ã€‚</p><p>å¦‚æœåŒæ—¶æ”¹äº†é¡µé¢ç»“æ„å’Œæ ·å¼ï¼Œä¹Ÿæ›´æ–°äº†é™æ€èµ„æºå¯¹åº”çš„urlåœ°å€ï¼Œç°åœ¨è¦å‘å¸ƒä»£ç ä¸Šçº¿ï¼Œæ˜¯å…ˆä¸Šçº¿é¡µé¢ï¼Œè¿˜æ˜¯å…ˆä¸Šçº¿é™æ€èµ„æºï¼Ÿ</p><ul><li><p>å…ˆéƒ¨ç½²é¡µé¢ï¼Œå†éƒ¨ç½²èµ„æºï¼šåœ¨äºŒè€…éƒ¨ç½²çš„æ—¶é—´é—´éš”å†…ï¼Œå¦‚æœæœ‰ç”¨æˆ·è®¿é—®é¡µé¢ï¼Œå°±ä¼šåœ¨æ–°çš„é¡µé¢ç»“æ„ä¸­åŠ è½½æ—§çš„èµ„æºï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªæ—§ç‰ˆæœ¬çš„èµ„æºå½“åšæ–°ç‰ˆæœ¬ç¼“å­˜èµ·æ¥ï¼Œå…¶ç»“æœå°±æ˜¯ï¼šç”¨æˆ·è®¿é—®åˆ°äº†ä¸€ä¸ªæ ·å¼é”™ä¹±çš„é¡µé¢ï¼Œé™¤éæ‰‹åŠ¨åˆ·æ–°ï¼Œå¦åˆ™åœ¨èµ„æºç¼“å­˜è¿‡æœŸä¹‹å‰ï¼Œé¡µé¢ä¼šä¸€ç›´æ‰§è¡Œé”™è¯¯ã€‚</p></li><li><p>å…ˆéƒ¨ç½²èµ„æºï¼Œå†éƒ¨ç½²é¡µé¢ï¼šåœ¨éƒ¨ç½²æ—¶é—´é—´éš”ä¹‹å†…ï¼Œæœ‰æ—§ç‰ˆæœ¬èµ„æºæœ¬åœ°ç¼“å­˜çš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œç”±äºè¯·æ±‚çš„é¡µé¢æ˜¯æ—§ç‰ˆæœ¬çš„ï¼Œèµ„æºå¼•ç”¨æ²¡æœ‰æ”¹å˜ï¼Œæµè§ˆå™¨å°†ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹é¡µé¢å±•ç°æ­£å¸¸ï¼›ä½†æ²¡æœ‰æœ¬åœ°ç¼“å­˜æˆ–è€…ç¼“å­˜è¿‡æœŸçš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œå°±ä¼šå‡ºç°æ—§ç‰ˆæœ¬é¡µé¢åŠ è½½æ–°ç‰ˆæœ¬èµ„æºçš„æƒ…å†µï¼Œå¯¼è‡´é¡µé¢æ‰§è¡Œé”™è¯¯ï¼Œä½†å½“é¡µé¢å®Œæˆéƒ¨ç½²ï¼Œè¿™éƒ¨åˆ†ç”¨æˆ·å†æ¬¡è®¿é—®é¡µé¢åˆä¼šæ¢å¤æ­£å¸¸äº†ã€‚</p></li></ul><p>è¿™ä¸ªå¥‡è‘©é—®é¢˜ï¼Œèµ·æºäºèµ„æºçš„ è¦†ç›–å¼å‘å¸ƒï¼Œç”¨å¾…å‘å¸ƒèµ„æºè¦†ç›–å·²å‘å¸ƒèµ„æºï¼Œå°±æœ‰è¿™ç§é—®é¢˜ã€‚</p><p>è§£å†³å®ƒä¹Ÿå¥½åŠï¼Œå°±æ˜¯å®ç°éè¦†ç›–å¼å‘å¸ƒã€‚ç”¨æ–‡ä»¶çš„æ‘˜è¦ä¿¡æ¯æ¥å¯¹èµ„æºæ–‡ä»¶è¿›è¡Œé‡å‘½åï¼ŒæŠŠæ‘˜è¦ä¿¡æ¯æ”¾åˆ°èµ„æºæ–‡ä»¶å‘å¸ƒè·¯å¾„ä¸­ï¼Œè¿™æ ·ï¼Œå†…å®¹æœ‰ä¿®æ”¹çš„èµ„æºå°±å˜æˆäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶å‘å¸ƒåˆ°çº¿ä¸Šï¼Œä¸ä¼šè¦†ç›–å·²æœ‰çš„èµ„æºæ–‡ä»¶ã€‚</p><p>ä¸Šçº¿è¿‡ç¨‹ä¸­ï¼Œå…ˆå…¨é‡éƒ¨ç½²é™æ€èµ„æºï¼Œå†ç°åº¦éƒ¨ç½²é¡µé¢ï¼Œæ•´ä¸ªé—®é¢˜å°±æ¯”è¾ƒå®Œç¾çš„è§£å†³äº†ã€‚</p><ul><li>å¤§å…¬å¸çš„é™æ€èµ„æºä¼˜åŒ–æ–¹æ¡ˆï¼ŒåŸºæœ¬ä¸Šè¦å®ç°è¿™ä¹ˆå‡ ä¸ªä¸œè¥¿ï¼š <ul><li>é…ç½®è¶…é•¿æ—¶é—´çš„æœ¬åœ°ç¼“å­˜ â€”â€” èŠ‚çœå¸¦å®½ï¼Œæé«˜æ€§èƒ½</li><li>é‡‡ç”¨å†…å®¹æ‘˜è¦ä½œä¸ºç¼“å­˜æ›´æ–°ä¾æ® â€”â€” ç²¾ç¡®çš„ç¼“å­˜æ§åˆ¶</li><li>é™æ€èµ„æºCDNéƒ¨ç½² â€”â€” ä¼˜åŒ–ç½‘ç»œè¯·æ±‚</li><li>æ›´æ”¹èµ„æºå‘å¸ƒè·¯å¾„å®ç°éè¦†ç›–å¼å‘å¸ƒ â€”â€” å¹³æ»‘å‡çº§</li></ul></li></ul><h2 id="å¤§æ•°ç›¸åŠ " tabindex="-1"><a class="header-anchor" href="#å¤§æ•°ç›¸åŠ " aria-hidden="true">#</a> å¤§æ•°ç›¸åŠ </h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> maxLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">,</span> b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
   a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>maxLength<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   b <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>maxLength<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> maxLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> f<span class="token punctuation">;</span>
      f <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      sum <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t <span class="token operator">%</span> <span class="token number">10</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      sum <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ" tabindex="-1"><a class="header-anchor" href="#æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ" aria-hidden="true">#</a> æ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å’Œ</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>n2<span class="token punctuation">,</span> sum<span class="token punctuation">]</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">æœ€è¿‘æ›´æ–°æ—¶é—´: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mankueng1011@gmail.com">mankueng</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/docs/mk-data/other_article/18.html" class="" aria-label="ç§»åŠ¨ç«¯å¿…å¤‡çš„H5é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><!--[--><!--]--> ç§»åŠ¨ç«¯å¿…å¤‡çš„H5é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ <!--[--><!--]--></a></span><span class="next"><a href="/docs/mk-data/other_article/20.html" class="" aria-label="å¦‚ä½•ä¼˜é›…å¤„ç†å‰ç«¯å¼‚å¸¸"><!--[--><!--]--> å¦‚ä½•ä¼˜é›…å¤„ç†å‰ç«¯å¼‚å¸¸ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/docs/mk-data/assets/app.5d0cbf7a.js" defer></script>
  </body>
</html>
