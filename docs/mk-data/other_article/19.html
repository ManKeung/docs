<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/docs/mk-data/assets/logo.png"><title>前端基础知识整理汇总 | mkimq</title><meta name="description" content="好记性不如烂笔头！">
    <link rel="modulepreload" href="/docs/mk-data/assets/app.36dd9d4a.js"><link rel="modulepreload" href="/docs/mk-data/assets/19.html.f78044bb.js"><link rel="modulepreload" href="/docs/mk-data/assets/19.html.d552677a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.bd006640.js"><link rel="prefetch" href="/docs/mk-data/assets/reward.html.6186a9cc.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.e22839ae.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.3b708f3f.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.c73c7cd7.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.08e608ea.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.781cbae3.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.caca3e77.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.44f9ab2b.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.fbf5b53c.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.85fe8e91.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.76295bbd.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.15e9259b.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.0002add9.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.d2b25f29.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.c18c11f2.js"><link rel="prefetch" href="/docs/mk-data/assets/bg.html.91dd48e6.js"><link rel="prefetch" href="/docs/mk-data/assets/box.html.436d332a.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.24959421.js"><link rel="prefetch" href="/docs/mk-data/assets/flex.html.aee9acac.js"><link rel="prefetch" href="/docs/mk-data/assets/float.html.bda20343.js"><link rel="prefetch" href="/docs/mk-data/assets/grid.html.251d2221.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.8768c107.js"><link rel="prefetch" href="/docs/mk-data/assets/keyframes.html.edca9f70.js"><link rel="prefetch" href="/docs/mk-data/assets/media.html.276c6cd7.js"><link rel="prefetch" href="/docs/mk-data/assets/next.html.2215e8e0.js"><link rel="prefetch" href="/docs/mk-data/assets/position.html.41ca9851.js"><link rel="prefetch" href="/docs/mk-data/assets/selector.html.6732a613.js"><link rel="prefetch" href="/docs/mk-data/assets/size.html.19981247.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.936c85b4.js"><link rel="prefetch" href="/docs/mk-data/assets/transform.html.402ea536.js"><link rel="prefetch" href="/docs/mk-data/assets/transition.html.fdcb1946.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.6b313c60.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.162b40c1.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.baff64a5.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.61d90897.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.6feb2d26.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.75a69160.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.67d9e561.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.2567d36b.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.25823fee.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.dd0be76e.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.ffa2a6c6.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.8b1b5f27.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.41cb8cf3.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.56c501de.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.df4191e9.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.77160c8e.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.d6d70be9.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.ddb02c97.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.c667cebe.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.a9e7bd7b.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.8516f4bf.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.b9be3fdd.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.a48753dc.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.3894e359.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.482891c7.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.23e03779.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.440e9144.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.f688626a.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.ce26beab.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.3154d4b6.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.127a6472.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.a4e04dfb.js"><link rel="prefetch" href="/docs/mk-data/assets/backEnd.html.cb296bc7.js"><link rel="prefetch" href="/docs/mk-data/assets/db.html.36916969.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.28436604.js"><link rel="prefetch" href="/docs/mk-data/assets/python.html.1b6b869c.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.40e69a2f.js"><link rel="prefetch" href="/docs/mk-data/assets/web.html.de8a9229.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.72fc3db1.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.37437a31.js"><link rel="prefetch" href="/docs/mk-data/assets/form.html.f10be686.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.2093ae20.js"><link rel="prefetch" href="/docs/mk-data/assets/link.html.d515d84e.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.5e238cc3.js"><link rel="prefetch" href="/docs/mk-data/assets/skill.html.87992be6.js"><link rel="prefetch" href="/docs/mk-data/assets/table.html.c3143e31.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.12a96df5.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.49bb87a3.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.3c235703.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.8936d8ad.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.f7292e32.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.f0e539ea.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.92e60ff9.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.9a25065a.js"><link rel="prefetch" href="/docs/mk-data/assets/ajax.html.8c43708f.js"><link rel="prefetch" href="/docs/mk-data/assets/array.html.1f8b282b.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.e0a3bd59.js"><link rel="prefetch" href="/docs/mk-data/assets/baseType.html.7359a5d0.js"><link rel="prefetch" href="/docs/mk-data/assets/canvas.html.d4fcd46e.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.813fe84c.js"><link rel="prefetch" href="/docs/mk-data/assets/dom.html.1e9ccf03.js"><link rel="prefetch" href="/docs/mk-data/assets/event.html.13493def.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.27f2f16b.js"><link rel="prefetch" href="/docs/mk-data/assets/fun.html.8051896f.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.e907ea48.js"><link rel="prefetch" href="/docs/mk-data/assets/map.html.dacb3ebe.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.49119ea1.js"><link rel="prefetch" href="/docs/mk-data/assets/object.html.654f0096.js"><link rel="prefetch" href="/docs/mk-data/assets/promise.html.2708e2ad.js"><link rel="prefetch" href="/docs/mk-data/assets/promiseMy.html.383683b4.js"><link rel="prefetch" href="/docs/mk-data/assets/prototype.html.ca1bbc6d.js"><link rel="prefetch" href="/docs/mk-data/assets/reg.html.6ddabb90.js"><link rel="prefetch" href="/docs/mk-data/assets/scope.html.d8700fb8.js"><link rel="prefetch" href="/docs/mk-data/assets/set.html.a5d8acd5.js"><link rel="prefetch" href="/docs/mk-data/assets/symbol.html.b802d998.js"><link rel="prefetch" href="/docs/mk-data/assets/task.html.af764a91.js"><link rel="prefetch" href="/docs/mk-data/assets/xy.html.7fe7614f.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.4cac3179.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.91894da5.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.e3ad5287.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.7e346aa4.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.90939959.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.da391e06.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.743a354d.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.1c107433.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.f1904bcc.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.dd437674.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.54915b59.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.932d7cb8.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.7898e90e.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.8637e72f.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.e22c91d2.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.1970f3f2.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.c7c6d312.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.83471923.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.1d66e2e3.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.81a43577.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.c9f7b1e0.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.226954c4.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.b5964ac2.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.1ed23174.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.de57a573.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.05a27c69.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.7810f099.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.3f21fc5e.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.3ac47b88.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.5c7f3a94.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.3877db68.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.e04d2b0c.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.0b47b92a.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.38feba15.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.79828aa2.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.b62b7edf.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.7a0dbc6d.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.fb27a6cc.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.e13c7cc4.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.2810474c.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.b62781d7.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.17b8dba2.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.bc93d86d.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.ae1b8805.js"><link rel="prefetch" href="/docs/mk-data/assets/45.html.2c3000a1.js"><link rel="prefetch" href="/docs/mk-data/assets/46.html.63f58448.js"><link rel="prefetch" href="/docs/mk-data/assets/47.html.842e2c28.js"><link rel="prefetch" href="/docs/mk-data/assets/48.html.30a4b20b.js"><link rel="prefetch" href="/docs/mk-data/assets/49.html.114e5946.js"><link rel="prefetch" href="/docs/mk-data/assets/50.html.12834367.js"><link rel="prefetch" href="/docs/mk-data/assets/51.html.727e4c7c.js"><link rel="prefetch" href="/docs/mk-data/assets/52.html.358c633e.js"><link rel="prefetch" href="/docs/mk-data/assets/53.html.81fe2e18.js"><link rel="prefetch" href="/docs/mk-data/assets/54.html.fa61034b.js"><link rel="prefetch" href="/docs/mk-data/assets/55.html.d1cf9f27.js"><link rel="prefetch" href="/docs/mk-data/assets/56.html.86eb72e7.js"><link rel="prefetch" href="/docs/mk-data/assets/57.html.62a822d7.js"><link rel="prefetch" href="/docs/mk-data/assets/58.html.198106ba.js"><link rel="prefetch" href="/docs/mk-data/assets/59.html.97977df5.js"><link rel="prefetch" href="/docs/mk-data/assets/60.html.571f413d.js"><link rel="prefetch" href="/docs/mk-data/assets/61.html.420d077d.js"><link rel="prefetch" href="/docs/mk-data/assets/62.html.f9b814c0.js"><link rel="prefetch" href="/docs/mk-data/assets/63.html.480d4b82.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.5e1fba79.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.6361c322.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.a6f9e1e3.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.1748dd1d.js"><link rel="prefetch" href="/docs/mk-data/assets/service.html.707e91eb.js"><link rel="prefetch" href="/docs/mk-data/assets/system.html.c14f1474.js"><link rel="prefetch" href="/docs/mk-data/assets/tar.html.3f5264a9.js"><link rel="prefetch" href="/docs/mk-data/assets/ubuntu.html.6d49d074.js"><link rel="prefetch" href="/docs/mk-data/assets/users.html.246bc1af.js"><link rel="prefetch" href="/docs/mk-data/assets/vi.html.330ea4d3.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.638e7e61.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.71061c13.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.99817964.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.ad790911.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.e3be1edc.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.c1773098.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.45d1caed.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.4467e366.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.5897c156.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.521b265a.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.eda53b13.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.4bfd07a2.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.286fc413.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.a15f96d9.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.f2c8303b.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.35c544c4.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.d4463baa.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.f0d9aa6a.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.2ca5cedb.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.1b24c1a6.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.ec8729f2.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.c81ca876.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.09ad65bc.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.01e19058.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.dc5b072c.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.d527ea5a.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.f11e11cb.js"><link rel="prefetch" href="/docs/mk-data/assets/express.html.81079e6a.js"><link rel="prefetch" href="/docs/mk-data/assets/fs.html.e930dd23.js"><link rel="prefetch" href="/docs/mk-data/assets/http.html.1f42ba17.js"><link rel="prefetch" href="/docs/mk-data/assets/know.html.57bd28b6.js"><link rel="prefetch" href="/docs/mk-data/assets/router.html.dd91ffe8.js"><link rel="prefetch" href="/docs/mk-data/assets/server.html.24b896c1.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.9a79e75c.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.43c71a3e.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.d1c41455.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.fc3752e7.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.43ce8b58.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.f4b2850a.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.8028d36e.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.7f83c8a3.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.6e4efdcd.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.6f2f0070.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.ebac2bce.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.64ee3a3f.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.755cdd9c.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.845f5da7.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.121d07e9.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.820f1440.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.44c02c1d.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.cd5b6135.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.467223b2.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.747a1ca1.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.817cebd7.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.c6c0c346.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.d398be04.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.fc1437ec.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.25c136a2.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.d662ad8e.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.839445a5.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.6bb39823.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.fe276a3a.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.2b20235a.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.2cf5cb10.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.101d5a08.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.85487d60.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.3092a2fd.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.2a955f26.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.5f65f039.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.cc318f4d.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.b0788836.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.ecb9ac7c.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.bf7d3d50.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.a737f841.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.4dc41a5a.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.97b07851.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.835a08ae.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.b19938f2.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.b5ea1633.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.40f0600f.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.bf539a0c.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.9d63dd02.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.34f3390f.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.98d57b56.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.e78f9d7b.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.6da0c3bd.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.185319df.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.81e9fb1a.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.60272459.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.c60e40d1.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.db034ddc.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.91db08d2.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.41577892.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.f9b86cef.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.9418d0c3.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.5f9b09d9.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.bfb54737.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.7f7ead43.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.d5049755.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.8fe6581b.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.8ed314f7.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.9a8ea96b.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.93421358.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.65e33556.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.52397571.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.fc8affe4.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.9921b9ee.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.2b9c2753.js"><link rel="prefetch" href="/docs/mk-data/assets/build.html.1bf7f1a3.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.d23b9208.js"><link rel="prefetch" href="/docs/mk-data/assets/common.html.39d9fe2b.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.62b99c50.js"><link rel="prefetch" href="/docs/mk-data/assets/design.html.bf863562.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.31fdaf1b.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.232a3137.js"><link rel="prefetch" href="/docs/mk-data/assets/gitrec.html.946315b6.js"><link rel="prefetch" href="/docs/mk-data/assets/icon.html.88c26928.js"><link rel="prefetch" href="/docs/mk-data/assets/lang.html.8fefd975.js"><link rel="prefetch" href="/docs/mk-data/assets/lint.html.69d12f41.js"><link rel="prefetch" href="/docs/mk-data/assets/opendoc.html.f7986348.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.760c1588.js"><link rel="prefetch" href="/docs/mk-data/assets/static.html.d2f26d07.js"><link rel="prefetch" href="/docs/mk-data/assets/template.html.6c923d9c.js"><link rel="prefetch" href="/docs/mk-data/assets/test.html.b03b5f66.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.6fef6f4b.js"><link rel="prefetch" href="/docs/mk-data/assets/ui.html.5bf0a848.js"><link rel="prefetch" href="/docs/mk-data/assets/video.html.170ec1b7.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.066a4bd2.js"><link rel="prefetch" href="/docs/mk-data/assets/doc.html.cc75ec41.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.29231caa.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.939ab040.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.62f69c46.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.92b7a4f5.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.ebddd368.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.adf7c8df.js"><link rel="prefetch" href="/docs/mk-data/assets/illustrate.html.4c4f176c.js"><link rel="prefetch" href="/docs/mk-data/assets/md.html.1a4346ff.js"><link rel="prefetch" href="/docs/mk-data/assets/n.html.33c30d0c.js"><link rel="prefetch" href="/docs/mk-data/assets/npm.html.c10a32bc.js"><link rel="prefetch" href="/docs/mk-data/assets/nvm.html.099f5370.js"><link rel="prefetch" href="/docs/mk-data/assets/pm2.html.cb5a2183.js"><link rel="prefetch" href="/docs/mk-data/assets/pnpm.html.f281465d.js"><link rel="prefetch" href="/docs/mk-data/assets/yarn.html.e761ef3a.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.5cc8e113.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.0d51e0fc.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.8c84d483.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.34371e90.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.0d7d004f.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.7ef66aac.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.bc911b36.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.592d7cab.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.ab922343.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.f14c7c90.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.45ce8dfa.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.a02f3b48.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.9ce60b0e.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.885b79e4.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.1434be19.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.4d6cd2df.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.1449b545.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.44f8c6ac.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.f7dba4f1.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.4b255285.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.6654dc61.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.bae70356.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.399714c3.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.27c411c9.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.17747640.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.8d64c3bd.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.bf41afcf.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.106685e4.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.ca7a0d9a.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.5001adaf.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.c4f29742.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.0f4e2d5a.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.c1a7259a.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.d28e162c.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.cd767da6.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.0de7f009.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.a7112700.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.69ff1043.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.58c83edf.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.08d3a21b.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.3519d55c.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.ceccc04c.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.3eb26f03.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.1588f132.js"><link rel="prefetch" href="/docs/mk-data/assets/45.html.c21b2a70.js"><link rel="prefetch" href="/docs/mk-data/assets/46.html.c8a2e9fe.js"><link rel="prefetch" href="/docs/mk-data/assets/47.html.dab46512.js"><link rel="prefetch" href="/docs/mk-data/assets/48.html.8402bff0.js"><link rel="prefetch" href="/docs/mk-data/assets/49.html.02934094.js"><link rel="prefetch" href="/docs/mk-data/assets/50.html.aba67d75.js"><link rel="prefetch" href="/docs/mk-data/assets/51.html.508e4c17.js"><link rel="prefetch" href="/docs/mk-data/assets/52.html.aeea7b32.js"><link rel="prefetch" href="/docs/mk-data/assets/53.html.adc2c72e.js"><link rel="prefetch" href="/docs/mk-data/assets/54.html.10dbc684.js"><link rel="prefetch" href="/docs/mk-data/assets/55.html.805f943b.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.86d5c3c9.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.c766a794.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.8ceae571.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.9dbe0609.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.1b3b2dcf.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.838b2d48.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.68fda90a.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.c2ab211b.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.98b7af80.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.8b0871b8.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.b7b6639d.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.34ac10b8.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.f4e8c777.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.216debbd.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.247c7bd5.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.4d0ab5c7.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.79d0941d.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.a5136c21.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.e6ef0885.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.93fed7aa.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.00eca71f.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.47212c6f.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.4b60a9e1.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.193bf395.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.82d6a69d.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.cddca512.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.1f1d3ef4.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.a849b808.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.fff29545.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.9b704764.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.cc3e6306.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.9450404b.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.b0149262.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.ded19b38.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.68fae82f.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.4a236121.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.1c17110e.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.749327ea.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.097633e9.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.81317126.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.1289e267.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.40dd1d76.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.a94b1c5d.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.7908874c.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.97a8d8c3.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.edf40b6a.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.364c78e6.js"><link rel="prefetch" href="/docs/mk-data/assets/assert.html.4498966b.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.72970f03.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.aab16b58.js"><link rel="prefetch" href="/docs/mk-data/assets/decorators.html.7dca7237.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.7f7e9983.js"><link rel="prefetch" href="/docs/mk-data/assets/t.html.cb6ce42c.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.73cc2459.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.fd64d9ac.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.81287cf9.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.aa45f90c.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.f12be366.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.997f9e69.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.bd842021.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.c6eb7aa2.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.dcaa31e2.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.6653c523.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.8b8f51aa.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.144a93b0.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.377a3caa.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.408ddf98.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.257ec742.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.5bc5ad8f.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.7b078c39.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.7dc242c8.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.4fce7982.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.ecdb7c3a.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.f480fd6c.js"><link rel="prefetch" href="/docs/mk-data/assets/aggregate.html.7c514831.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.4f4152d4.js"><link rel="prefetch" href="/docs/mk-data/assets/mongoose.html.958638ab.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.5b2c5b35.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.90b28f31.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.9c27018d.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.45a64ef1.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.9d50beeb.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.18ca338a.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.0d99dab7.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.71328da8.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.05e5fd65.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.6b2cad34.js"><link rel="prefetch" href="/docs/mk-data/assets/err.html.539c802e.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.d531362c.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.18983b2f.js"><link rel="prefetch" href="/docs/mk-data/assets/fn.html.49c4403d.js"><link rel="prefetch" href="/docs/mk-data/assets/grammar.html.4c90cd5e.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.7928a6bf.js"><link rel="prefetch" href="/docs/mk-data/assets/dec.html.a5770caa.js"><link rel="prefetch" href="/docs/mk-data/assets/http.html.bd43f2bb.js"><link rel="prefetch" href="/docs/mk-data/assets/re.html.2a051da3.js"><link rel="prefetch" href="/docs/mk-data/assets/tcp.html.628a6a09.js"><link rel="prefetch" href="/docs/mk-data/assets/udp.html.ac6f700f.js"><link rel="prefetch" href="/docs/mk-data/assets/collections.html.fa8c3fbc.js"><link rel="prefetch" href="/docs/mk-data/assets/process.html.23580443.js"><link rel="prefetch" href="/docs/mk-data/assets/thread.html.1d12bd49.js"><link rel="prefetch" href="/docs/mk-data/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.a17dceb1.js"><link rel="prefetch" href="/docs/mk-data/assets/reward.html.95a35fe4.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.2909b3d9.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.f8fd2ffa.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.478f998f.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.a7f3be4c.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.42ffd6c1.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.13111f56.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.51727054.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.548482b2.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.a47b9806.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.013a1a89.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.26e20929.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.dbbdf5ff.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.eeecb290.js"><link rel="prefetch" href="/docs/mk-data/assets/ts.html.d0d7c2de.js"><link rel="prefetch" href="/docs/mk-data/assets/bg.html.a5352d52.js"><link rel="prefetch" href="/docs/mk-data/assets/box.html.138aa405.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.5d4edcc1.js"><link rel="prefetch" href="/docs/mk-data/assets/flex.html.b6387d3e.js"><link rel="prefetch" href="/docs/mk-data/assets/float.html.56ebca33.js"><link rel="prefetch" href="/docs/mk-data/assets/grid.html.cf8bed69.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.62337096.js"><link rel="prefetch" href="/docs/mk-data/assets/keyframes.html.b87beb6d.js"><link rel="prefetch" href="/docs/mk-data/assets/media.html.7b89e839.js"><link rel="prefetch" href="/docs/mk-data/assets/next.html.e9d3d6a1.js"><link rel="prefetch" href="/docs/mk-data/assets/position.html.fa5ba7d9.js"><link rel="prefetch" href="/docs/mk-data/assets/selector.html.a3044f33.js"><link rel="prefetch" href="/docs/mk-data/assets/size.html.c273e3ac.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.ba53b8f5.js"><link rel="prefetch" href="/docs/mk-data/assets/transform.html.be0c88e5.js"><link rel="prefetch" href="/docs/mk-data/assets/transition.html.d1b9859a.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.a30cbeb5.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.c832282c.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.b7d5d46b.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.47c9f749.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.5abb2848.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.6c2ff7c4.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.2efb6d5a.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.664da87c.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.a07ed5c8.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.0191fa98.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.c99671c5.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.ccce7e42.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.8272debd.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.dc9d4336.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.ce5d7d9a.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.59b10f59.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.af47fa9f.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.c91f9b9e.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.a561cddd.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.929e4a41.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.09859d8c.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.6fbcfc8a.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.6a4dcd4a.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.5610960e.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.f4c22085.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.e3778bc2.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.e1ea9aa0.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.c7e49289.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.e720c8bf.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.5b71571e.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.979069ba.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.9ec4f777.js"><link rel="prefetch" href="/docs/mk-data/assets/backEnd.html.c347c152.js"><link rel="prefetch" href="/docs/mk-data/assets/db.html.45c3fda1.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.1587c4f6.js"><link rel="prefetch" href="/docs/mk-data/assets/python.html.3aeb2b87.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.47a6043e.js"><link rel="prefetch" href="/docs/mk-data/assets/web.html.842961da.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.97967f5a.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.1b6ae45d.js"><link rel="prefetch" href="/docs/mk-data/assets/form.html.4acd0757.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.a03441e9.js"><link rel="prefetch" href="/docs/mk-data/assets/link.html.0bf79a6b.js"><link rel="prefetch" href="/docs/mk-data/assets/other.html.4419c2e5.js"><link rel="prefetch" href="/docs/mk-data/assets/skill.html.c390aa31.js"><link rel="prefetch" href="/docs/mk-data/assets/table.html.1ff3cf4e.js"><link rel="prefetch" href="/docs/mk-data/assets/text.html.47c89d47.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.752f2bb4.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.89e5b527.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.28e81fc9.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.c88cece1.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.5b651fe8.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.3d5fa595.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.90b7de8f.js"><link rel="prefetch" href="/docs/mk-data/assets/ajax.html.314d05d6.js"><link rel="prefetch" href="/docs/mk-data/assets/array.html.c54d36bf.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.7e2102f9.js"><link rel="prefetch" href="/docs/mk-data/assets/baseType.html.a5ec094e.js"><link rel="prefetch" href="/docs/mk-data/assets/canvas.html.717515ea.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.5cbe04eb.js"><link rel="prefetch" href="/docs/mk-data/assets/dom.html.9732434e.js"><link rel="prefetch" href="/docs/mk-data/assets/event.html.bb5df405.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.a94256e4.js"><link rel="prefetch" href="/docs/mk-data/assets/fun.html.5f463eac.js"><link rel="prefetch" href="/docs/mk-data/assets/hook.html.207326d5.js"><link rel="prefetch" href="/docs/mk-data/assets/map.html.541a24be.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.b7e1de01.js"><link rel="prefetch" href="/docs/mk-data/assets/object.html.2069940a.js"><link rel="prefetch" href="/docs/mk-data/assets/promise.html.93813541.js"><link rel="prefetch" href="/docs/mk-data/assets/promiseMy.html.3ad924f2.js"><link rel="prefetch" href="/docs/mk-data/assets/prototype.html.a1960774.js"><link rel="prefetch" href="/docs/mk-data/assets/reg.html.2def3ca3.js"><link rel="prefetch" href="/docs/mk-data/assets/scope.html.5ed6df2f.js"><link rel="prefetch" href="/docs/mk-data/assets/set.html.277b77f2.js"><link rel="prefetch" href="/docs/mk-data/assets/symbol.html.00d38f25.js"><link rel="prefetch" href="/docs/mk-data/assets/task.html.3d1e35b3.js"><link rel="prefetch" href="/docs/mk-data/assets/xy.html.bb30a017.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.c1c82f78.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.74435e7a.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.f5ffeeb9.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.dc4b3dde.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.1d57ac4e.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.6f11f9cc.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.b1802c4e.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.d41bb8fe.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.8304743e.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.35fe3eb6.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.51e0f011.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.4d57fce8.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.3e088323.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.f8796aec.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.70ed1a6f.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.5f32b925.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.fe5fec18.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.8e5596dc.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.7d06a0df.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.de60a860.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.5d1de1e3.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.81b84f88.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.ce886246.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.3d96f966.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.f122bb74.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.4dda8559.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.67fe1bbe.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.3971b266.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.7eccfd23.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.6f2b7ca8.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.14d96452.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.7c82eb76.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.bac45ded.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.7f1dbd1c.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.972c1172.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.7dd8b36e.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.479670b8.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.685e914b.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.f7845cf1.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.4b9a16cd.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.f4a15e99.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.3078b846.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.e79b3899.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.403d8ca0.js"><link rel="prefetch" href="/docs/mk-data/assets/45.html.59a3d893.js"><link rel="prefetch" href="/docs/mk-data/assets/46.html.b04fd295.js"><link rel="prefetch" href="/docs/mk-data/assets/47.html.e105eb2d.js"><link rel="prefetch" href="/docs/mk-data/assets/48.html.188524d6.js"><link rel="prefetch" href="/docs/mk-data/assets/49.html.f9a898c1.js"><link rel="prefetch" href="/docs/mk-data/assets/50.html.6aecd879.js"><link rel="prefetch" href="/docs/mk-data/assets/51.html.95a7f85f.js"><link rel="prefetch" href="/docs/mk-data/assets/52.html.28f8ebca.js"><link rel="prefetch" href="/docs/mk-data/assets/53.html.a4e258a0.js"><link rel="prefetch" href="/docs/mk-data/assets/54.html.c163a24f.js"><link rel="prefetch" href="/docs/mk-data/assets/55.html.63306a63.js"><link rel="prefetch" href="/docs/mk-data/assets/56.html.9f2983d5.js"><link rel="prefetch" href="/docs/mk-data/assets/57.html.178d950e.js"><link rel="prefetch" href="/docs/mk-data/assets/58.html.a9734dcf.js"><link rel="prefetch" href="/docs/mk-data/assets/59.html.88c6d973.js"><link rel="prefetch" href="/docs/mk-data/assets/60.html.4744e2bd.js"><link rel="prefetch" href="/docs/mk-data/assets/61.html.1773cf1f.js"><link rel="prefetch" href="/docs/mk-data/assets/62.html.d2cae740.js"><link rel="prefetch" href="/docs/mk-data/assets/63.html.f9b0d51e.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.8fe04a19.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.ceae103e.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.c1ab4d2f.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.1525056e.js"><link rel="prefetch" href="/docs/mk-data/assets/service.html.c97c8d36.js"><link rel="prefetch" href="/docs/mk-data/assets/system.html.d45fded3.js"><link rel="prefetch" href="/docs/mk-data/assets/tar.html.c5af4ac6.js"><link rel="prefetch" href="/docs/mk-data/assets/ubuntu.html.8c5560aa.js"><link rel="prefetch" href="/docs/mk-data/assets/users.html.c6a41576.js"><link rel="prefetch" href="/docs/mk-data/assets/vi.html.94f24d57.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.b73e717b.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.6f7568ba.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.032b8638.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.02291a16.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.c70eae8f.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.9ac64364.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.82a23bca.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.f3ef544e.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.b2e1beb8.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.df4cbc43.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.6c9cc7e2.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.58cdef6e.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.55c33046.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.fa7e1264.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.a4b3954f.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.10719c89.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.024b320f.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.23038784.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.58b1b64c.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.94a4499a.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.9cb19422.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.46e38809.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.209a6c4e.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.35bd5078.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.69dd7f9d.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.23f2cf55.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.4a510215.js"><link rel="prefetch" href="/docs/mk-data/assets/express.html.23e88561.js"><link rel="prefetch" href="/docs/mk-data/assets/fs.html.68f86456.js"><link rel="prefetch" href="/docs/mk-data/assets/http.html.62147191.js"><link rel="prefetch" href="/docs/mk-data/assets/know.html.9325c869.js"><link rel="prefetch" href="/docs/mk-data/assets/router.html.fc61ab96.js"><link rel="prefetch" href="/docs/mk-data/assets/server.html.4c5aa3ff.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.c9eea4b2.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.69802767.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.fbd575ae.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.65e377bd.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.68c3bcdc.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.a38d6d51.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.baae5028.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.87c5909f.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.4f993a8c.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.f78049cb.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.628fffe1.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.d6049ee9.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.d0e75c05.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.c31e4e9d.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.443e9115.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.61e847ff.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.008c0417.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.758fcb5c.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.6ac0bd2e.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.5e61ba28.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.0317b915.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.03eccb07.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.2e89b53c.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.79ab602b.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.feb04b08.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.8e3ec5d5.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.2998de92.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.b931bfc3.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.f1eb6ec7.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.3c899fda.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.54e7c0ab.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.0567047c.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.18091334.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.b4dfeb01.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.f5411d29.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.15150d3a.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.7e4c7165.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.77f97ac5.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.552d2f66.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.ee8745dc.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.226428db.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.7c55d8d3.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.520ddcc9.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.7da1eea6.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.a689b44e.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.092bc257.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.731b4d46.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.db71e282.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.6554f7f0.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.262472fe.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.63662b65.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.274503f1.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.7712fa7c.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.cde86c58.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.73a9c292.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.f8dbae83.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.e49c0194.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.7bbab518.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.5c6a5035.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.b9989654.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.f1298c7d.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.c587c80e.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.dd89c49a.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.a7edb103.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.327fafcc.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.191c658d.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.185595ec.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.1a516f02.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.386f8205.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.9014f63f.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.e1e4dd77.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.732660fd.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.b7c6aa47.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.43dbedd7.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.ee905aa4.js"><link rel="prefetch" href="/docs/mk-data/assets/build.html.3a779dfe.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.bd76dbd6.js"><link rel="prefetch" href="/docs/mk-data/assets/common.html.48bd67ce.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.7cb7c935.js"><link rel="prefetch" href="/docs/mk-data/assets/design.html.d2b80e88.js"><link rel="prefetch" href="/docs/mk-data/assets/frame.html.00305605.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.017b24ea.js"><link rel="prefetch" href="/docs/mk-data/assets/gitrec.html.4d050165.js"><link rel="prefetch" href="/docs/mk-data/assets/icon.html.3b229f93.js"><link rel="prefetch" href="/docs/mk-data/assets/lang.html.d82cd2ea.js"><link rel="prefetch" href="/docs/mk-data/assets/lint.html.1aadfb37.js"><link rel="prefetch" href="/docs/mk-data/assets/opendoc.html.ad2a0448.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.5377a028.js"><link rel="prefetch" href="/docs/mk-data/assets/static.html.2f8fdaa8.js"><link rel="prefetch" href="/docs/mk-data/assets/template.html.b2bd75ec.js"><link rel="prefetch" href="/docs/mk-data/assets/test.html.37ab5a4f.js"><link rel="prefetch" href="/docs/mk-data/assets/tools.html.8e4e9675.js"><link rel="prefetch" href="/docs/mk-data/assets/ui.html.5344bbcf.js"><link rel="prefetch" href="/docs/mk-data/assets/video.html.1d019597.js"><link rel="prefetch" href="/docs/mk-data/assets/css.html.450d463e.js"><link rel="prefetch" href="/docs/mk-data/assets/doc.html.3f666667.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.0801414f.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.95ebd6dc.js"><link rel="prefetch" href="/docs/mk-data/assets/html.html.2e2faddb.js"><link rel="prefetch" href="/docs/mk-data/assets/js.html.ac8b56b8.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.afefc504.js"><link rel="prefetch" href="/docs/mk-data/assets/git.html.a7cf404d.js"><link rel="prefetch" href="/docs/mk-data/assets/illustrate.html.6a44e83c.js"><link rel="prefetch" href="/docs/mk-data/assets/md.html.697c566d.js"><link rel="prefetch" href="/docs/mk-data/assets/n.html.21d225a8.js"><link rel="prefetch" href="/docs/mk-data/assets/npm.html.de9ded02.js"><link rel="prefetch" href="/docs/mk-data/assets/nvm.html.5d72a3b2.js"><link rel="prefetch" href="/docs/mk-data/assets/pm2.html.316b5280.js"><link rel="prefetch" href="/docs/mk-data/assets/pnpm.html.1d474f91.js"><link rel="prefetch" href="/docs/mk-data/assets/yarn.html.7e031603.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.b6b68438.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.7fbbd977.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.7e6f1897.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.101965b9.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.6ac5d565.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.31e4f8c2.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.84ec250c.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.29897b93.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.410624c6.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.098eebab.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.0e853504.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.65cf2041.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.2841ef25.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.7ec9afd9.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.25835772.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.9b1c1325.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.d5eadf08.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.e0e63319.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.9774df0a.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.04215d98.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.d4e2ba97.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.589694d9.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.552932db.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.2d1a460d.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.c3b688b0.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.ac51d751.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.4c7798a7.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.1eb9a31f.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.2447bb8b.js"><link rel="prefetch" href="/docs/mk-data/assets/30.html.c520b53c.js"><link rel="prefetch" href="/docs/mk-data/assets/31.html.1627344b.js"><link rel="prefetch" href="/docs/mk-data/assets/32.html.ef6f98d7.js"><link rel="prefetch" href="/docs/mk-data/assets/33.html.36b34203.js"><link rel="prefetch" href="/docs/mk-data/assets/34.html.525d137a.js"><link rel="prefetch" href="/docs/mk-data/assets/35.html.9cc72f69.js"><link rel="prefetch" href="/docs/mk-data/assets/36.html.fb49da1d.js"><link rel="prefetch" href="/docs/mk-data/assets/37.html.0ff0bda6.js"><link rel="prefetch" href="/docs/mk-data/assets/38.html.dfae064d.js"><link rel="prefetch" href="/docs/mk-data/assets/39.html.30a88d03.js"><link rel="prefetch" href="/docs/mk-data/assets/40.html.553c17c8.js"><link rel="prefetch" href="/docs/mk-data/assets/41.html.60013bcf.js"><link rel="prefetch" href="/docs/mk-data/assets/42.html.1bd121fa.js"><link rel="prefetch" href="/docs/mk-data/assets/43.html.e681f47c.js"><link rel="prefetch" href="/docs/mk-data/assets/44.html.5a6435e8.js"><link rel="prefetch" href="/docs/mk-data/assets/45.html.b78d0ec1.js"><link rel="prefetch" href="/docs/mk-data/assets/46.html.f6f9bb0d.js"><link rel="prefetch" href="/docs/mk-data/assets/47.html.076838b6.js"><link rel="prefetch" href="/docs/mk-data/assets/48.html.8e8f93a7.js"><link rel="prefetch" href="/docs/mk-data/assets/49.html.6a4cb3a7.js"><link rel="prefetch" href="/docs/mk-data/assets/50.html.e2a5c27d.js"><link rel="prefetch" href="/docs/mk-data/assets/51.html.72695df0.js"><link rel="prefetch" href="/docs/mk-data/assets/52.html.c0dbda2a.js"><link rel="prefetch" href="/docs/mk-data/assets/53.html.c3cd4290.js"><link rel="prefetch" href="/docs/mk-data/assets/54.html.cb273209.js"><link rel="prefetch" href="/docs/mk-data/assets/55.html.f669cf93.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.780868ed.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.ffefee5b.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.c7edf49f.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.41d0fd80.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.7d990cbe.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.300b9f0f.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.0c349e93.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.13778467.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.fe8110ce.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.8e10e212.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.4eedab20.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.ad3ede75.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.47f0d176.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.9342d01f.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.4189acd0.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.90dfd51b.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.c422eba9.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.71673c72.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.70c925a5.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.9d11e026.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.71044980.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.8932420c.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.cbbc79af.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.a716a65a.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.c85212c8.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.48e33ddc.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.a6452b61.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.9fc3d15f.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.fba816b8.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.a0f3f36f.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.d6f2b8cb.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.3f751d52.js"><link rel="prefetch" href="/docs/mk-data/assets/15.html.92c85d34.js"><link rel="prefetch" href="/docs/mk-data/assets/16.html.ceecd95f.js"><link rel="prefetch" href="/docs/mk-data/assets/17.html.83753418.js"><link rel="prefetch" href="/docs/mk-data/assets/18.html.d245467c.js"><link rel="prefetch" href="/docs/mk-data/assets/19.html.c975ead0.js"><link rel="prefetch" href="/docs/mk-data/assets/20.html.beb4827b.js"><link rel="prefetch" href="/docs/mk-data/assets/21.html.d8a66dc8.js"><link rel="prefetch" href="/docs/mk-data/assets/22.html.fcee6a4e.js"><link rel="prefetch" href="/docs/mk-data/assets/23.html.d75166c2.js"><link rel="prefetch" href="/docs/mk-data/assets/24.html.c834d44f.js"><link rel="prefetch" href="/docs/mk-data/assets/25.html.1aaccf8d.js"><link rel="prefetch" href="/docs/mk-data/assets/26.html.545e5066.js"><link rel="prefetch" href="/docs/mk-data/assets/27.html.7a21000c.js"><link rel="prefetch" href="/docs/mk-data/assets/28.html.638eee47.js"><link rel="prefetch" href="/docs/mk-data/assets/29.html.a7f8284f.js"><link rel="prefetch" href="/docs/mk-data/assets/assert.html.93822015.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.d3c95e4e.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.9ce891b6.js"><link rel="prefetch" href="/docs/mk-data/assets/decorators.html.f0af453b.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.2f5455d7.js"><link rel="prefetch" href="/docs/mk-data/assets/t.html.b6a0c93e.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.aea60b8a.js"><link rel="prefetch" href="/docs/mk-data/assets/02.html.bd9ab0bd.js"><link rel="prefetch" href="/docs/mk-data/assets/03.html.049b3972.js"><link rel="prefetch" href="/docs/mk-data/assets/04.html.b119381e.js"><link rel="prefetch" href="/docs/mk-data/assets/05.html.758dad20.js"><link rel="prefetch" href="/docs/mk-data/assets/06.html.0f6f1881.js"><link rel="prefetch" href="/docs/mk-data/assets/07.html.034a07d4.js"><link rel="prefetch" href="/docs/mk-data/assets/08.html.0682a7e1.js"><link rel="prefetch" href="/docs/mk-data/assets/09.html.e81980ac.js"><link rel="prefetch" href="/docs/mk-data/assets/10.html.108f79ab.js"><link rel="prefetch" href="/docs/mk-data/assets/11.html.8e969b3c.js"><link rel="prefetch" href="/docs/mk-data/assets/12.html.e7d51061.js"><link rel="prefetch" href="/docs/mk-data/assets/13.html.e2dd621a.js"><link rel="prefetch" href="/docs/mk-data/assets/14.html.1ecb0ec0.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.19bcb9bf.js"><link rel="prefetch" href="/docs/mk-data/assets/01.html.444aa94a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.1bd1b5b8.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.51598a05.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.1f4771ef.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.3c9b16b3.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.259926f5.js"><link rel="prefetch" href="/docs/mk-data/assets/aggregate.html.7e29ee0a.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.2accea6c.js"><link rel="prefetch" href="/docs/mk-data/assets/mongoose.html.d4991f0d.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.4cd7e1d2.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.1dbeaef3.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.901511fe.js"><link rel="prefetch" href="/docs/mk-data/assets/install.html.b73fc6ff.js"><link rel="prefetch" href="/docs/mk-data/assets/node.html.af30593a.js"><link rel="prefetch" href="/docs/mk-data/assets/index.html.149930da.js"><link rel="prefetch" href="/docs/mk-data/assets/shell.html.f015c2c2.js"><link rel="prefetch" href="/docs/mk-data/assets/base.html.f779d449.js"><link rel="prefetch" href="/docs/mk-data/assets/class.html.c777bbb5.js"><link rel="prefetch" href="/docs/mk-data/assets/data.html.e31f891f.js"><link rel="prefetch" href="/docs/mk-data/assets/err.html.b78abf3d.js"><link rel="prefetch" href="/docs/mk-data/assets/file.html.451950cc.js"><link rel="prefetch" href="/docs/mk-data/assets/flow.html.17e619bc.js"><link rel="prefetch" href="/docs/mk-data/assets/fn.html.8a4e0a1f.js"><link rel="prefetch" href="/docs/mk-data/assets/grammar.html.0d88357f.js"><link rel="prefetch" href="/docs/mk-data/assets/module.html.bf2defa4.js"><link rel="prefetch" href="/docs/mk-data/assets/dec.html.5db70a08.js"><link rel="prefetch" href="/docs/mk-data/assets/http.html.b1acf373.js"><link rel="prefetch" href="/docs/mk-data/assets/re.html.1f504169.js"><link rel="prefetch" href="/docs/mk-data/assets/tcp.html.ca9fab57.js"><link rel="prefetch" href="/docs/mk-data/assets/udp.html.a41d86d0.js"><link rel="prefetch" href="/docs/mk-data/assets/collections.html.39fee48b.js"><link rel="prefetch" href="/docs/mk-data/assets/process.html.359910db.js"><link rel="prefetch" href="/docs/mk-data/assets/thread.html.767e782c.js"><link rel="prefetch" href="/docs/mk-data/assets/404.html.8d0574f9.js"><link rel="prefetch" href="/docs/mk-data/assets/CodeOpen.bc2dba60.js"><link rel="prefetch" href="/docs/mk-data/assets/CodeType.2b7b6dab.js"><link rel="prefetch" href="/docs/mk-data/assets/Site.a13e779b.js"><link rel="prefetch" href="/docs/mk-data/assets/Tip.4f5ffdce.js">
    <link rel="stylesheet" href="/docs/mk-data/assets/style.07bd37ba.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/docs/mk-data/" class=""><!----><span class="site-name can-hide">mkimq</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/docs/mk-data/standard/" class="" aria-label="🫰规范"><!--[--><!--]--> 🫰规范 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="📝知识"><span class="title">📝知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="📝知识"><span class="title">📝知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/web.html" class="" aria-label="🔖前端"><!--[--><!--]--> 🔖前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/backEnd.html" class="" aria-label="🔖后端"><!--[--><!--]--> 🔖后端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/db.html" class="" aria-label="🔖数据库"><!--[--><!--]--> 🔖数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/python.html" class="" aria-label="🔖python"><!--[--><!--]--> 🔖python <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="📄文章"><span class="title">📄文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="📄文章"><span class="title">📄文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/html.html" class="" aria-label="🔖html"><!--[--><!--]--> 🔖html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/css.html" class="" aria-label="🔖css"><!--[--><!--]--> 🔖css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/js.html" class="" aria-label="🔖js"><!--[--><!--]--> 🔖js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/ts.html" class="" aria-label="🔖ts"><!--[--><!--]--> 🔖ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/node.html" class="" aria-label="🔖node"><!--[--><!--]--> 🔖node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/other.html" class="" aria-label="🔖其他"><!--[--><!--]--> 🔖其他 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🍱面试"><span class="title">🍱面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🍱面试"><span class="title">🍱面试</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/html.html" class="" aria-label="🔖html"><!--[--><!--]--> 🔖html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/css.html" class="" aria-label="🔖css"><!--[--><!--]--> 🔖css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/js.html" class="" aria-label="🔖js"><!--[--><!--]--> 🔖js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/ts.html" class="" aria-label="🔖ts"><!--[--><!--]--> 🔖ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/node.html" class="" aria-label="🔖node"><!--[--><!--]--> 🔖node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/other.html" class="" aria-label="🔖其他"><!--[--><!--]--> 🔖其他 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/docs/mk-data/site/" class="" aria-label="🔍网站"><!--[--><!--]--> 🔍网站 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/mk-data/reward" class="" aria-label="🙈打赏"><!--[--><!--]--> 🙈打赏 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索文档关键字" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/docs/mk-data/standard/" class="" aria-label="🫰规范"><!--[--><!--]--> 🫰规范 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="📝知识"><span class="title">📝知识</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="📝知识"><span class="title">📝知识</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/web.html" class="" aria-label="🔖前端"><!--[--><!--]--> 🔖前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/backEnd.html" class="" aria-label="🔖后端"><!--[--><!--]--> 🔖后端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/db.html" class="" aria-label="🔖数据库"><!--[--><!--]--> 🔖数据库 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/dev/python.html" class="" aria-label="🔖python"><!--[--><!--]--> 🔖python <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="📄文章"><span class="title">📄文章</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="📄文章"><span class="title">📄文章</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/html.html" class="" aria-label="🔖html"><!--[--><!--]--> 🔖html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/css.html" class="" aria-label="🔖css"><!--[--><!--]--> 🔖css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/js.html" class="" aria-label="🔖js"><!--[--><!--]--> 🔖js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/ts.html" class="" aria-label="🔖ts"><!--[--><!--]--> 🔖ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/node.html" class="" aria-label="🔖node"><!--[--><!--]--> 🔖node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/article/other.html" class="" aria-label="🔖其他"><!--[--><!--]--> 🔖其他 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🍱面试"><span class="title">🍱面试</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🍱面试"><span class="title">🍱面试</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/html.html" class="" aria-label="🔖html"><!--[--><!--]--> 🔖html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/css.html" class="" aria-label="🔖css"><!--[--><!--]--> 🔖css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/js.html" class="" aria-label="🔖js"><!--[--><!--]--> 🔖js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/ts.html" class="" aria-label="🔖ts"><!--[--><!--]--> 🔖ts <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/node.html" class="" aria-label="🔖node"><!--[--><!--]--> 🔖node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/tools.html" class="" aria-label="🔖工具"><!--[--><!--]--> 🔖工具 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/docs/mk-data/case/other.html" class="" aria-label="🔖其他"><!--[--><!--]--> 🔖其他 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/docs/mk-data/site/" class="" aria-label="🔍网站"><!--[--><!--]--> 🔍网站 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/docs/mk-data/reward" class="" aria-label="🙈打赏"><!--[--><!--]--> 🙈打赏 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">html <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/html.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/html_article/01.html" class="sidebar-item" aria-label="你可能从未听说过的HTML功能"><!--[--><!--]--> 你可能从未听说过的HTML功能 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/html_article/02.html" class="sidebar-item" aria-label="Web 前端开发工程师都应该掌握的强大HTML 属性"><!--[--><!--]--> Web 前端开发工程师都应该掌握的强大HTML 属性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">css <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/css.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/01.html" class="sidebar-item" aria-label="4个很牛逼的即将推出的CSS特性"><!--[--><!--]--> 4个很牛逼的即将推出的CSS特性 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/02.html" class="sidebar-item" aria-label="CSS 实用技巧"><!--[--><!--]--> CSS 实用技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/03.html" class="sidebar-item" aria-label="SCSS 中这些技巧，你可能还不知道！"><!--[--><!--]--> SCSS 中这些技巧，你可能还不知道！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/04.html" class="sidebar-item" aria-label="css提效技巧"><!--[--><!--]--> css提效技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/05.html" class="sidebar-item" aria-label="loading"><!--[--><!--]--> loading <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/06.html" class="sidebar-item" aria-label="CSS 文本下划线的实现案例"><!--[--><!--]--> CSS 文本下划线的实现案例 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/07.html" class="sidebar-item" aria-label="适合初学者练习HTML和CSS的案例"><!--[--><!--]--> 适合初学者练习HTML和CSS的案例 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/08.html" class="sidebar-item" aria-label="仅用 CSS 就能实现的有趣的功能"><!--[--><!--]--> 仅用 CSS 就能实现的有趣的功能 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/09.html" class="sidebar-item" aria-label="网页动画的十二原则"><!--[--><!--]--> 网页动画的十二原则 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/10.html" class="sidebar-item" aria-label="1px 问题"><!--[--><!--]--> 1px 问题 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/11.html" class="sidebar-item" aria-label="响应式布局"><!--[--><!--]--> 响应式布局 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/12.html" class="sidebar-item" aria-label="可能是最全最易记的CSS选择器分类大法"><!--[--><!--]--> 可能是最全最易记的CSS选择器分类大法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/13.html" class="sidebar-item" aria-label="纯CSS一分钟让网站拥有暗黑模式切换功能"><!--[--><!--]--> 纯CSS一分钟让网站拥有暗黑模式切换功能 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/14.html" class="sidebar-item" aria-label="深入理解CSS background-blend-mode的作用机制"><!--[--><!--]--> 深入理解CSS background-blend-mode的作用机制 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/15.html" class="sidebar-item" aria-label="别整一坨 CSS 代码了，试试这几个实用函数"><!--[--><!--]--> 别整一坨 CSS 代码了，试试这几个实用函数 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/16.html" class="sidebar-item" aria-label="前端主题切换方案"><!--[--><!--]--> 前端主题切换方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/17.html" class="sidebar-item" aria-label="CSS mask遮罩层详解"><!--[--><!--]--> CSS mask遮罩层详解 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/18.html" class="sidebar-item" aria-label="CSS创意作品"><!--[--><!--]--> CSS创意作品 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/19.html" class="sidebar-item" aria-label="用 CSS 新特性直接实现虚拟列表"><!--[--><!--]--> 用 CSS 新特性直接实现虚拟列表 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/20.html" class="sidebar-item" aria-label="由 transform 被占用引发的思考"><!--[--><!--]--> 由 transform 被占用引发的思考 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/21.html" class="sidebar-item" aria-label="还在用 JS 做节流吗？CSS 也可以防止按钮重复点击"><!--[--><!--]--> 还在用 JS 做节流吗？CSS 也可以防止按钮重复点击 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/22.html" class="sidebar-item" aria-label="15 个鲜为人知的 CSS 技巧"><!--[--><!--]--> 15 个鲜为人知的 CSS 技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/23.html" class="sidebar-item" aria-label="2023年CSS自适应正方形必须拿下"><!--[--><!--]--> 2023年CSS自适应正方形必须拿下 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/24.html" class="sidebar-item" aria-label="深入了解CSS颜色混合函数color-mix"><!--[--><!--]--> 深入了解CSS颜色混合函数color-mix <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/css_article/25.html" class="sidebar-item" aria-label="sass有哪些用法"><!--[--><!--]--> sass有哪些用法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">js <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/js.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/01.html" class="sidebar-item" aria-label="封装 axios 拦截器实现用户无感刷新 access_token"><!--[--><!--]--> 封装 axios 拦截器实现用户无感刷新 access_token <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/02.html" class="sidebar-item" aria-label="使用JavaScript阻止屏幕进入睡眠状态"><!--[--><!--]--> 使用JavaScript阻止屏幕进入睡眠状态 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/03.html" class="sidebar-item" aria-label="使用JS完成一个LRU缓存？"><!--[--><!--]--> 使用JS完成一个LRU缓存？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/04.html" class="sidebar-item" aria-label="js代码片段"><!--[--><!--]--> js代码片段 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/05.html" class="sidebar-item" aria-label="Reduce技巧"><!--[--><!--]--> Reduce技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/06.html" class="sidebar-item" aria-label="有用的正则"><!--[--><!--]--> 有用的正则 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/07.html" class="sidebar-item" aria-label="JavaScript 自定义事件"><!--[--><!--]--> JavaScript 自定义事件 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/08.html" class="sidebar-item" aria-label="立即执行函数"><!--[--><!--]--> 立即执行函数 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/09.html" class="sidebar-item" aria-label="代码优化技巧"><!--[--><!--]--> 代码优化技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/10.html" class="sidebar-item" aria-label="JavaScript 中“this”可以指向的 8 个不同的地方"><!--[--><!--]--> JavaScript 中“this”可以指向的 8 个不同的地方 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/11.html" class="sidebar-item" aria-label="函数递归优化"><!--[--><!--]--> 函数递归优化 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/12.html" class="sidebar-item" aria-label="5 种 for 循环一次彻底搞懂"><!--[--><!--]--> 5 种 for 循环一次彻底搞懂 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/13.html" class="sidebar-item" aria-label="4种Javascript类型检测的方式"><!--[--><!--]--> 4种Javascript类型检测的方式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/14.html" class="sidebar-item" aria-label="用JS也能轻松实现一个录音、录像、录屏工具库"><!--[--><!--]--> 用JS也能轻松实现一个录音、录像、录屏工具库 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/15.html" class="sidebar-item" aria-label="Async是如何被 JavaScript 实现的"><!--[--><!--]--> Async是如何被 JavaScript 实现的 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/16.html" class="sidebar-item" aria-label="可能有用的奇怪 JavaScript 类"><!--[--><!--]--> 可能有用的奇怪 JavaScript 类 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/17.html" class="sidebar-item" aria-label="实现单词首字母大写的方法总汇"><!--[--><!--]--> 实现单词首字母大写的方法总汇 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/18.html" class="sidebar-item" aria-label="JavaScript文字转语音"><!--[--><!--]--> JavaScript文字转语音 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/19.html" class="sidebar-item" aria-label="正则表达式的整理"><!--[--><!--]--> 正则表达式的整理 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/20.html" class="sidebar-item" aria-label="JavaScript高阶函数的好处"><!--[--><!--]--> JavaScript高阶函数的好处 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/21.html" class="sidebar-item" aria-label="了解一下 JavaScript 的 new Function"><!--[--><!--]--> 了解一下 JavaScript 的 new Function <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/22.html" class="sidebar-item" aria-label="函数式编程"><!--[--><!--]--> 函数式编程 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/23.html" class="sidebar-item" aria-label="ES6 迭代器和生成器"><!--[--><!--]--> ES6 迭代器和生成器 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/24.html" class="sidebar-item" aria-label="使用ES6中Class实现手写Promise"><!--[--><!--]--> 使用ES6中Class实现手写Promise <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/25.html" class="sidebar-item" aria-label="JavaScript中常用的排序方法"><!--[--><!--]--> JavaScript中常用的排序方法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/26.html" class="sidebar-item" aria-label="原型和原型链"><!--[--><!--]--> 原型和原型链 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/27.html" class="sidebar-item" aria-label="JavaScript数组拍平/扁平化的方法总汇"><!--[--><!--]--> JavaScript数组拍平/扁平化的方法总汇 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/28.html" class="sidebar-item" aria-label="最常用的 JavaScript 实用程序函数"><!--[--><!--]--> 最常用的 JavaScript 实用程序函数 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/29.html" class="sidebar-item" aria-label="强大JavaScript运算符"><!--[--><!--]--> 强大JavaScript运算符 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/30.html" class="sidebar-item" aria-label="如何禁止JavaScript对象重写？"><!--[--><!--]--> 如何禁止JavaScript对象重写？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/31.html" class="sidebar-item" aria-label="10种JavaScript代码复用模式"><!--[--><!--]--> 10种JavaScript代码复用模式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/32.html" class="sidebar-item" aria-label="不要给 async 函数写那么多 try/catch 了"><!--[--><!--]--> 不要给 async 函数写那么多 try/catch 了 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/33.html" class="sidebar-item" aria-label="十大排序的算法思路和代码实现"><!--[--><!--]--> 十大排序的算法思路和代码实现 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/34.html" class="sidebar-item" aria-label="常用正则表达式"><!--[--><!--]--> 常用正则表达式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/35.html" class="sidebar-item" aria-label="二叉树"><!--[--><!--]--> 二叉树 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/36.html" class="sidebar-item" aria-label="JavaScript中this的运行机制及爬坑指南"><!--[--><!--]--> JavaScript中this的运行机制及爬坑指南 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/37.html" class="sidebar-item" aria-label="几个非常有意思的javascript知识点"><!--[--><!--]--> 几个非常有意思的javascript知识点 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/38.html" class="sidebar-item" aria-label="3分钟教你用原生js实现具有进度监听的文件上传预览组件"><!--[--><!--]--> 3分钟教你用原生js实现具有进度监听的文件上传预览组件 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/39.html" class="sidebar-item" aria-label="递归实现js数组全排列"><!--[--><!--]--> 递归实现js数组全排列 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/40.html" class="sidebar-item" aria-label="JSON.stringify（） 后日期少一天的原因即处理方式"><!--[--><!--]--> JSON.stringify（） 后日期少一天的原因即处理方式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/41.html" class="sidebar-item" aria-label="最常见的JavaScript问题"><!--[--><!--]--> 最常见的JavaScript问题 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/42.html" class="sidebar-item" aria-label="FLIP动画实现思路"><!--[--><!--]--> FLIP动画实现思路 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/43.html" class="sidebar-item" aria-label="移动端/解决scroll和touch事件的冲突/冒泡"><!--[--><!--]--> 移动端/解决scroll和touch事件的冲突/冒泡 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/44.html" class="sidebar-item" aria-label="为啥 parseInt(0.0000005) 返回结果是 “5” ？"><!--[--><!--]--> 为啥 parseInt(0.0000005) 返回结果是 “5” ？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/45.html" class="sidebar-item" aria-label="前端重新部署如何通知用户刷新网页？"><!--[--><!--]--> 前端重新部署如何通知用户刷新网页？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/46.html" class="sidebar-item" aria-label="原来 JavaScript Object 对象还能这么用！"><!--[--><!--]--> 原来 JavaScript Object 对象还能这么用！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/47.html" class="sidebar-item" aria-label="33 个重要的 JavaScript 概念"><!--[--><!--]--> 33 个重要的 JavaScript 概念 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/48.html" class="sidebar-item" aria-label="WebRTC 从实战到未来"><!--[--><!--]--> WebRTC 从实战到未来 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/49.html" class="sidebar-item" aria-label="前端如何实现简单的音视频通话"><!--[--><!--]--> 前端如何实现简单的音视频通话 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/50.html" class="sidebar-item" aria-label="又新学到了一个JavaScript知识点Import Maps"><!--[--><!--]--> 又新学到了一个JavaScript知识点Import Maps <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/51.html" class="sidebar-item" aria-label="几个你不知道却非常实用的JavaScript APIs"><!--[--><!--]--> 几个你不知道却非常实用的JavaScript APIs <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/52.html" class="sidebar-item" aria-label="探索在 JS 中，为什么要在函数前面加！"><!--[--><!--]--> 探索在 JS 中，为什么要在函数前面加！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/53.html" class="sidebar-item" aria-label="你不知道的 async、await 魔鬼细节"><!--[--><!--]--> 你不知道的 async、await 魔鬼细节 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/54.html" class="sidebar-item" aria-label="原生 CSS Custom Highlight 终于来了~"><!--[--><!--]--> 原生 CSS Custom Highlight 终于来了~ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/55.html" class="sidebar-item" aria-label="JavaScript奇技淫巧：debugger拦截"><!--[--><!--]--> JavaScript奇技淫巧：debugger拦截 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/56.html" class="sidebar-item" aria-label="分享十二个字节前端写的代码片段，到底有什么不一样？"><!--[--><!--]--> 分享十二个字节前端写的代码片段，到底有什么不一样？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/57.html" class="sidebar-item" aria-label="JS数字精度丢失的一些典型问题"><!--[--><!--]--> JS数字精度丢失的一些典型问题 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/58.html" class="sidebar-item" aria-label="5 个关于 JSON.stringify() 的使用场景"><!--[--><!--]--> 5 个关于 JSON.stringify() 的使用场景 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/59.html" class="sidebar-item" aria-label="正则表达式其实很简单"><!--[--><!--]--> 正则表达式其实很简单 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/60.html" class="sidebar-item" aria-label="js常用的设计模式"><!--[--><!--]--> js常用的设计模式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/61.html" class="sidebar-item" aria-label="后端接口返回的数据格式不兼容怎么办？无需修改业务代码帮你搞定！"><!--[--><!--]--> 后端接口返回的数据格式不兼容怎么办？无需修改业务代码帮你搞定！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/62.html" class="sidebar-item" aria-label="掌握桥接模式的3大应用场景"><!--[--><!--]--> 掌握桥接模式的3大应用场景 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/js_article/63.html" class="sidebar-item" aria-label="前端网络监测"><!--[--><!--]--> 前端网络监测 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">ts <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/ts.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/01.html" class="sidebar-item" aria-label="TypeScript学习入门"><!--[--><!--]--> TypeScript学习入门 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/02.html" class="sidebar-item" aria-label="用TS封装axios"><!--[--><!--]--> 用TS封装axios <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/03.html" class="sidebar-item" aria-label="type 与 interface 的区别"><!--[--><!--]--> type 与 interface 的区别 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/04.html" class="sidebar-item" aria-label="进阶TypeScript功底"><!--[--><!--]--> 进阶TypeScript功底 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/05.html" class="sidebar-item" aria-label="TypeScript 高级用法总结"><!--[--><!--]--> TypeScript 高级用法总结 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/06.html" class="sidebar-item" aria-label="React + TypeScript 实践总结篇"><!--[--><!--]--> React + TypeScript 实践总结篇 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/07.html" class="sidebar-item" aria-label="如何为 Vue3 组件标注 TS 类型，看这个就够了！"><!--[--><!--]--> 如何为 Vue3 组件标注 TS 类型，看这个就够了！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/08.html" class="sidebar-item" aria-label="Typescript 开发实用技巧清单"><!--[--><!--]--> Typescript 开发实用技巧清单 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/09.html" class="sidebar-item" aria-label="TypeScript 中必须知道的 6 个泛型方法"><!--[--><!--]--> TypeScript 中必须知道的 6 个泛型方法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/10.html" class="sidebar-item" aria-label="DeepKit —— 赋予 TypeScript 更多可能性"><!--[--><!--]--> DeepKit —— 赋予 TypeScript 更多可能性 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/11.html" class="sidebar-item" aria-label="让你更好使用 Typescript 的 11 个技巧"><!--[--><!--]--> 让你更好使用 Typescript 的 11 个技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/12.html" class="sidebar-item" aria-label="如何在 TypeScript 中使用命名空间"><!--[--><!--]--> 如何在 TypeScript 中使用命名空间 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/13.html" class="sidebar-item" aria-label="15个Typescript 5.0 中重要的新功能快速了解一下"><!--[--><!--]--> 15个Typescript 5.0 中重要的新功能快速了解一下 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/ts_article/14.html" class="sidebar-item" aria-label="TypeScript又出新关键字了？"><!--[--><!--]--> TypeScript又出新关键字了？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">node <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/node.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/01.html" class="sidebar-item" aria-label="NodeJS 中的 LRU 缓存（CLOCK-2-hand）实现"><!--[--><!--]--> NodeJS 中的 LRU 缓存（CLOCK-2-hand）实现 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/02.html" class="sidebar-item" aria-label="前端必备知识之Nginx"><!--[--><!--]--> 前端必备知识之Nginx <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/03.html" class="sidebar-item" aria-label="Nginx配置参数说明"><!--[--><!--]--> Nginx配置参数说明 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/04.html" class="sidebar-item" aria-label="node爬虫类&amp;&amp;切换免费IP代理池"><!--[--><!--]--> node爬虫类&amp;&amp;切换免费IP代理池 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/05.html" class="sidebar-item" aria-label="记一次node爬虫经历，手把手教你爬虫"><!--[--><!--]--> 记一次node爬虫经历，手把手教你爬虫 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/06.html" class="sidebar-item" aria-label="Node + js实现大文件分片上传基本原理及实践"><!--[--><!--]--> Node + js实现大文件分片上传基本原理及实践 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/07.html" class="sidebar-item" aria-label="Node.js 资源汇总推荐"><!--[--><!--]--> Node.js 资源汇总推荐 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/08.html" class="sidebar-item" aria-label="有用的内置 Node.js APIs 总结"><!--[--><!--]--> 有用的内置 Node.js APIs 总结 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/09.html" class="sidebar-item" aria-label="node切换源小工具"><!--[--><!--]--> node切换源小工具 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/10.html" class="sidebar-item" aria-label="熔断器"><!--[--><!--]--> 熔断器 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/11.html" class="sidebar-item" aria-label="详解Node.js开发中不可或缺的7个库"><!--[--><!--]--> 详解Node.js开发中不可或缺的7个库 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/node_article/12.html" class="sidebar-item" aria-label="为什么我们选择了Node.js而不是Deno？"><!--[--><!--]--> 为什么我们选择了Node.js而不是Deno？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/tools.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/01.html" class="sidebar-item" aria-label="13个你应该知道的Webpack优化技巧"><!--[--><!--]--> 13个你应该知道的Webpack优化技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/02.html" class="sidebar-item" aria-label="如何开发babel插件（入门）"><!--[--><!--]--> 如何开发babel插件（入门） <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/03.html" class="sidebar-item" aria-label="React性能优化"><!--[--><!--]--> React性能优化 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/04.html" class="sidebar-item" aria-label="Git 经典操作场景，专治不会合代码"><!--[--><!--]--> Git 经典操作场景，专治不会合代码 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/05.html" class="sidebar-item" aria-label="怎么使用console?"><!--[--><!--]--> 怎么使用console? <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/06.html" class="sidebar-item" aria-label="基础框架/工程化"><!--[--><!--]--> 基础框架/工程化 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/07.html" class="sidebar-item" aria-label="倒数计时器"><!--[--><!--]--> 倒数计时器 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/08.html" class="sidebar-item" aria-label="按钮"><!--[--><!--]--> 按钮 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/09.html" class="sidebar-item" aria-label="JavaScript实现模板赋值-模板变量替换的方法"><!--[--><!--]--> JavaScript实现模板赋值-模板变量替换的方法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/10.html" class="sidebar-item" aria-label="图片加载失败的前端解决方案"><!--[--><!--]--> 图片加载失败的前端解决方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/11.html" class="sidebar-item" aria-label="研究大佬用 Vue写的倒计时组件，学到不少东西"><!--[--><!--]--> 研究大佬用 Vue写的倒计时组件，学到不少东西 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/12.html" class="sidebar-item" aria-label="了解虚拟DOM与Diff算法"><!--[--><!--]--> 了解虚拟DOM与Diff算法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/13.html" class="sidebar-item" aria-label="前端自动埋点核心原理揭秘"><!--[--><!--]--> 前端自动埋点核心原理揭秘 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/14.html" class="sidebar-item" aria-label="能用CSS实现的就不用麻烦JavaScript"><!--[--><!--]--> 能用CSS实现的就不用麻烦JavaScript <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/15.html" class="sidebar-item" aria-label="多行文本内容超出显示省略号... 的终极解决方案"><!--[--><!--]--> 多行文本内容超出显示省略号... 的终极解决方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/16.html" class="sidebar-item" aria-label="常用工具类的封装整理"><!--[--><!--]--> 常用工具类的封装整理 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/17.html" class="sidebar-item" aria-label="console 相关的方法"><!--[--><!--]--> console 相关的方法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/18.html" class="sidebar-item" aria-label="验证 Vue Props 类型"><!--[--><!--]--> 验证 Vue Props 类型 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/19.html" class="sidebar-item" aria-label="Vue项目如何做单元测试"><!--[--><!--]--> Vue项目如何做单元测试 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/20.html" class="sidebar-item" aria-label="从 0 到 1 搭建一个企业级前端开发规范"><!--[--><!--]--> 从 0 到 1 搭建一个企业级前端开发规范 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/21.html" class="sidebar-item" aria-label="Vue路由过渡动效"><!--[--><!--]--> Vue路由过渡动效 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/22.html" class="sidebar-item" aria-label="网站优化"><!--[--><!--]--> 网站优化 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/23.html" class="sidebar-item" aria-label="前端代码工作流"><!--[--><!--]--> 前端代码工作流 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/24.html" class="sidebar-item" aria-label="使用React Hooks 时要避免的5个错误！"><!--[--><!--]--> 使用React Hooks 时要避免的5个错误！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/25.html" class="sidebar-item" aria-label="在 Vue 中，使用 $attrs 构建高级组件"><!--[--><!--]--> 在 Vue 中，使用 $attrs 构建高级组件 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/26.html" class="sidebar-item" aria-label="React组件之间通信的方法"><!--[--><!--]--> React组件之间通信的方法 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/27.html" class="sidebar-item" aria-label="如何将Canvas绘制过程转为视频"><!--[--><!--]--> 如何将Canvas绘制过程转为视频 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/28.html" class="sidebar-item" aria-label="有用的 Vue开发技巧"><!--[--><!--]--> 有用的 Vue开发技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/29.html" class="sidebar-item" aria-label="Chrome Devtools 技巧"><!--[--><!--]--> Chrome Devtools 技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/30.html" class="sidebar-item" aria-label="前端基于husky通过eslint检测提交代码"><!--[--><!--]--> 前端基于husky通过eslint检测提交代码 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/31.html" class="sidebar-item" aria-label="写一个自用的前端脚手架"><!--[--><!--]--> 写一个自用的前端脚手架 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/32.html" class="sidebar-item" aria-label="关于图片加载，你需要学习一下"><!--[--><!--]--> 关于图片加载，你需要学习一下 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/33.html" class="sidebar-item" aria-label="如何优雅地中断 Promise？"><!--[--><!--]--> 如何优雅地中断 Promise？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/34.html" class="sidebar-item" aria-label="你的 React Hooks 够优雅吗？"><!--[--><!--]--> 你的 React Hooks 够优雅吗？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/35.html" class="sidebar-item" aria-label="屏幕适配的两种方案"><!--[--><!--]--> 屏幕适配的两种方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/36.html" class="sidebar-item" aria-label="Vue3的响应式原理"><!--[--><!--]--> Vue3的响应式原理 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/37.html" class="sidebar-item" aria-label="为什么 Proxy 一定要配合 Reflect 使用？"><!--[--><!--]--> 为什么 Proxy 一定要配合 Reflect 使用？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/38.html" class="sidebar-item" aria-label="【研发必备】45 个 Git 经典操作场景，专治不会合代码"><!--[--><!--]--> 【研发必备】45 个 Git 经典操作场景，专治不会合代码 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/39.html" class="sidebar-item" aria-label="文件上传组件应该是什么样的"><!--[--><!--]--> 文件上传组件应该是什么样的 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/40.html" class="sidebar-item" aria-label="React 实现自动上报 pv/click 的埋点 Hooks"><!--[--><!--]--> React 实现自动上报 pv/click 的埋点 Hooks <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/41.html" class="sidebar-item" aria-label="前端重新部署如何通知用户刷新网页？"><!--[--><!--]--> 前端重新部署如何通知用户刷新网页？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/42.html" class="sidebar-item" aria-label="闲来无事，摸鱼时让 chatgpt 帮忙，写了一个 console 样式增强库并发布 npm"><!--[--><!--]--> 闲来无事，摸鱼时让 chatgpt 帮忙，写了一个 console 样式增强库并发布 npm <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/43.html" class="sidebar-item" aria-label="Vue3 + setup + ts 使用技巧"><!--[--><!--]--> Vue3 + setup + ts 使用技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/44.html" class="sidebar-item" aria-label="【基础篇】 如何为 Vue3 组件标注 TS 类型，看这个就够了！"><!--[--><!--]--> 【基础篇】 如何为 Vue3 组件标注 TS 类型，看这个就够了！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/45.html" class="sidebar-item" aria-label="了解一下图片加载"><!--[--><!--]--> 了解一下图片加载 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/46.html" class="sidebar-item" aria-label="Vue3.3发布了！带你了解一下它的新特性！"><!--[--><!--]--> Vue3.3发布了！带你了解一下它的新特性！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/47.html" class="sidebar-item" aria-label="前端如何实现水印功能"><!--[--><!--]--> 前端如何实现水印功能 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/48.html" class="sidebar-item" aria-label="如何用 js 实现瀑布流布局"><!--[--><!--]--> 如何用 js 实现瀑布流布局 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/49.html" class="sidebar-item" aria-label="H5页面秒开优化与实践"><!--[--><!--]--> H5页面秒开优化与实践 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/50.html" class="sidebar-item" aria-label="原来懒加载有这些玩法，你确定不看看？"><!--[--><!--]--> 原来懒加载有这些玩法，你确定不看看？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/51.html" class="sidebar-item" aria-label="完美搭配，微前端与Monorepo的架构设计"><!--[--><!--]--> 完美搭配，微前端与Monorepo的架构设计 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/52.html" class="sidebar-item" aria-label="虚拟滚动的3种实现方式"><!--[--><!--]--> 虚拟滚动的3种实现方式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/53.html" class="sidebar-item" aria-label="3种前端埋点方式"><!--[--><!--]--> 3种前端埋点方式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/54.html" class="sidebar-item" aria-label="全面认识微前端"><!--[--><!--]--> 全面认识微前端 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/tools_article/55.html" class="sidebar-item" aria-label="Chrome调试webview页面"><!--[--><!--]--> Chrome调试webview页面 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">其他 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/docs/mk-data/article/other.html" class="sidebar-item" aria-label="序言"><!--[--><!--]--> 序言 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/01.html" class="sidebar-item" aria-label="20个稀奇古怪的JavaScript表达式，你能答对几道"><!--[--><!--]--> 20个稀奇古怪的JavaScript表达式，你能答对几道 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/02.html" class="sidebar-item" aria-label="高效编程的前端轮子"><!--[--><!--]--> 高效编程的前端轮子 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/03.html" class="sidebar-item" aria-label="UI设计效果"><!--[--><!--]--> UI设计效果 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/04.html" class="sidebar-item" aria-label="必须要知道的meta标签知识"><!--[--><!--]--> 必须要知道的meta标签知识 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/05.html" class="sidebar-item" aria-label="前端代码的三种设计模式"><!--[--><!--]--> 前端代码的三种设计模式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/06.html" class="sidebar-item" aria-label="网站的HTML输入效果的设计"><!--[--><!--]--> 网站的HTML输入效果的设计 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/07.html" class="sidebar-item" aria-label="你可能还没有听说过的 HTML 属性"><!--[--><!--]--> 你可能还没有听说过的 HTML 属性 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/08.html" class="sidebar-item" aria-label="前端开发必备基础英文单词整理汇总"><!--[--><!--]--> 前端开发必备基础英文单词整理汇总 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/09.html" class="sidebar-item" aria-label="uni-app关闭系统侧边滑动返回的方法总汇"><!--[--><!--]--> uni-app关闭系统侧边滑动返回的方法总汇 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/10.html" class="sidebar-item" aria-label="几个高级前端常用的API，你用到了吗？"><!--[--><!--]--> 几个高级前端常用的API，你用到了吗？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/11.html" class="sidebar-item" aria-label="精美的时间线"><!--[--><!--]--> 精美的时间线 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/12.html" class="sidebar-item" aria-label="社交媒体分享按钮的案例"><!--[--><!--]--> 社交媒体分享按钮的案例 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/13.html" class="sidebar-item" aria-label="输入URL开始建立前端知识体系"><!--[--><!--]--> 输入URL开始建立前端知识体系 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/14.html" class="sidebar-item" aria-label="移动端响应式菜单练习"><!--[--><!--]--> 移动端响应式菜单练习 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/15.html" class="sidebar-item" aria-label="保证接口数据安全的方案"><!--[--><!--]--> 保证接口数据安全的方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/16.html" class="sidebar-item" aria-label="如何防止别人恶意调试我们的代码"><!--[--><!--]--> 如何防止别人恶意调试我们的代码 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/17.html" class="sidebar-item" aria-label="前端性能优化"><!--[--><!--]--> 前端性能优化 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/18.html" class="sidebar-item" aria-label="移动端必备的H5问题及解决方案"><!--[--><!--]--> 移动端必备的H5问题及解决方案 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="前端基础知识整理汇总"><!--[--><!--]--> 前端基础知识整理汇总 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#html页面的生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTML页面的生命周期"><!--[--><!--]--> HTML页面的生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#script标签-向html插入js的方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="Script标签：向HTML插入JS的方法"><!--[--><!--]--> Script标签：向HTML插入JS的方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#meta" class="router-link-active router-link-exact-active sidebar-item" aria-label="meta"><!--[--><!--]--> meta <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#基本类型和引用类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本类型和引用类型"><!--[--><!--]--> 基本类型和引用类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#作用域和执行上下文" class="router-link-active router-link-exact-active sidebar-item" aria-label="作用域和执行上下文"><!--[--><!--]--> 作用域和执行上下文 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#变量提升" class="router-link-active router-link-exact-active sidebar-item" aria-label="变量提升"><!--[--><!--]--> 变量提升 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#闭包" class="router-link-active router-link-exact-active sidebar-item" aria-label="闭包"><!--[--><!--]--> 闭包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#this指向问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="this指向问题"><!--[--><!--]--> this指向问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#对象属性类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="对象属性类型"><!--[--><!--]--> 对象属性类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#函数式编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数式编程"><!--[--><!--]--> 函数式编程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#跨域" class="router-link-active router-link-exact-active sidebar-item" aria-label="跨域"><!--[--><!--]--> 跨域 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#模块化" class="router-link-active router-link-exact-active sidebar-item" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#http和https" class="router-link-active router-link-exact-active sidebar-item" aria-label="http和https"><!--[--><!--]--> http和https <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#继承" class="router-link-active router-link-exact-active sidebar-item" aria-label="继承"><!--[--><!--]--> 继承 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#call-bind-apply实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="Call, bind, apply实现"><!--[--><!--]--> Call, bind, apply实现 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#原型与原型链" class="router-link-active router-link-exact-active sidebar-item" aria-label="原型与原型链"><!--[--><!--]--> 原型与原型链 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-diff" class="router-link-active router-link-exact-active sidebar-item" aria-label="react diff"><!--[--><!--]--> react diff <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#遍历对象" class="router-link-active router-link-exact-active sidebar-item" aria-label="遍历对象"><!--[--><!--]--> 遍历对象 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#异步加载脚本" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步加载脚本"><!--[--><!--]--> 异步加载脚本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#css3硬件加速-gpu加速" class="router-link-active router-link-exact-active sidebar-item" aria-label="CSS3硬件加速（GPU加速）"><!--[--><!--]--> CSS3硬件加速（GPU加速） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#http请求方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="http请求方法"><!--[--><!--]--> http请求方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#js判断数据类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="js判断数据类型"><!--[--><!--]--> js判断数据类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#浏览器事件模型" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器事件模型"><!--[--><!--]--> 浏览器事件模型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#http缓存-强制缓存和协商缓存" class="router-link-active router-link-exact-active sidebar-item" aria-label="http缓存: 强制缓存和协商缓存"><!--[--><!--]--> http缓存: 强制缓存和协商缓存 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#防抖和节流" class="router-link-active router-link-exact-active sidebar-item" aria-label="防抖和节流"><!--[--><!--]--> 防抖和节流 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#大小单位区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="大小单位区别"><!--[--><!--]--> 大小单位区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#函数声明和函数表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数声明和函数表达式"><!--[--><!--]--> 函数声明和函数表达式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#事件循环eventloop" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件循环EventLoop"><!--[--><!--]--> 事件循环EventLoop <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#promise-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#虚拟dom原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="虚拟dom原理"><!--[--><!--]--> 虚拟dom原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#箭头函数与普通函数区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="箭头函数与普通函数区别"><!--[--><!--]--> 箭头函数与普通函数区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#new" class="router-link-active router-link-exact-active sidebar-item" aria-label="new"><!--[--><!--]--> new <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#水平与垂直居中实现方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="水平与垂直居中实现方式"><!--[--><!--]--> 水平与垂直居中实现方式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#排序" class="router-link-active router-link-exact-active sidebar-item" aria-label="排序"><!--[--><!--]--> 排序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#洗牌算法" class="router-link-active router-link-exact-active sidebar-item" aria-label="洗牌算法"><!--[--><!--]--> 洗牌算法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="react 生命周期"><!--[--><!--]--> react 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-16做了哪些更新" class="router-link-active router-link-exact-active sidebar-item" aria-label="react 16做了哪些更新"><!--[--><!--]--> react 16做了哪些更新 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-hooks原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="React hooks原理"><!--[--><!--]--> React hooks原理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-setstate-异步更新" class="router-link-active router-link-exact-active sidebar-item" aria-label="react setState 异步更新"><!--[--><!--]--> react setState 异步更新 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-fiber" class="router-link-active router-link-exact-active sidebar-item" aria-label="React Fiber"><!--[--><!--]--> React Fiber <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#hoc-与render-props区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="HOC 与render props区别"><!--[--><!--]--> HOC 与render props区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-通信" class="router-link-active router-link-exact-active sidebar-item" aria-label="React 通信"><!--[--><!--]--> React 通信 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react合成事件" class="router-link-active router-link-exact-active sidebar-item" aria-label="react合成事件"><!--[--><!--]--> react合成事件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react-虚拟dom" class="router-link-active router-link-exact-active sidebar-item" aria-label="react 虚拟dom"><!--[--><!--]--> react 虚拟dom <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#react与vue区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="react与vue区别"><!--[--><!--]--> react与vue区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#性能优化" class="router-link-active router-link-exact-active sidebar-item" aria-label="性能优化"><!--[--><!--]--> 性能优化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#输入url后发生了什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="输入url后发生了什么"><!--[--><!--]--> 输入url后发生了什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#前端路由" class="router-link-active router-link-exact-active sidebar-item" aria-label="前端路由"><!--[--><!--]--> 前端路由 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#babel-plugin与preset区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="Babel Plugin与preset区别"><!--[--><!--]--> Babel Plugin与preset区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#怎样开发和部署前端代码" class="router-link-active router-link-exact-active sidebar-item" aria-label="怎样开发和部署前端代码"><!--[--><!--]--> 怎样开发和部署前端代码 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#大数相加" class="router-link-active router-link-exact-active sidebar-item" aria-label="大数相加"><!--[--><!--]--> 大数相加 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/docs/mk-data/other_article/19.html#斐波那契数列求和" class="router-link-active router-link-exact-active sidebar-item" aria-label="斐波那契数列求和"><!--[--><!--]--> 斐波那契数列求和 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/docs/mk-data/other_article/20.html" class="sidebar-item" aria-label="如何优雅处理前端异常"><!--[--><!--]--> 如何优雅处理前端异常 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/21.html" class="sidebar-item" aria-label="如果后端API一次返回10万条数据，前端应该如何处理？"><!--[--><!--]--> 如果后端API一次返回10万条数据，前端应该如何处理？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/22.html" class="sidebar-item" aria-label="介绍几个开发前端动画不得不学的动画库"><!--[--><!--]--> 介绍几个开发前端动画不得不学的动画库 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/23.html" class="sidebar-item" aria-label="前端性能优化之减少重排和重绘"><!--[--><!--]--> 前端性能优化之减少重排和重绘 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/24.html" class="sidebar-item" aria-label="uniapp创建桌面快捷方式"><!--[--><!--]--> uniapp创建桌面快捷方式 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/25.html" class="sidebar-item" aria-label="如何解决IOS系统https访问H5页面速度非常慢"><!--[--><!--]--> 如何解决IOS系统https访问H5页面速度非常慢 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/26.html" class="sidebar-item" aria-label="uniapp手机端图片缓存方案"><!--[--><!--]--> uniapp手机端图片缓存方案 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/27.html" class="sidebar-item" aria-label="深入浅出前端缓存"><!--[--><!--]--> 深入浅出前端缓存 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/28.html" class="sidebar-item" aria-label="虚拟列表"><!--[--><!--]--> 虚拟列表 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/29.html" class="sidebar-item" aria-label="页面加载速度提高小技巧"><!--[--><!--]--> 页面加载速度提高小技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/30.html" class="sidebar-item" aria-label="补全网络基础知识"><!--[--><!--]--> 补全网络基础知识 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/31.html" class="sidebar-item" aria-label="前端性能优化经验分享"><!--[--><!--]--> 前端性能优化经验分享 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/32.html" class="sidebar-item" aria-label="JavaScript 内存管理：如何避免常见的内存泄漏并提高性能"><!--[--><!--]--> JavaScript 内存管理：如何避免常见的内存泄漏并提高性能 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/33.html" class="sidebar-item" aria-label="如何规范地发布一个现代化的 NPM 包？"><!--[--><!--]--> 如何规范地发布一个现代化的 NPM 包？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/34.html" class="sidebar-item" aria-label="图文搞定 HTTPS 协议"><!--[--><!--]--> 图文搞定 HTTPS 协议 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/35.html" class="sidebar-item" aria-label="前端录屏+定位源码，帮你快速定位线上 bug"><!--[--><!--]--> 前端录屏+定位源码，帮你快速定位线上 bug <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/36.html" class="sidebar-item" aria-label="前端框架Svelte放弃TS，如何使用纯JS实现类型检查？"><!--[--><!--]--> 前端框架Svelte放弃TS，如何使用纯JS实现类型检查？ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/37.html" class="sidebar-item" aria-label="屎山代码风格指南"><!--[--><!--]--> 屎山代码风格指南 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/38.html" class="sidebar-item" aria-label="有JSDoc还需要TypeScript吗"><!--[--><!--]--> 有JSDoc还需要TypeScript吗 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/39.html" class="sidebar-item" aria-label="原生 popover 终于要来了！"><!--[--><!--]--> 原生 popover 终于要来了！ <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/40.html" class="sidebar-item" aria-label="你可能不知道的dialog弹窗"><!--[--><!--]--> 你可能不知道的dialog弹窗 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/41.html" class="sidebar-item" aria-label="前端路由应该理解的一些前置知识"><!--[--><!--]--> 前端路由应该理解的一些前置知识 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/42.html" class="sidebar-item" aria-label="autofit.js"><!--[--><!--]--> autofit.js <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/43.html" class="sidebar-item" aria-label="前端小技巧"><!--[--><!--]--> 前端小技巧 <!--[--><!--]--></a><!----></li><li><a href="/docs/mk-data/other_article/44.html" class="sidebar-item" aria-label="如何解决前端领域的竞态问题？"><!--[--><!--]--> 如何解决前端领域的竞态问题？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="前端基础知识整理汇总" tabindex="-1"><a class="header-anchor" href="#前端基础知识整理汇总" aria-hidden="true">#</a> 前端基础知识整理汇总</h1><h2 id="html页面的生命周期" tabindex="-1"><a class="header-anchor" href="#html页面的生命周期" aria-hidden="true">#</a> HTML页面的生命周期</h2><ul><li><p>HTML页面的生命周期有以下三个重要事件：</p><ul><li>DOMContentLoaded —— 浏览器已经完全加载了 HTML，DOM 树已经构建完毕，但是像是 <code>&lt;img&gt;</code> 和样式表等外部资源可能并没有下载完毕。</li><li>load —— 浏览器已经加载了所有的资源（图像，样式表等）。</li><li>beforeunload —— 当用户即将离开当前页面（刷新或关闭）时触发。正要去服务器读取新的页面时调用，此时还没开始读取；</li><li>unload —— 在用户离开页面后触发。从服务器上读到了需要加载的新的页面，在即将替换掉当前页面时调用。</li></ul></li><li><p>每个事件都有特定的用途:</p><ul><li>DOMContentLoaded —— DOM 加载完毕，所以 JS 可以访问所有 DOM 节点，初始化界面。</li><li>load —— 附加资源已经加载完毕，可以在此事件触发时获得图像的大小（如果没有被在 HTML/CSS 中指定）</li><li>beforeunload —— 该事件可用于弹出对话框，提示用户是继续浏览页面还是离开当前页面。</li><li>unload —— 删除本地数据localstorage等</li></ul></li></ul><p><strong>DOMContentLoaded</strong></p><p>DOMContentLoaded 由 document 对象触发。使用 addEventListener 来监听它：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>DOMContentLoaded 和脚本</strong></p><p>当浏览器在解析 HTML 页面时遇到了 <code>&lt;script&gt;...&lt;/script&gt;</code> 标签，将无法继续构建DOM树（UI 渲染线程与 JS 引擎是互斥的，当 JS 引擎执行时 UI 线程会被挂起），必须立即执行脚本。所以 DOMContentLoaded 有可能在所有脚本执行完毕后触发。</p><p>外部脚本（带 src 的）的加载和解析也会暂停DOM树构建，所以 DOMContentLoaded 也会等待外部脚本。带 async 的外部脚本，可能会在DOMContentLoaded事件之前或之后执行。带 defer 的脚本肯定会在在DOMContentLoaded事件之前执行。</p><p><strong>DOMContentLoaded 与样式表</strong></p><p>外部样式表并不会阻塞 DOM 的解析，所以 DOMContentLoaded 并不会被它们影响。</p><p><strong>load</strong></p><p>window 对象上的 load 事件在所有文件包括样式表，图片和其他资源下载完毕后触发。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>beforeunload</strong></p><p>当窗口即将被卸载（关闭）时, 会触发该事件。此时页面文档依然可见, 且该事件的默认动作可以被取消。beforeunload在unload之前执行，它还可以阻止unload的执行。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 推荐使用</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;beforeunload&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Cancel the event as stated by the standard.</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Chrome requires returnValue to be set.</span>
  event<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token string">&#39;关闭提示&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
  <span class="token comment">// 兼容IE8和Firefox 4之前的版本</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token string">&#39;关闭提示&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+</span>
  <span class="token keyword">return</span> <span class="token string">&#39;关闭提示&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>unload</strong></p><p>用户离开页面的时候，window 对象上的 unload 事件会被触发，无法阻止用户转移到另一个页面上。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 推荐使用</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>readyState</strong></p><ul><li>document.readyState 表示页面的加载状态，有三个值： <ul><li>loading 加载 —— document仍在加载。</li><li>interactive 互动 —— 文档已经完成加载，文档已被解析，但是诸如图像，样式表和框架之类的子资源仍在加载。</li><li>complete —— 文档和所有子资源已完成加载。 load 事件即将被触发。</li></ul></li></ul><p>可以在 readystatechange 中追踪页面的变化状态：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;readystatechange&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="script标签-向html插入js的方法" tabindex="-1"><a class="header-anchor" href="#script标签-向html插入js的方法" aria-hidden="true">#</a> Script标签：向HTML插入JS的方法</h2><table><thead><tr><th>属性</th><th>值</th><th>描述</th></tr></thead><tbody><tr><td>async</td><td>async</td><td>立即下载脚本（仅适用于外部脚本）。</td></tr><tr><td>charset</td><td>charset</td><td>表示通过src属性指定的代码的字符集</td></tr><tr><td>defer</td><td>defer</td><td>表示脚本可以延迟到文档完全被解析和显示之后再执行（仅适用于外部脚本）。</td></tr><tr><td>language</td><td>script(已废弃)</td><td>表示编写代码使用的脚本语言。用 type 属性代替它。</td></tr><tr><td>src</td><td>URL</td><td>规定外部脚本文件的 URL。</td></tr><tr><td>xml:space</td><td>preserve</td><td>规定是否保留代码中的空白。</td></tr><tr><td>type</td><td>text/xxx</td><td>language的替换属性，表示编写代码使用的脚本语言的内容类型,也称为MIME属性。</td></tr></tbody></table><p>没有 defer 或 async，所有<code>&lt;script&gt;</code>元素会按照在页面出现的先后顺序依次被解析，浏览器会立即加载并执行指定的脚本, 只有解析完前面的script元素的内容后，才会解析后面的代码。</p><p><strong>async 和 defer 属性仅仅对外部脚本起作用，在 src 不存在时会被自动忽略。</strong></p><p>使用<code>&lt;script&gt;</code>的两种方式</p><ul><li>页面中嵌入script代码， 只需指定type属性</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hihihi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 内部不能出现&#39;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>&#39;字符串，如果必须出现，必须使用转义标签‘\’
    alert(&#39;&lt;\/script&gt;&#39;);
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>包含在<code>&lt;script&gt;</code>元素内的代码会从上而下依次解释，在解释器对<code>&lt;script&gt;</code>元素内的所有代码求值完毕之前，页面中的其余内容都不会被浏览器加载或显示</p><ul><li>包含外部js文件, src属性是必须的。</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
// 带有src属性的元素不应该在标签之间包含额外的js代码，即使包含，只会下载并执行外部文件，内部代码也会被忽略。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>与嵌入式js代码一样, 在解析外部js文件时，页面的处理会暂时停止。</p><p>改变脚本行为的方法</p><ul><li>defer: 立即下载，延迟执行</li></ul><p>加载和渲染后续文档元素的过程将和脚本的加载并行进行（异步），但是脚本的执行会在所有元素解析完成之后。脚本总会按照声明顺序执行。 在DOMContentLoaded事件之前执行。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>async: 异步脚本</li></ul><p>加载和渲染后续文档元素的过程将和脚本的加载与执行并行进行（异步）。但是async 在下载完毕后的执行会阻塞HTML的解析。脚本加载后马上执行，不能保证异步脚本按照他们在页面中出现的顺序执行。 一定会在load事件之前执行，可能会在DOMContentLoaded事件之前或之后执行。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>async<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>区别：</p><table><thead><tr><th>描述</th><th>defer</th><th>async</th></tr></thead><tbody><tr><td>执行时机</td><td>在所有元素解析完成之后</td><td>加载后即执行</td></tr><tr><td>执行顺序</td><td>按照声明顺序加载和执行脚本</td><td>不管声明的顺序如何，只要加载完了就会立刻执行</td></tr><tr><td>DOMContentLoaded</td><td>脚本会在页面加载和解析完毕后执行，在DOMContentLoaded事件之前执行。（脚本下载并执行完，才触发DOMContentLoaded）</td><td>可能会在DOMContentLoaded事件之前或之后执行</td></tr><tr><td>load</td><td>load之前执行</td><td>load之前执行</td></tr></tbody></table><h2 id="meta" tabindex="-1"><a class="header-anchor" href="#meta" aria-hidden="true">#</a> meta</h2><p>META标签是HTML标记HEAD区的一个关键标签，它提供的信息虽然用户不可见，但却是文档的最基本的元信息。<code>&lt;meta&gt;</code>除了提供文档字符集、使用语言、作者等网页相关信息外，还可以设置信息给搜索引擎，目的是为了SEO（搜索引擎优化）。</p><p>HTML <code>&lt;meta&gt;</code> 元素表示那些不能由其它 HTML 元相关（meta-related）元素（(<code>&lt;base&gt;、&lt;link&gt;, &lt;script&gt;、&lt;style&gt; 或 &lt;title&gt;</code>）之一表示的任何元数据信息。</p><h3 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h3><p><strong>name</strong></p><p>设置元数据的名称。name 和 content 属性可以一起使用，以名-值对的方式给文档提供元数据，content 作为元数据的值。</p><p><strong>content</strong></p><p>设置与 http-equiv 或 name 属性相关的元信息。</p><p><strong>charset</strong></p><p>声明了文档的字符编码。如果使用了这个属性，其值必须是与ASCII大小写无关（ASCII case-insensitive）的&quot;utf-8&quot;。</p><p><strong>http-equiv</strong></p><p>定义了一个编译指示指令，其作用类似于http协议, 告诉浏览器一些关于字符设定,页面刷新,cookie,缓存等等相关信息。属性名叫做 http-equiv 是因为所有允许的值都是HTTP头部的名称。</p><ul><li>可设置的值有： <ul><li>content-security-policy：它允许页面作者定义当前页的内容策略。内容策略主要指定允许的服务器源和脚本端点，这有助于防止跨站点脚本攻击。</li><li>Expires：可以用于设定网页的到期时间，一旦过期则必须到服务器上重新调用。content必须使用GMT时间格式；</li><li>content-type：如果使用这个属性，其值必须是&quot;text/html; charset=utf-8&quot;。注意：该属性只能用于 MIME type为 text/html 的文档，不能用于MIME类型为XML的文档。</li><li>default-style：设置默认CSS 样式表组的名称。</li><li>refresh：定时让网页在指定的时间n内，刷新或跳转；</li></ul></li></ul><p>如果 content 只包含一个正整数，则是n秒后, 页面刷新。 如果 content 包含一个正整数，并且后面跟着字符串 &#39;;url=&#39; 和一个合法的 URL，则是重定向到指定链接的时间间隔(秒)。</p><p><strong>meta 元素定义的元数据的类型包括以下几种：</strong></p><ul><li><p>如果设置了 name 属性，meta 元素提供的是文档级别（document-level）的元数据，应用于整个页面。</p></li><li><p>如果设置了 http-equiv 属性，meta 元素则是编译指令，提供的信息与类似命名的HTTP头部相同。</p></li><li><p>如果设置了 charset 属性，meta 元素是一个字符集声明，告诉文档使用哪种字符编码。</p></li><li><p>如果设置了 itemprop 属性，meta 元素提供用户定义的元数据。</p></li></ul><blockquote><p>注意: 全局属性 name 在 <code>&lt;meta&gt;</code> 元素中具有特殊的语义；另外， 在同一个 <code>&lt;meta&gt;</code> 标签中，name, http-equiv 或者 charset 三者中任何一个属性存在时，itemprop 属性不能被使用。</p></blockquote><p><strong>使用</strong></p><p>content值里有多个属性通过,隔开，同时设置多个属性。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>/* name */
// 适配移动设备
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
// 检测html格式：禁止把数字转化为拨号链接
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>format-detection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>telephone=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 

/* charset */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

/* http-equiv */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>refresh<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3;url=https://www.mozilla.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Expires<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Mon,12 May 2001 00:20:00 GMT<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="meta-viewport元信息" tabindex="-1"><a class="header-anchor" href="#meta-viewport元信息" aria-hidden="true">#</a> meta viewport元信息</h3><ul><li>什么是 viewport?</li></ul><p>viewport 是浏览器的可视区域，可视区域的大小是浏览器自己设置的。它可能大于移动设备可视区域，也可能小于移动设备可视区域。一般来讲，移动设备上的viewport都是大于移动设备可视区域。在控制台输出window.innerWidth查看Viewport大小。</p><ul><li>相关概念</li></ul><p><strong>设备像素</strong>：设备屏幕分辨率。iphone6p 的分辨率是 1334<em>750； <strong>设备独立像素</strong>：设备上程序用来描绘数据的一个个的“点”, 在控制台用 screen.width/height查看。iphone6p 的设备独立像素是375</em>667； <strong>设备像素比（DPR）</strong>：设备像素(宽)/设备独立像素(宽)，DPR越高渲染越精致。在控制台输出window.devicePixelRatio查看设备像素比。iphone6s 的设备像素比就是 750 / 375 = 2； <strong>CSS像素</strong>：浏览器使用的单位，用来精确度量网页上的内容。在一般情况下(页面缩放比为 1)，1 个 CSS 像素等于 1 个设备独立像素。 <strong>屏幕尺寸</strong>：屏幕对角线的长度，以英尺为单位。 <strong>像素密度（PPI）</strong>：每英寸屏幕拥有的像素数。</p><ul><li>为什么要使用meta viewport？</li></ul><p>通常情况下，移动设备上的浏览器都会把viewport设为980px或1024px，此时页面会出现横向滚动条，因为移动设备可视区域宽度是比这个默认的viewport的宽度要小。所以出现了meta 标签设置viewport 元始性进行移动端网页优化。</p><ul><li>meta viewport 属性 <ul><li>width：控制 viewport 的大小，可以给它指定一个值(正整数)，或者是一个特殊的值(如：device-width 设备独立像素宽度，单位缩放为 1 时)；</li><li>initial-scale：初始缩放比例，即当页面第一次加载时的缩放比例，为一个数字(可以带小数)；</li><li>maximum-scale：允许用户缩放到的最大比例，为一个数字(可以带小数)；</li><li>minimum-scale：允许用户缩放到的最小比例，为一个数字(可以带小数)；</li><li>user-scalable：是否允许用户手动缩放，值为 &quot;no&quot;(不允许) 或 &quot;yes&quot;(允许)；</li><li>height：与 width 相对应(很少使用)。</li></ul></li></ul><h2 id="基本类型和引用类型" tabindex="-1"><a class="header-anchor" href="#基本类型和引用类型" aria-hidden="true">#</a> 基本类型和引用类型</h2><h3 id="基本类型" tabindex="-1"><a class="header-anchor" href="#基本类型" aria-hidden="true">#</a> 基本类型</h3><p>基本类型：undefined、null、string、number、boolean、symbol</p><p><strong>特点</strong></p><ol><li>基本类型的值是不可变得</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 任何方法都无法改变一个基本类型的值</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&#39;jay&#39;</span><span class="token punctuation">;</span>
name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 &#39;JAY&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出  &#39;jay&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>基本类型的比较是值的比较</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 只有在它们的值相等的时候它们才相等</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token comment">// 用==比较两个不同类型的变量时会进行一些类型转换。</span>
<span class="token comment">// 先会把true转换为数字1再和数字1进行比较，结果就是true了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>基本类型的变量是存放在栈区的（栈区指内存里的栈内存）</li></ol><h3 id="引用类型" tabindex="-1"><a class="header-anchor" href="#引用类型" aria-hidden="true">#</a> 引用类型</h3><p>引用类型：Object、Array、RegExp、Date、Function等 引用类型也可以说是对象。对象是属性和方法的集合，也就是说引用类型可以拥有属性和方法，属性又可以包含基本类型和引用类型。</p><p><strong>特点</strong></p><ol><li>引用类型的值是可变的</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 我们可为为引用类型添加属性和方法，也可以删除其属性和方法</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;pig&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;pig&#39;</span>
<span class="token keyword">delete</span> person<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>引用类型的比较是引用的比较</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token string">&#39;{}&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token string">&#39;{}&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">==</span> person2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字符串值相同，true</span>

<span class="token keyword">let</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1 <span class="token operator">==</span> person2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 两个对象的堆内存中的地址不同，false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>引用类型的值是同时保存在栈内存和堆内存中的对象</li></ol><p>javascript和其他语言不同，其不允许直接访问内存中的位置，也就是说不能直接操作对象的内存空间。</p><p>实际上，是操作对象的引用，所以引用类型的值是按引用访问的。准确地说，引用类型的存储需要内存的栈区和堆区（堆区是指内存里的堆内存）共同完成，栈区内存保存变量标识符和指向堆内存中该对象的指针，也可以说是该对象在堆内存的地址。</p><h2 id="作用域和执行上下文" tabindex="-1"><a class="header-anchor" href="#作用域和执行上下文" aria-hidden="true">#</a> 作用域和执行上下文</h2><ul><li>JavaScript代码的整个执行过程，分为两个阶段，代码编译阶段与代码执行阶段。 <ul><li>编译阶段：由编译器完成，将代码翻译成可执行代码。这个阶段作用域规则会确定。</li><li>执行阶段：由引擎完成，主要任务是执行可执行代码。执行上下文在这个阶段创建。</li></ul></li></ul><h3 id="作用域" tabindex="-1"><a class="header-anchor" href="#作用域" aria-hidden="true">#</a> 作用域</h3><p>简单来说作用域就是一个区域，没有变量。作用域可以嵌套。作用域规定了如何查找变量，也就是确定当前执行代码对变量的访问权限。作用域在函数定义时就已经确定了，不是在函数调用确定。</p><p>ES6 之前 JavaScript 只有全局作用域和函数作用域。ES6 后，增加了块级作用域（最近大括号的作用范围）, 通过let 和 const 声明的变量。</p><ul><li><p>作用域其实由两部分组成：</p><ul><li>记录作用域内变量信息（假设变量，常量，函数等统称为变量）和代码结构信息的东西，称之为 Environment Record。</li><li>一个引用<code>__outer__</code>，这个引用指向当前作用域的父作用域。全局作用域的<code>__outer__</code>为 null。</li></ul></li><li><p>词法作用域</p></li></ul><p>JavaScript 采用词法作用域(lexical scoping)，也就是静态作用域。</p><p>所谓词法（代码）作用域，就是代码在编写过程中体现出来的作用范围，代码一旦写好了，没有运行之前（不用执行），作用范围就已经确定好了，这个就是所谓的词法作用域。</p><ul><li>词法作用域的规则: <ul><li>函数允许访问函数外部的数据</li><li>整个代码结构中只有函数才能限定作用域</li><li>作用规则首先使用变量提升规则分析</li><li>如果当前作用规则里面有该名字，则不考虑外面的外面的名字</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//====&gt;  1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="作用域链" tabindex="-1"><a class="header-anchor" href="#作用域链" aria-hidden="true">#</a> 作用域链</h3><p>当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的指针链表就叫做作用域链。</p><p>作用域链本质上是一个指向当前环境与上层环境的一系列变量对象的指针列表（它只引用但不实际包含变量对象），作用域链保证了当前执行环境对符合访问权限的变量和函数的有序访问。</p><p>例子：</p><p>用一个数组scopeChain来表示作用域链，数组的第一项scopeChain[0]为作用域链的最前端，而数组的最后一项，为作用域链的最末端，所有的最末端都为全局变量对象。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先，代码开始运行时就创建了全局上下文环境，接着运行到out()时创建 out函数的执行上下文，最后运行到inner()时创建 inner函数的执行上下文，我们设定他们的变量对象分别为VO(global)，VO(out), VO(inner)。</p><p>当函数创建时，执行上下文为：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 全局上下文环境</span>
globalEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">out</span><span class="token operator">:</span> <span class="token operator">&lt;</span>out reference<span class="token operator">&gt;</span><span class="token punctuation">,</span>  <span class="token comment">// 表示 out 的地址引用</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 作用域链</span>
<span class="token punctuation">}</span>

<span class="token comment">// out 函数的执行上下文</span>
outEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">inner</span><span class="token operator">:</span> <span class="token operator">&lt;</span>inner reference<span class="token operator">&gt;</span><span class="token punctuation">,</span>  <span class="token comment">// 表示 inner 的地址引用</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 作用域链</span>
<span class="token punctuation">}</span>

<span class="token comment">// inner 函数的执行上下文</span>
innerEC <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">VO</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">arguments</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">scopeChain</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">VO</span><span class="token punctuation">(</span>inner<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">VO</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 作用域链</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="执行上下文" tabindex="-1"><a class="header-anchor" href="#执行上下文" aria-hidden="true">#</a> 执行上下文</h3><p>简单来说，当在代码执行阶段执行到一个函数的时候，就会进行准备工作，这里的“准备工作”，就叫做&quot;执行上下文(EC)&quot;，也叫执行上下文环境，也叫执行环境。js引擎创建了执行上下文栈（Execution context stack，ECS）来管理执行上下文。</p><p>当调用一个函数时，一个新的执行上下文就会被创建。而一个执行上下文的生命周期可</p><ul><li><p>以分为两个阶段：</p><ul><li>创建阶段：在这个阶段，执行上下文会分别创建变量对象，建立作用域链，以及确定this的指向。</li><li>代码执行阶段：开始执行代码，会完成变量赋值，函数引用，以及执行其他代码。</li></ul></li><li><p>特点</p><ul><li>处于活动状态的执行上下文环境只有一个, 只有栈顶的上下文处于活动状态，执行其中的代码。</li><li>函数每调用一次，都会产生一个新的执行上下文环境。</li><li>全局上下文在代码开始执行时就创建，只有唯一的一个，永远在栈底，浏览器窗口关闭时出栈。</li><li>函数被调用的时候创建上下文环境。</li></ul></li></ul><h3 id="变量对象" tabindex="-1"><a class="header-anchor" href="#变量对象" aria-hidden="true">#</a> 变量对象</h3><p><strong>变量对象的创建过程</strong></p><ul><li><p>建立arguments对象。检查当前上下文中的参数，建立该对象下的属性与属性值。</p></li><li><p>检查当前上下文的函数声明，也就是使用function关键字声明的函数。在变量对象中以函数名建立一个属性，属性值为指向该函数所在内存地址的引用。如果函数名的属性已经存在，那么该属性将会被新的引用所覆盖。</p></li><li><p>检查当前上下文中的变量声明，每找到一个变量声明，就在变量对象中以变量名建立一个属性，属性值为undefined。如果该变量名的属性已经存在，为了防止同名的函数被修改为undefined，则会直接跳过，原属性值不会被修改。</p></li></ul><h3 id="活动对象" tabindex="-1"><a class="header-anchor" href="#活动对象" aria-hidden="true">#</a> 活动对象</h3><p>变量对象与活动对象其实都是同一个对象，只是处于执行上下文的不同生命周期。不过只有处于函数调用栈栈顶的执行上下文中的变量对象，才会变成活动对象。</p><h3 id="执行上下文栈" tabindex="-1"><a class="header-anchor" href="#执行上下文栈" aria-hidden="true">#</a> 执行上下文栈</h3><ul><li>执行上下文可以理解为当前代码的执行环境，JavaScript中的运行环境大概包括三种情况： <ul><li>全局环境：JavaScript代码运行起来会首先进入该环境</li><li>函数环境：当函数被调用执行时，会进入当前函数中执行代码</li><li>eval</li></ul></li></ul><p>在代码开始执行时，首先会产生一个全局执行上下文环境，调用函数时，会产生函数执行上下文环境，函数调用完成后，它的执行上下文环境以及其中的数据都会被销毁，重新回到全局执行环境，网页关闭后全局执行环境也会销毁。其实这是一个压栈出栈的过程，全局上下文环境永远在栈底，而当前正在执行的函数上下文在栈顶。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>             <span class="token comment">// 1.进入全局上下文环境</span>
<span class="token keyword">function</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 3. 进入inner函数上下文环境</span>
<span class="token punctuation">}</span>
<span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2. 进入out函数上下文环境</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>以上代码的执行会经历以下过程： <ul><li>当代码开始执行时就创建全局执行上下文环境，全局上下文入栈。</li><li>全局上下文入栈后，其中的代码开始执行，进行赋值、函数调用等操作，执行到out()时，激活函数out创建自己的执行上下文环境，out函数上下文入栈。</li><li>out函数上下文入栈后，其中的代码开始执行，进行赋值、函数调用等操作，执行到inner()时，激活函数inner创建自己的执行上下文环境，inner函数上下文入栈。</li><li>inner函数上下文入栈后，其中的代码开始执行，进行赋值、函数调用、打印等操作，由于里面没有可以生成其他执行上下文的需要，所有代码执行完毕后，inner函数上下文出栈。</li><li>inner函数上下文出栈，又回到了out函数执行上下文环境，接着执行out函数中后面剩下的代码，由于后面没有可以生成其他执行上下文的需要，所有代码执行完毕后，out函数上下文出栈。</li><li>out函数上下文出栈后，又回到了全局执行上下文环境，直到浏览器窗口关闭，全局上下文出栈。</li></ul></li></ul><h3 id="作用域与执行上下文区别" tabindex="-1"><a class="header-anchor" href="#作用域与执行上下文区别" aria-hidden="true">#</a> 作用域与执行上下文区别</h3><p>作用域只是一个“地盘”，其中没有变量。变量是通过作用域对应的执行上下文环境中的变量对象来实现的。所以作用域是静态观念的，而执行上下文环境是动态上的。有闭包存在时，一个作用域存在两个上下文环境也是有的。</p><p>同一个作用域下，对同一个函数的不同的调用会产生不同的执行上下文环境，继而产生不同的变量的值，所以，作用域中变量的值是在执行过程中确定的，而作用域是在函数创建时就确定的。</p><p>如果要查找一个作用域下某个变量的值，就需要找到这个作用域对应的执行上下文环境，再在其中找到变量的值。</p><h2 id="变量提升" tabindex="-1"><a class="header-anchor" href="#变量提升" aria-hidden="true">#</a> 变量提升</h2><p>在Javascript中，函数及变量的声明都将被提升到函数的最顶部，提升的仅仅是变量的声明，变量的赋值并不会被提升。函数的声明与变量的声明是不一样的，函数表达式和变量表达式只是其声明被提升，函数声明是函数的声明和实现都被提升。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;global foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;global bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//定义全局变量</span>
<span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">&quot;global var&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">hoistMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// var bar; 被提升到顶部，并未实现</span>
  <span class="token comment">// var v;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span>

  <span class="token comment">// 函数里面定义了同名的函数和变量，无论在函数的任何位置定义这些函数和和变量，它们都将被提升到函数的最顶部。</span>

  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//local foo</span>
  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//报错，TypeError &quot;bar is not a function&quot;</span>

    <span class="token comment">//函数声明，变量foo以及其实现被提升到hoistMe函数顶部</span>
  <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;local foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//函数表达式,仅变量bar被提升到函数顶部，实现没有被提升</span>
  <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;local bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//定义局部变量</span>
  <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">&quot;local&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="let-变量提升" tabindex="-1"><a class="header-anchor" href="#let-变量提升" aria-hidden="true">#</a> let 变量提升</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: a is not defined</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;I am a&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">&quot;I am outside B&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Uncaught ReferenceError: b is not defined</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">&quot; I am inside B&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果b没有变量提升，执行到console.log时应该是输出全局作用域中的b，而不是出现错误。</p><p>我们可以推知，这里确实出现了变量提升，而我们不能够访问的原因事实上是因为let的死区设计：当前作用域顶部到该变量声明位置中间的部分，都是该let变量的死区，在死区中，禁止访问该变量。由此，我们给出结论，let声明的变量存在变量提升， 但是由于死区我们无法在声明前访问这个变量。</p><h3 id="var-let-区别" tabindex="-1"><a class="header-anchor" href="#var-let-区别" aria-hidden="true">#</a> var let 区别</h3><ul><li><p>var声明的变量，只有函数才能为它创建新的作用域； let声明的变量，支持块级作用域，花括号就能为它创建新的作用域；</p></li><li><p>相同作用域，var可以反复声明相同标识符的变量，而let是不允许的;</p></li><li><p>let声明的变量禁止在声明前访问</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 全局变量</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
<span class="token comment">// 定义外部函数</span>
<span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 访问全局变量</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

    <span class="token keyword">function</span> <span class="token function">inner1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">inner2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
        <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
    <span class="token punctuation">}</span>

    <span class="token function">inner1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">inner2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="闭包" tabindex="-1"><a class="header-anchor" href="#闭包" aria-hidden="true">#</a> 闭包</h2><p>闭包就是指有权访问另一个函数作用域中的变量的函数。</p><p>官方解释：闭包是由函数以及创建该函数的词法环境组合而成。这个环境包含了这个闭包创建时所能访问的所有局部变量。(词法作用域) 通俗解释：闭包的关键在于：外部函数调用之后其变量对象本应该被销毁，但闭包的存在使我们仍然可以访问外部函数的变量对象。</p><p>当某个函数被掉用的时候，会创建一个执行环境及相应的作用域链。然后使用arguments和其他命名参数的值来初始化函数的活动对象。但在作用域链中，外部函数的活动对象始终处于第二位，外部函数的外部函数的活动对象处于第三位...直至作为作用域链终点的全局执行环境。</p><p>作用域链本质上是一个指向变量对象的指针列表，他只引用但不实际包含变量对象。</p><p>无论什么时候在函数中访问一个变量时，就会从作用域链中搜索具有相同名字的变量，一般来讲，当函数执行完毕，局部活动对象就会被销毁，内存中仅保存全部作用域的活动对象。但是，闭包不同。</p><p>创建闭包: 在一个函数内部创建另一个函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    b<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> closure<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 闭包的作用域链包含着它自己的作用域，以及包含它的函数的作用域和全局作用域。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h3><p>通常，函数的作用域及其所有变量都会在函数执行结束后被销毁。但是，在创建了一个闭包以后，这个函数的作用域就会一直保存到闭包不存在为止。</p><p>当闭包中的函数closure从add中返回后，它的作用域链被初始化为包含add函数的活动对象和全局变量对象。这样closure就可以访问在add中定义的所有变量。</p><p>更重要的是，add函数在执行完毕后，也不会销毁，因为closure函数的作用域链仍然在引用这个活动对象。</p><p>换句话说，当add返回后，其执行环境的作用域链被销毁，但它的活动对象仍然在内存中，直至closure被销毁。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> closure<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> add2 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> add5 <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// add2 和 add5 共享相同的函数定义，但是保存了不同的环境</span>
<span class="token comment">// 在add2的环境中，x为5。而在add5中，x则为10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add5</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>

<span class="token comment">// 释放闭包的引用</span>
add2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
add5 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="闭包中的this对象" tabindex="-1"><a class="header-anchor" href="#闭包中的this对象" aria-hidden="true">#</a> 闭包中的this对象</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&#39;window&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// window</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>obj.getName()()是在全局作用域中调用了匿名函数，this指向了window。 函数名与函数功能是分割开的，不要认为函数在哪里，其内部的this就指向哪里。 window才是匿名函数功能执行的环境。</p><ul><li><p>使用注意点</p><ul><li>由于闭包会让包含函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</li><li>闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</li></ul></li><li><p>使用</p><ul><li>模仿块级作用域</li><li>私有变量</li><li>模块模式</li></ul></li></ul><p>在循环中创建闭包：一个常见错误</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">showCallback</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试1【3，3，3】</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// var i;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试2 【0，1，2】</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token function">showCallback</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试3【0，1， 2】 闭包,立即执行函数</span>
<span class="token comment">// 在闭包函数内部形成了局部作用域，每循环一次，形成一个自己的局部作用域</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试4【0，1， 2】let</span>
<span class="token keyword">const</span> <span class="token function-variable function">testFunc4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>setTimeout()函数回调属于异步任务，会出现在宏任务队列中，被压到了任务队列的最后，在这段代码应该是for循环这个同步任务执行完成后才会轮到它</p><p>测试1错误原因：赋值给 setTimeout 的是闭包。这些闭包是由他们的函数定义和在 testFunc1 作用域中捕获的环境所组成的。这三个闭包在循环中被创建，但他们共享了同一个词法作用域，在这个作用域中存在一个变量i。这是因为变量i使用var进行声明，由于变量提升，所以具有函数作用域。当onfocus的回调执行时，i的值被决定。由于循环在事件触发之前早已执行完毕，变量对象i（被三个闭包所共享）已经指向了i的最后一个值。</p><p>测试2正确原因: 所有的回调不再共享同一个环境， showCallback 函数为每一个回调创建一个新的词法环境。在这些环境中，i 指向数组中对应的下标。</p><p>测试4正确原因：JS中的for循环体比较特殊，每次执行都是一个全新的独立的块作用域，用let声明的变量传入到 for循环体的作用域后，不会发生改变，不受外界的影响。</p><h2 id="this指向问题" tabindex="-1"><a class="header-anchor" href="#this指向问题" aria-hidden="true">#</a> this指向问题</h2><p>this 就是一个指针，指向我们调用函数的对象。 执行上下文: 是语言规范中的一个概念，用通俗的话讲，大致等同于函数的执行“环境”。具体的有：变量作用域（和 作用域链条，闭包里面来自外部作用域的变量），函数参数，以及 this 对象的值。 找出 this 的指向 this 的值并不是由函数定义放在哪个对象里面决定，而是函数执行时由谁来唤起决定。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;Jay Global&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jay Person&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">details</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Jay Details&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">print</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">print</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>details<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 【details对象调用的print】Jay Details</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 【person对象调用的print】Jay Person</span>

<span class="token keyword">var</span> name1 <span class="token operator">=</span> person<span class="token punctuation">.</span>print<span class="token punctuation">;</span>
<span class="token keyword">var</span> name2 <span class="token operator">=</span> person<span class="token punctuation">.</span>details<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">name1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 【name1前面没有调用对象，所以是window】Jay Global</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name2<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 【name2对象调用的print】Jay Details</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>this和箭头函数</strong></p><p>箭头函数按词法作用域来绑定它的上下文，所以 this 实际上会引用到原来的上下文。箭头函数保持它当前执行上下文的词法作用域不变，而普通函数则不会。换句话说，箭头函数从包含它的词法作用域中继承到了 this 的值。 匿名函数，它不会作为某个对象的方法被调用, 因此，this 关键词指向了全局 window 对象。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataDouble</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">double</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// this是当前object,object调用的double</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 传给map()的那个匿名函数没有被任一对象调用，所以是window</span>
            <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">doubleArrow</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataDouble<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// this是当前object,object调用的doubleArrow</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// doubleArrow是object调用的，这就是上下文，所以是window</span>
            <span class="token keyword">return</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">double</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
object<span class="token punctuation">.</span><span class="token function">doubleArrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>明确设置执行上下文</p><ul><li>在 JavaScript 中通过使用内置的特性开发者就可以直接操作执行上下文了。这些特性包括： <ul><li>bind()：不需要执行函数就可以将 this 的值准确设置到你选择的一个对象上。通过逗号隔开传递多个参数。设置好 this 关键词后不会立刻执行函数。</li><li>apply()：将 this 的值准确设置到你选择的一个对象上。apply(thisObj, argArray)接收两个参数，thisObj是函数运行的作用域（this），argArray是参数数组，数组的每一项是你希望传递给函数的参数。如果没有提供argArray和thisObj任何一个参数，那么Global对象将用作thisObj。最后，会立刻执行函数。</li><li>call()：将 this 的值准确设置到你选择的一个对象上。然后像bind 一样通过逗号分隔传递多个参数给函数。语法：call(thisObj,arg1,arg2,..., argn);，如果没有提供thisObj参数，那么Global对象被用于thisObj。最后，会立刻执行函数。</li></ul></li></ul><p><strong>this 和 bind</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> bobObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> printNameBob <span class="token operator">=</span> <span class="token function">print</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>bobObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">printNameBob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Bob</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>this 和 call</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> add<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>this 和 apply</strong></p><p>apply 就是接受数组版本的call。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 1</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 NaN。只接受数字</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 1</span>

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> grade</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Person.call(this, name, age);</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;sansan&quot;</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token string">&quot;一年级&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;student:&quot;</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &#39;sansan&#39;; age: &#39;21&#39;, grade: &#39;一年级&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果你的参数本来就存在一个数组中，那自然就用 apply，如果参数比较散乱相互之间没什么关联，就用 call。</p></blockquote><h2 id="对象属性类型" tabindex="-1"><a class="header-anchor" href="#对象属性类型" aria-hidden="true">#</a> 对象属性类型</h2><blockquote><p>数据属性</p></blockquote><ul><li>数据属性包含一个数据值的位置，在这个位置可以读取和写入值，数据属性有4个描述其行为的特性： <ul><li>Configurable: 表示是否通过delete删除属性从而重新定义属性，能否修改属性的特性，或者能否把属性修改为访问器属性。默认值是true</li><li>Enumerable: 表示能否通过for-in循环返回属性。默认值是true</li><li>Writable: 表述能否修改属性。默认值是true</li><li>Value: 包含这个属性的数据值。默认值是true</li></ul></li></ul><blockquote><p>访问器属性</p></blockquote><h2 id="函数式编程" tabindex="-1"><a class="header-anchor" href="#函数式编程" aria-hidden="true">#</a> 函数式编程</h2><p>函数式编程是一种编程范式，是一种构建计算机程序结构和元素的风格，它把计算看作是对数学函数的评估，避免了状态的变化和数据的可变。</p><h3 id="纯函数" tabindex="-1"><a class="header-anchor" href="#纯函数" aria-hidden="true">#</a> 纯函数</h3><p>纯函数是稳定的、一致的和可预测的。给定相同的参数，纯函数总是返回相同的结果。</p><h3 id="特性" tabindex="-1"><a class="header-anchor" href="#特性" aria-hidden="true">#</a> 特性</h3><ol><li>如果给定相同的参数，则得到相同的结果</li></ol><p>我们想要实现一个计算圆的面积的函数。 不是纯函数会这样做:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">calculateArea</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> radius <span class="token operator">*</span> radius <span class="token operator">*</span> <span class="token constant">PI</span><span class="token punctuation">;</span>
<span class="token comment">// 它使用了一个没有作为参数传递给函数的全局对象</span>
<span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 314.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>纯函数：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">calculateArea</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">radius<span class="token punctuation">,</span> pi</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> radius <span class="token operator">*</span> radius <span class="token operator">*</span> pi<span class="token punctuation">;</span>
<span class="token comment">// 现在把 PI 的值作为参数传递给函数，这样就没有外部对象引入。</span>
<span class="token function">calculateArea</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">PI</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 314.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>无明显副作用</li></ol><p>纯函数不会引起任何可观察到的副作用。可见副作用的例子包括修改全局对象或通过引用传递的参数。</p><p>现在，实现一个函数，接收一个整数并返对该整数进行加1操作且返回：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">increaseCounter</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counter <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">increaseCounter</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该非纯函数接收该值并重新分配counter，使其值增加1。 函数式编程不鼓励可变性(修改全局对象)。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">increaseCounter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment">// 函数返回递增的值，而不改变变量的值</span>
<span class="token function">increaseCounter</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>引用透明性</li></ol><p>如果一个函数对于相同的输入始终产生相同的结果，那么它可以看作透明的。 实现一个square 函数：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> n <span class="token operator">*</span> n<span class="token punctuation">;</span>
<span class="token function">square</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4 将2作为square函数的参数传递始终会返回4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>可以把square(2)换成4，我们的函数就是引用透明的。</p><h3 id="纯函数使用" tabindex="-1"><a class="header-anchor" href="#纯函数使用" aria-hidden="true">#</a> 纯函数使用</h3><p><strong>单元测试</strong></p><p>纯函数代码肯定更容易测试，不需要 mock 任何东西。因此我们可以使用不同的上下文对纯函数进行单元测试。</p><p>一个简单的例子是接收一组数字，并对每个数进行加 1 :</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">incrementNumbers</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">list</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">number</span> <span class="token operator">=&gt;</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">incrementNumbers</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 3, 4, 5, 6]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对于输入[1,2,3,4,5]，预期输出是[2,3,4,5,6]。</p><p><strong>纯函数也可以被看作成值并用作数据使用</strong></p><ul><li><p>从常量和变量中引用它。</p></li><li><p>将其作为参数传递给其他函数。</p></li><li><p>作为其他函数的结果返回它。</p></li></ul><p>其思想是将函数视为值，并将函数作为数据传递。通过这种方式，我们可以组合不同的函数来创建具有新行为的新函数。</p><p>假如我们有一个函数，它对两个值求和，然后将值加倍，如下所示：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doubleSum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对应两个值求差，然后将值加倍：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">doubleSubtraction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这些函数具有相似的逻辑，但区别在于运算符的功能。如果我们可以将函数视为值并将它们作为参数传递，我们可以构建一个接收运算符函数并在函数内部使用它的函数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">subtraction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">doubleOperator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token function">doubleOperator</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token function">doubleOperator</span><span class="token punctuation">(</span>subtraction<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise" tabindex="-1"><a class="header-anchor" href="#promise" aria-hidden="true">#</a> Promise</h2><p>Promise 必须为以下三种状态之一：等待态（Pending）、执行态（Fulfilled）和拒绝态（Rejected）。一旦Promise 被 resolve 或 reject，不能再迁移至其他任何状态（即状态 immutable）。</p><ul><li>基本过程： <ul><li>初始化 Promise 状态（pending）</li><li>执行 then(..) 注册回调处理数组（then 方法可被同一个 promise 调用多次）</li><li>立即执行 Promise 中传入的 fn 函数，将Promise 内部 resolve、reject 函数作为参数传递给 fn ，按事件机制时机处理</li><li>Promise中要保证，then方法传入的参数 onFulfilled 和 onRejected，必须在then方法被调用的那一轮事件循环之后的新执行栈中执行。</li></ul></li></ul><p>真正的链式Promise是指在当前promise达到fulfilled状态后，即开始进行下一个promise.</p><h2 id="跨域" tabindex="-1"><a class="header-anchor" href="#跨域" aria-hidden="true">#</a> 跨域</h2><p>因为浏览器的同源策略导致了跨域。同源策略是一个重要的安全策略，它用于限制一个origin的文档或者它加载的脚本如何能与另一个源的资源进行交互。它能帮助阻隔恶意文档，减少可能被攻击的媒介。</p><p>所谓同源是指&quot;协议+域名+端口&quot;三者相同。不同协议，不同域名，不同端口都会构成跨域。</p><ul><li>跨域解决方案 <ul><li>jsonp: 需要服务器配合一个callback函数</li><li>CORS: 需要服务器设置header ：Access-Control-Allow-Origin</li><li>window.name + iframe: 需要目标服务器响应window.name。</li><li>document.domain : 仅限主域相同，子域不同的跨域应用场景。</li><li>html5的 postMessage + iframe: 需要服务器或者目标页面写一个postMessage，主要侧重于前端通讯。</li><li>nginx反向代理: 不用服务器配合，需要搭建一个中转nginx服务器，用于转发请求。</li></ul></li></ul><h3 id="jsonp跨域" tabindex="-1"><a class="header-anchor" href="#jsonp跨域" aria-hidden="true">#</a> jsonp跨域</h3><p>在HTML标签里，一些标签比如script、img这样的获取资源的标签是没有跨域限制的。通过动态创建script，再请求一个带参网址实现跨域通信。</p><p>需要前后端配合使用。一般后端设置callback ，前端给后台接口中传一个callback 即可。</p><p>只能实现get一种请求。</p><p>栗子</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span><span class="token punctuation">;</span>

    <span class="token comment">// 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://xxxxxxx:8080/login?callback=handleCallback&#39;</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">handleCallback</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cors-跨域资源共享" tabindex="-1"><a class="header-anchor" href="#cors-跨域资源共享" aria-hidden="true">#</a> CORS - 跨域资源共享</h3><p>CORS是一个W3C标准，全称是&quot;跨域资源共享&quot;（Cross-origin resource sharing）。</p><p>CORS有两种请求，简单请求和非简单请求。只要同时满足以下两大条件，就属于简单请求。</p><p>请求方法是以下三种方法之一：HEAD，GET，POST</p><p>HTTP的头信息不超出以下几种字段：Accept，Accept-Language，Content-Language，Last-Event-ID，Content-Type【只限于三个值application/x-www-form-urlencoded、multipart/form-data、text/plain】，没有自定义的HTTP头部。</p><ul><li>简单请求 <ul><li>浏览器：把客户端脚本所在的域填充到Origin header里，向其他域的服务器请求资源。</li><li>服务器：根据资源权限配置，在响应头中添加Access-Control-Allow-Origin Header，返回结果。</li><li>浏览器：比较服务器返回的Access-Control-Allow-Origin Header和请求域的Origin。如果当前域已经得到授权，则将结果返回给页面。否则浏览器忽略此次响应。</li><li>网页：收到返回结果或者浏览器的错误提示。</li></ul></li></ul><p>对于简单的跨域请求，只要服务器设置的Access-Control-Allow-Origin Header和请求来源匹配，浏览器就允许跨域。服务器端设置的`Access-Control-Allow-Methods和Access-Control-Allow-Headers对简单跨域没有作用。</p><ul><li>非简单请求 <ul><li>浏览器：先向服务器发送一个OPTIONS预检请求，检测服务器端是否支持真实请求进行跨域资源访问，浏览器会在发送OPTIONS请求时会自动添加Origin Header 、Access-Control-Request-Method Header和Access-Control-Request-Headers Header。</li><li>服务器：响应OPTIONS请求，会在responseHead里添加Access-Control-Allow-Methods head。这其中的method的值是服务器给的默认值，可能不同的服务器添加的值不一样。服务器还会添加Access-Control-Allow-Origin Header和Access-Control-Allow-Headers Header。这些取决于服务器对OPTIONS请求具体如何做出响应。如果服务器对OPTIONS响应不合你的要求，你可以手动在服务器配置OPTIONS响应，以应对带预检的跨域请求。在配置服务器OPTIONS的响应时，可以添加Access-Control-Max-Age head告诉浏览器在一定时间内无需再次发送预检请求，但是如果浏览器禁用缓存则无效。</li><li>浏览器：接到OPTIONS的响应，比较真实请求的method是否属于返回的Access-Control-Allow-Methods head的值之一，还有origin, head也会进行比较是否匹配。如果通过，浏览器就继续向服务器发送真实请求, 否则就会报预检错误：请求来源不被options响应允许，请求方法不被options响应允许或请求中有自定义header不被options响应允许。</li><li>服务器：响应真实请求，在响应头中放入Access-Control-Allow-Origin Header、Access-Control-Allow-Methods和Access-Control-Allow-Headers Header，分别表示允许跨域资源请求的域、请求方法和请求头，并返回数据。</li><li>浏览器：接受服务器对真实请求的返回结果，返回给网页</li><li>网页：收到返回结果或者浏览器的错误提示。</li></ul></li></ul><p>Access-Control-Allow-Origin在响应options请求和响应真实请求时都是有作用的，两者必须同时包含要跨域的源。 Access-Control-Allow-Methods和Access-Control-Allow-Headers只在响应options请求时有作用。</p><ul><li>携带cookie</li></ul><p>在 CORS 跨域中，浏览器并不会自动发送 Cookie。对于普通跨域请求只需服务端设置，而带cookie跨域请求前后端都需要设置。</p><p>浏览器，对于跨域请求，需要设置withCredentials 属性为 true。服务端的响应中必须携带 Access-Control-Allow-Credentials: true 。</p><p>除了Access-Control-Allow-Credentials之外，跨域发送 Cookie 还要求 Access-Control-Allow-Origin不允许使用通配符。否则浏览器将会抛出The value of the &#39;Access-Control-Allow-Origin&#39; header in the response must not be the wildcard &#39;*&#39; 错误。事实上不仅不允许通配符，而且只能指定单一域名。</p><ul><li>计算 Access-Control-Allow-Origin</li></ul><p>既然Access-Control-Allow-Origin只允许单一域名， 服务器可能需要维护一个接受 Cookie 的 Origin 列表， 验证 Origin 请求头字段后直接将其设置为Access-Control-Allow-Origin的值。在 CORS 请求被重定向后 Origin 头字段会被置为 null， 此时可以选择从Referer头字段计算得到Origin。</p><ul><li>具体实现</li></ul><p>服务器端的响应头配置</p><p>Access-Control-Allow-Origin 可以设置为* ，表示可以与任意域进行数据共享。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// 设置服务器接受跨域的域名
&quot;Access-Control-Allow-Origin&quot;: &quot;http://127.0.0.1:8080&quot;,
// 设置服务器接受跨域的请求方法
&#39;Access-Control-Allow-Methods&#39;: &#39;OPTIONS,HEAD,DELETE,GET,PUT,POST&#39;,
// 设置服务器接受跨域的headers
&#39;Access-Control-Allow-Headers&#39;: &#39;x-requested-with, accept, origin, content-type&#39;,
// 设置服务器不用再次预检请求时间
&#39;Access-Control-Max-Age&#39;: 10000,
// 设置服务器接受跨域发送Cookie
&#39;Access-Control-Allow-Credentials&#39;: true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>document.domain 此方案仅限主域相同，子域不同的跨域应用场景。</p><p>实现原理：两个页面都通过js强制设置document.domain为基础主域，就实现了同域。</p><p>栗子：</p><p>在父页面 http://xxx.com/a.html 中设置document.domain</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span>iframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xxx.com/b.html<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">onload</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> <span class="token punctuation">&quot;</span><span class="token value javascript language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;xxx.com&#39;</span><span class="token punctuation">;</span><span class="token comment">//设置成主域</span>
    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">alert</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;￼iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token comment">//contentWindow 可取得子窗口的 window 对象</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在子页面http://xxx.com/b.html 中设置document.domain</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">&#39;xxx.com&#39;</span><span class="token punctuation">;</span>
    <span class="token comment">//在iframe载入这个页面也设置document.domain，使之与主页面的document.domain相同</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>window.postMessage</li></ul><p>window.postMessage是html5的功能，是客户端和客户端直接的数据传递，既可以跨域传递，也可以同域传递。</p><ul><li>postMessage(data, origin)方法接受两个参数： <ul><li>data：html5规范支持任意基本类型或可复制的对象，但部分浏览器只支持字符串，所以传参时最好用JSON.stringify()序列化。</li><li>origin：协议+主机+端口号，也可以设置为&quot;*&quot;，表示可以传递给任意窗口，如果要指定和当前窗口同源的话设置为&quot;/&quot;。</li></ul></li></ul><p>栗子：</p><p>假如有一个页面，页面中拿到部分用户信息，点击进入另外一个页面，另外的页面默认是取不到用户信息的，你可以通过window.postMessage把部分用户信息传到这个页面中。（需要考虑安全性等方面。）</p><p>发送消息：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 弹出一个新窗口</span>
<span class="token keyword">var</span> domain <span class="token operator">=</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> myPopup <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/windowPostMessageListener.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token string">&#39;myWindow&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 发送消息</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;站点&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;传递的数据是  &#39;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  myPopup<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接收消息：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 监听消息反馈</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断域名是否正确</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;received response: &#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是使用iframe，代码应该这样写：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 捕获iframe</span>
<span class="token keyword">var</span> domain <span class="token operator">=</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;myIFrame&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">;</span>

<span class="token comment">// 发送消息</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;站点&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;传递的数据是:  &#39;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    iframe<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> domain<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接收数据并反馈信息：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 响应事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;message&#39;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin <span class="token operator">!==</span> <span class="token string">&#39;http://haorooms.com&#39;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;message received:  &#39;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>data<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>几个比较重要的事件属性： source – 消息源，消息的发送窗口/iframe。 origin – 消息源的URI(可能包含协议、域名和端口)，用来验证数据源。 data – 发送方发送给接收方的数据。</p><p>window.name 原理： window对象有个name属性，该属性有个特征：即在一个窗口(window)的生命周期内,窗口载入的所有的页面都是共享一个window.name，每个页面对window.name都有读写的权限，window.name是持久存在一个窗口载入过的所有页面中的。</p><p>栗子： 在子页面(b.com/data.html) 设置window.name：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- b.com/data.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   window<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;I was there!&#39;</span><span class="token punctuation">;</span>
   <span class="token comment">// 这里是要传输的数据，大小一般为2M，IE和firefox下可以大至32M左右</span>
   <span class="token comment">// 数据格式可以自定义，如json、字符串</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在父页面（a.com/app.html）中创建一个iframe，把其src指向子页面。在父页面监听iframe的onload事件，获取子页面数据：</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- a.com/app.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;iframe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    iframe<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://b.com/data.html&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">iframelLoadFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> data <span class="token operator">=</span> iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>name<span class="token punctuation">;</span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 获取数据以后销毁iframe，释放内存；这也保证了安全（不被其他域frame js访问）。</span>
      <span class="token function">iframeDestoryFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">iframeDestoryFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>iframe<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&#39;onload&#39;</span><span class="token punctuation">,</span> iframelLoadFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        iframe<span class="token punctuation">.</span>onload <span class="token operator">=</span> iframelLoadFn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>http-proxy-middleware</li></ul><p>http-proxy-middleware用于把请求代理转发到其他服务器的中间件。 安装：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> http-proxy-middleware --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>配置如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 请求到 &#39;/device&#39; 下的请求都会被代理到target：http://target.com中</span>
      <span class="token string-property property">&#39;/device/*&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://target.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 接受运行在https上的服务</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;/device/space&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 被代理到 http://target.com/device/space</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 使用的url 必须以/开始 否则不会代理到指定地址</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&#39;device/space&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// http://localhost:8080/device/space 访问本地服务</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>nginx反向代理</li></ul><p>反向代理（Reverse Proxy）方式是指以代理服务器来接受客户端的连接请求，然后将请求转发给内部网络上的服务器；并将从服务器上得到的结果返回给客户端，此时代理服务器对外就表现为一个服务器。</p><p>反向代理服务器对于客户端而言它就像是原始服务器，并且客户端不需要进行任何特别的设置。客户端向反向代理 的命名空间(name-space)中的内容发送普通请求，接着反向代理将判断向何处(原始服务器)转交请求，并将获得的内容返回给客户端，就像这些内容 原本就是它自己的一样。</p><h2 id="模块化" tabindex="-1"><a class="header-anchor" href="#模块化" aria-hidden="true">#</a> 模块化</h2><p>AMD/CMD/CommonJs都是JS模块化开发的标准，目前对应的实现是RequireJS，SeaJs, nodeJs;</p><p>CommonJS：服务端js CommonJS 是以在浏览器环境之外构建 javaScript 生态系统为目标而产生的写一套规范，主要是为了解决 javaScript 的作用域问题而定义的模块形式，可以使每个模块它自身的命名空间中执行。</p><p>实现方法：模块必须通过 module.exports 导出对外的变量或者接口，通过 require() 来导入其他模块的输出到当前模块的作用域中；</p><p>主要针对服务端（同步加载文件）和桌面环境中，node.js 遵循的是 CommonJS 的规范；CommonJS 加载模块是同步的，所以只有加载完成才能执行后面的操作。</p><p>require()用来引入外部模块；</p><p>exports对象用于导出当前模块的方法或变量，唯一的导出口；</p><p>module对象就代表模块本身。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个module.js文件</span>
<span class="token keyword">var</span> <span class="token function-variable function">A</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是定义的模块&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1.第一种返回方式</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>
<span class="token comment">// 2.第二种返回方式</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token constant">A</span>
<span class="token comment">// 3.第三种返回方式</span>
exports<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span>

<span class="token comment">// 定义一个test.js文件【这两个文件在同一个目录下】</span>
<span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./module&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//调用这个模块，不同的返回方式用不同的方式调用</span>
<span class="token comment">// 1.第一种调用方式</span>
<span class="token function">module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2.第二种调用方式</span>
module<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3.第三种调用方式</span>
module<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 执行文件</span>
node test<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>AMD：异步模块定义【浏览器端js】 AMD 是 Asynchronous Module Definition 的缩写，意思是异步模块定义；采用的是异步的方式进行模块的加载，在加载模块的时候不影响后边语句的运行。主要是为前端 js 的表现指定的一套规范。</p><p>实现方法：通过define方法去定义模块，通过require方法去加载模块。 define(id?,dependencies?,factory): 它要在声明模块的时候制定所有的依赖(dep)，并且还要当做形参传到factory中。没什么依赖，就定义简单的模块（或者叫独立的模块） require([modules], callback): 第一个参数[modules]，是需加载的模块名数组；第二个参数callback，是模块加载成功之后的回调函数</p><p>主要针对浏览器js，requireJs遵循的是 AMD 的规范；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// module1.js文件, 定义独立的模块</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">methodA</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是module1的methodA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function-variable function">methodB</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是module1的methodB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// module2.js文件, 另一种定义独立模块的方式</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">methodA</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是module2的methodA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function-variable function">methodB</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我是module2的methodB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// module3.js文件, 定义非独立的模块（这个模块依赖其他模块）</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;module2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">m1<span class="token punctuation">,</span> m2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">methodC</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            m1<span class="token punctuation">.</span><span class="token function">methodA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            m2<span class="token punctuation">.</span><span class="token function">methodB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//定义一个main.js，去加载这些个模块</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;module3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">m3</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    m3<span class="token punctuation">.</span><span class="token function">methodC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 为避免造成网页失去响应，解决办法有两个，一个是把它放在网页底部加载，另一个是写成下面这样：</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/require.js&quot;</span> defer async<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token comment">// async属性表明这个文件需要异步加载，避免网页失去响应。</span>
<span class="token comment">// IE不支持这个属性，只支持defer，所以把defer也写上。</span>

<span class="token comment">// data-main属性: 指定网页程序的主模块</span>
<span class="token operator">&lt;</span>script data<span class="token operator">-</span>main<span class="token operator">=</span><span class="token string">&quot;main&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;js/require.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token comment">// 控制台输出结果</span>
我是module1的methodA
我是module2的methodB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>CMD：通用模块定义【浏览器端js】 CMD 是 Common Module Definition 的缩写，通过异步的方式进行模块的加载的，在加载的时候会把模块变为字符串解析一遍才知道依赖了哪个模块；</p><p>主要针对浏览器端（异步加载文件），按需加载文件。对应的实现是seajs</p><p>AMD和CMD的区别 对于依赖的模块，AMD 是提前执行，CMD 是延迟执行。不过 RequireJS 从 2.0 开始，也改成可以延迟执行（根据写法不同，处理方式不同）。CMD 推崇 as lazy as possible（尽可能的懒加载，也称为延迟加载，即在需要的时候才加载）。</p><p>CMD 推崇依赖就近，AMD 推崇依赖前置。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// CMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">require<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 依赖可以就近书写</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// AMD</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 依赖必须一开始就写好</span>
    a<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    b<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>import和require区别 import和require都是被模块化使用。</p><p>require是CommonJs的语法（AMD规范引入方式），CommonJs的模块是对象。import是es6的一个语法标准（浏览器不支持，本质是使用node中的babel将es6转码为es5再执行，import会被转码为require），es6模块不是对象。</p><p>require是运行时加载整个模块（即模块中所有方法），生成一个对象，再从对象上读取它的方法（只有运行时才能得到这个对象,不能在编译时做到静态化），理论上可以用在代码的任何地方。import是编译时调用，确定模块的依赖关系，输入变量（es6模块不是对象，而是通过export命令指定输出代码，再通过import输入，只加载import中导的方法，其他方法不加载），import具有提升效果，会提升到模块的头部（编译时执行）</p><p>export和import可以位于模块中的任何位置，但是必须是在模块顶层，如果在其他作用域内，会报错(es6这样的设计可以提高编译器效率，但没法实现运行时加载)。</p><p>require是赋值过程，把require的结果（对象，数字，函数等），默认是export的一个对象，赋给某个变量（复制或浅拷贝）。import是解构过程（需要谁，加载谁）。</p><p>require/exports:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// require: 真正被require出来的是来自module.exports指向的内存块内容</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span> <span class="token comment">//</span>

<span class="token comment">// exports: 只是 module.exports的引用，辅助module.exports操作内存中的数据</span>
exports<span class="token punctuation">.</span>a <span class="token operator">=</span> a
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>import/export:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// import</span>
<span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> a  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span>  <span class="token operator">*</span>  <span class="token keyword">as</span> a  <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> fun1<span class="token punctuation">,</span>fun2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// export</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> a<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> functon a <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> fun1<span class="token punctuation">,</span> fun2 <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http和https" tabindex="-1"><a class="header-anchor" href="#http和https" aria-hidden="true">#</a> http和https</h2><p>Http：超文本传输协议（Http，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。设计Http最初的目的是为了提供一种发布和接收HTML页面的方法。它可以使浏览器更加高效。</p><p>Http协议是以明文方式发送信息的，如果黑客截取了Web浏览器和服务器之间的传输报文，就可以直接获得其中的信息。</p><p>Https：是以安全为目标的Http通道，是Http的安全版。Https的安全基础是SSL。SSL协议位于TCP/IP协议与各种应用层协议之间，为数据通讯提供安全支持。SSL协议可分为两层：SSL记录协议（SSL Record Protocol），它建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能的支持。</p><p>SSL握手协议（SSL Handshake Protocol），它建立在SSL记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。</p><h3 id="http与https的区别" tabindex="-1"><a class="header-anchor" href="#http与https的区别" aria-hidden="true">#</a> HTTP与HTTPS的区别</h3><ul><li>HTTP是超文本传输协议，信息是明文传输，HTTPS是具有安全性的SSL加密传输协议。</li><li>HTTPS协议需要ca申请证书，一般免费证书少，因而需要一定费用。</li><li>HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样。前者是80，后者是443。</li><li>HTTP连接是无状态的，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，安全性高于HTTP协议。</li></ul><h3 id="https的优点" tabindex="-1"><a class="header-anchor" href="#https的优点" aria-hidden="true">#</a> https的优点</h3><p>尽管HTTPS并非绝对安全，掌握根证书的机构、掌握加密算法的组织同样可以进行中间人形式的攻击，但HTTPS仍是现行架构下最安全的解决方案，主要有以下几个好处：</p><ul><li>使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；</li><li>HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。</li><li>HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。</li><li>谷歌曾在2014年8月份调整搜索引擎算法，并称“比起同等HTTP网站，采用HTTPS加密的网站在搜索结果中的排名将会更高”。</li></ul><h3 id="https的缺点" tabindex="-1"><a class="header-anchor" href="#https的缺点" aria-hidden="true">#</a> Https的缺点</h3><ul><li>Https协议握手阶段比较费时，会使页面的加载时间延长近。</li><li>Https连接缓存不如Http高效，会增加数据开销，甚至已有的安全措施也会因此而受到影响；</li><li>SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗。</li><li>Https协议的加密范围也比较有限。最关键的，SSL证书的信用链体系并不安全，特别是在某些国家可以控制CA根证书的情况下，中间人攻击一样可行。</li></ul><h3 id="遍历方法" tabindex="-1"><a class="header-anchor" href="#遍历方法" aria-hidden="true">#</a> 遍历方法</h3><h3 id="for" tabindex="-1"><a class="header-anchor" href="#for" aria-hidden="true">#</a> for</h3><p>在for循环中，循环取得数组或是数组类似对象的值，譬如arguments和HTMLCollection对象。</p><p>不足：</p><p>在于每次循环的时候数组的长度都要去获取；</p><p>终止条件要明确；</p><h3 id="foreach-map" tabindex="-1"><a class="header-anchor" href="#foreach-map" aria-hidden="true">#</a> foreach()，map()</h3><p>两个方法都可以遍历到数组的每个元素，而且参数一致； forEach(): 对数组的每个元素执行一次提供的函数, 总是返回undefined； map(): 创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。返回值是一个新的数组；</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// undefined</span>

<span class="token keyword">var</span> y <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [11, 12, 13, 14, 15]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="for-in" tabindex="-1"><a class="header-anchor" href="#for-in" aria-hidden="true">#</a> for in</h3><p>经常用来迭代对象的属性或数组的每个元素，它包含当前属性的名称或当前数组元素的索引。 当遍历一个对象的时候，变量 i 是循环计数器 为 对象的属性名, 以任意顺序遍历一个对象的可枚举属性。对于每个不同的属性，语句都会被执行。 当遍历一个数组的时候，变量 i 是循环计数器 为 当前数组元素的索引</p><p>不足：</p><p>for..in循环会把某个类型的原型(prototype)中方法与属性给遍历出来.</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;manager&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;db&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">;</span>
array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name<span class="token operator">=</span> <span class="token string">&quot;zhangshan&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// admin,manager,db,color</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// hasOwnProperty(): 对象的属性或方法是非继承的，返回true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="for-of" tabindex="-1"><a class="header-anchor" href="#for-of" aria-hidden="true">#</a> for … of</h3><p>迭代循环可迭代对象（包括Array，Map，Set，String，TypedArray，arguments 对象）等等。不能遍历对象。只循环集合本身的元素</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;C&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;x&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;y&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;z&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;array&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//&#39;A&#39;, &#39;B&#39;, &#39;C&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">of</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&#39;=&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1=&#39;x&#39;,2=&#39;y&#39;,3=&#39;z&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="继承" tabindex="-1"><a class="header-anchor" href="#继承" aria-hidden="true">#</a> 继承</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 定义一个动物类</span>
<span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 属性</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&#39;Animal&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">// 实例方法</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;正在睡觉！&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 原型方法</span>
<span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;正在吃：&#39;</span> <span class="token operator">+</span> food<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="原型链继承" tabindex="-1"><a class="header-anchor" href="#原型链继承" aria-hidden="true">#</a> 原型链继承</h3><p>核心： 将父类的实例作为子类的原型。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Dog<span class="token punctuation">.</span>protoType <span class="token operator">=</span> New <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;dog&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>new 创建新实例对象经过了以下几步： <ul><li>创建一个新对象</li><li>将新对象的_proto_指向构造函数的prototype对象</li><li>将构造函数的作用域赋值给新对象 （也就是this指向新对象）</li><li>执行构造函数中的代码（为这个新对象添加属性）</li><li>返回新的对象</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 创建一个新对象</span>
<span class="token keyword">var</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 将新对象的_proto_指向构造函数的prototype对象</span>
Obj<span class="token punctuation">.</span>_proto_ <span class="token operator">=</span>  <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token function">prototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3. 执行构造函数中的代码（为这个新对象添加属性）</span>
<span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 4. 返回新的对象</span>
<span class="token keyword">return</span> Obj<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>特点：</p><ul><li>实例可继承的属性有：实例的构造函数的属性，父类构造函数属性，父类原型的属性</li><li>非常纯粹的继承关系，实例是子类的实例，也是父类的实例</li><li>父类新增原型方法/原型属性，子类都能访问到</li></ul></li><li><p>缺点：</p><ul><li>新实例无法向父类构造函数传参。</li><li>继承单一。</li><li>所有新实例都会共享父类实例的属性。（原型上的属性是共享的，一个实例修改了原型属性，另一个实例的原型属性也会被修改！）</li><li>要想为子类新增原型上的属性和方法，必须要在new Animal()这样的语句之后执行，不能放到构造器中</li></ul></li></ul><h3 id="构造函数继承" tabindex="-1"><a class="header-anchor" href="#构造函数继承" aria-hidden="true">#</a> 构造函数继承</h3><p>核心：使用父类的构造函数来增强子类实例，等于是复制父类的实例属性给子类（没用到原型）</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;dog&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点：用.call()和.apply()将父类构造函数引入子类函数（在子类函数中做了父类函数的自执行（复制））</p><ul><li><p>特点：</p><ul><li>只继承了父类构造函数的属性，没有继承父类原型的属性。</li><li>解决了原型链继承缺点1、2、3。</li><li>可以实现多继承，继承多个构造函数属性（call多个）。</li><li>在子实例中可向父实例传参。</li></ul></li><li><p>缺点：</p><ul><li>能继承父类构造函数的属性。</li><li>无法实现构造函数的复用。（每次用每次都要重新调用）</li><li>每个新实例都有父类构造函数的副本，臃肿。</li><li>实例并不是父类的实例，只是子类的实例</li></ul></li></ul><h3 id="组合继承-原型链继承和构造函数继承-常用" tabindex="-1"><a class="header-anchor" href="#组合继承-原型链继承和构造函数继承-常用" aria-hidden="true">#</a> 组合继承（原型链继承和构造函数继承）（常用）</h3><p>核心：通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Cat<span class="token punctuation">;</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点：结合了两种模式的优点，传参和复用</p><ul><li><p>特点：</p><ul><li>可以继承父类原型上的属性，可以传参，可复用。</li><li>每个新实例引入的构造函数属性是私有的。</li><li>既是子类的实例，也是父类的实例</li></ul></li><li><p>缺点：</p><ul><li>调用了两次父类构造函数（耗内存），子类的构造函数会代替原型上的那个父类构造函数。</li></ul></li></ul><h3 id="原型式继承" tabindex="-1"><a class="header-anchor" href="#原型式继承" aria-hidden="true">#</a> 原型式继承</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 先封装一个函数容器，用来输出对象和承载继承的原型</span>
<span class="token keyword">function</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj <span class="token comment">// 继承了传入的参数</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回函数对象</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> sup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 拿到父类的实例</span>
<span class="token keyword">var</span> sup1 <span class="token operator">=</span> <span class="token function">content</span><span class="token punctuation">(</span>sup<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sup1<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 10 继承了父类函数的属性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点：用一个函数包装一个对象，然后返回这个函数的调用，这个函数就变成了个可以随意增添属性的实例或对象。object.create()就是这个原理。</p><ul><li><p>特点：</p><ul><li>类似于复制一个对象，用函数来包装。</li></ul></li><li><p>缺点：</p><ul><li>所有实例都会继承原型上的属性。</li><li>无法实现复用。（新实例属性都是后面添加的）</li></ul></li></ul><h3 id="寄生式继承" tabindex="-1"><a class="header-anchor" href="#寄生式继承" aria-hidden="true">#</a> 寄生式继承</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj <span class="token comment">// 继承了传入的参数</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回函数对象</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> sup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 以上是原型继承，给原型式继承再套个壳子传递参数</span>
<span class="token keyword">function</span> <span class="token function">subobject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sub <span class="token operator">=</span> <span class="token function">content</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    sub<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;gar&#39;</span>
    <span class="token keyword">return</span> sub
<span class="token punctuation">}</span>

<span class="token keyword">var</span> sup2 <span class="token operator">=</span> <span class="token function">subobject</span><span class="token punctuation">(</span>sup<span class="token punctuation">)</span>
<span class="token comment">// 这个函数经过声明之后就成了可增添属性的对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> subobject<span class="token punctuation">)</span> <span class="token comment">// function</span>
cosole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sup2<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sup2<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// &#39;gar&#39; 返回了个sub对象，继承了sub的属性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点：就是给原型式继承外面套了个壳子。</p><ul><li><p>优点：没有创建自定义类型，因为只是套了个壳子返回对象（这个），这个函数顺理成章就成了创建的新对象。</p></li><li><p>缺点：没用到原型，无法复用。</p></li></ul><h3 id="寄生组合式继承-常用" tabindex="-1"><a class="header-anchor" href="#寄生组合式继承-常用" aria-hidden="true">#</a> 寄生组合式继承（常用）</h3><p>寄生：在函数内返回对象然后调用</p><ul><li>组合： <ul><li>函数的原型等于另一个实例。</li><li>在函数中用apply或者call引入另一个构造函数，可传参。</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Cat</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 创建一个没有实例方法的类</span>
  <span class="token keyword">var</span> <span class="token function-variable function">Super</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token class-name">Super</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Animal</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token comment">//将实例作为子类的原型</span>
  <span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Cat</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Cat<span class="token punctuation">;</span> <span class="token comment">// 需要修复下构造函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点：修复了组合继承的问题。</p><h2 id="call-bind-apply实现" tabindex="-1"><a class="header-anchor" href="#call-bind-apply实现" aria-hidden="true">#</a> Call, bind, apply实现</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// call</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// apply</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window<span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> result<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// bind</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> newArgs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="原型与原型链" tabindex="-1"><a class="header-anchor" href="#原型与原型链" aria-hidden="true">#</a> 原型与原型链</h2><p>每一个JavaScript对象(null除外)在创建的时候会关联另一个对象，这个被关联的对象就是原型。每一个JavaScript对象(除了 null)都具有的__proto__属性会指向该对象的原型。</p><p>JavaScript中所有的对象都是由它的原型对象继承而来，而原型也是一个对象，它也有自己的原型对象，这样层层上溯，就形成了一个类似链表的结构，这就是原型链。 每一个对象都会从原型&quot;继承&quot;属性。 实例对象和构造函数都可以指向原型, 原型可以指向构造函数，不能指向实例(因为可以有多个实例)。</p><p>原型对象有两个属性，constructor 和 <code>__proto__</code>。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 实例原型 === 构造函数原型</span>
person<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// 原型构造函数 === 构造函数</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react-diff" tabindex="-1"><a class="header-anchor" href="#react-diff" aria-hidden="true">#</a> react diff</h2><ul><li><p>React 通过制定大胆的 diff 策略，将 O(n3) 复杂度的问题转换成 O(n) 复杂度的问题；</p></li><li><p>React 通过分层求异的策略，对 tree diff 进行算法优化；</p></li></ul><p>对树进行分层比较，两棵树只会对同一层次的节点进行比较。</p><ul><li><p>React 通过相同类生成相似树形结构，不同类生成不同树形结构的策略，对 component diff 进行算法优化；</p><ul><li>如果是同一类型的组件，按照原策略继续比较 virtual DOM tree。</li><li>如果不是，则将该组件判断为 dirty component，从而替换整个组件下的所有子节点。</li><li>对于同一类型的组件，有可能其 Virtual DOM 没有任何变化，如果能够确切的知道这点那可以节省大量的 diff 运算时间，因此 React 允许用户通过 shouldComponentUpdate() 来判断该组件是否需要进行 diff。</li></ul></li><li><p>React 通过设置唯一 key的策略，对 element diff 进行算法优化；</p></li><li><p>建议，在开发组件时，保持稳定的 DOM 结构会有助于性能的提升；</p></li></ul><h2 id="遍历对象" tabindex="-1"><a class="header-anchor" href="#遍历对象" aria-hidden="true">#</a> 遍历对象</h2><ul><li><p>for...in：遍历对象自身， 包含继承， 可枚举，不含 Symbol 的属性。</p></li><li><p>Object.keys(obj)：遍历对象自身, 不含继承，可枚举，不含 Symbol 的属性。【values， entries】</p></li><li><p>Object.getOwnPropertyNames(obj)：遍历对象自身, 不含继承, 不含 Symbol 的属性, 不管是否可枚举</p></li><li><p>Object.getOwnPropertySymbols(obj): 遍历对象自身, 不含继承, 所有 Symbol 的属性, 不管是否可枚举</p></li><li><p>Reflect.ownKeys(obj): 遍历对象自身，不含继承，所有键名，不管是否Symbol 和可枚举。</p></li></ul><p>对象其他方法：</p><ul><li><p>JSON.stringify()：只串行化对象自身，不含继承，可枚举，不含 Symbol属性。【function，undefined, Symbol会丢失， set、map会处理成空对象】</p></li><li><p>Object.assign()：只拷贝对象自身，不含继承， 可枚举属性, 不管是否是Symbol 。【全部数据类型属性值】</p></li></ul><table><thead><tr><th>方法</th><th>自身属性</th><th>继承属性</th><th>可枚举属性</th><th>Symbol属性</th></tr></thead><tbody><tr><td>for...in..</td><td>是</td><td>是</td><td>必须</td><td>否</td></tr><tr><td>Object.keys()</td><td>是</td><td>否</td><td>必须</td><td>否</td></tr><tr><td>Object.getOwnPropertyNames(obj)</td><td>是</td><td>否</td><td>非必须</td><td>否</td></tr><tr><td>Object.getOwnPropertySymbols(obj)</td><td>是</td><td>否</td><td>非必须</td><td>是</td></tr><tr><td>Reflect.ownKeys(obj)</td><td>是</td><td>否</td><td>非必须</td><td>非必须</td></tr><tr><td>JSON.stringify()</td><td>是</td><td>否</td><td>必须</td><td>否</td></tr><tr><td>Object.assign()</td><td>是</td><td>否</td><td>必须</td><td>非必须</td></tr></tbody></table><h2 id="异步加载脚本" tabindex="-1"><a class="header-anchor" href="#异步加载脚本" aria-hidden="true">#</a> 异步加载脚本</h2><p>默认情况下，浏览器是同步加载 JavaScript 脚本，即渲染引擎遇到<code>&lt;script&gt;</code>标签就会停下来，等到执行完脚本，再继续向下渲染。如果是外部脚本，还必须加入脚本下载的时间。</p><p>异步加载脚本方法：defer与async。</p><p>defer与async的区别是：defer要等到整个页面在内存中正常渲染结束（DOM 结构完全生成，以及其他脚本执行完成），才会执行；async一旦下载完，渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染。一句话，defer是“渲染完再执行”，async是“下载完就执行”。另外，如果有多个defer脚本，会按照它们在页面出现的顺序加载，而多个async脚本是不能保证加载顺序的。</p><p>浏览器对于带有type=&quot;module&quot;的<code>&lt;script&gt;</code>，都是异步加载，不会造成堵塞浏览器，即等到整个页面渲染完，再执行模块脚本，等同于打开了<code>&lt;script&gt;</code>标签的defer属性。</p><h3 id="es6-模块与-commonjs-模块的差异" tabindex="-1"><a class="header-anchor" href="#es6-模块与-commonjs-模块的差异" aria-hidden="true">#</a> ES6 模块与 CommonJS 模块的差异</h3><p>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</p><p>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。</p><p>因为 CommonJS 加载的是一个对象（即module.exports属性），该对象只有在脚本运行完才会生成。而 ES6 模块不是对象，它的对外接口只是一种静态定义，在代码静态解析阶段就会生成。</p><p>CommonJS 模块的require()是同步加载模块，ES6 模块的import命令是异步加载，有一个独立的模块依赖的解析阶段。</p><h3 id="回流reflow与重绘repaint" tabindex="-1"><a class="header-anchor" href="#回流reflow与重绘repaint" aria-hidden="true">#</a> 回流Reflow与重绘Repaint</h3><p>回流：元素的大小或者位置发生了变化，触发了重新布局，导致渲染树重新计算布局和渲染。页面第一次加载的时候，至少发生一次回流。</p><ul><li><p>添加或删除可见的DOM元素；</p></li><li><p>元素的位置发生变化；</p></li><li><p>元素的尺寸发生变化；</p></li><li><p>内容发生变化（比如文本变化或图片被另一个不同尺寸的图片所替代）；</p></li><li><p>页面一开始渲染的时候（这个无法避免）；</p></li><li><p>浏览器的窗口尺寸变化， 因为回流是根据视口的大小来计算元素的位置和大小的；</p></li></ul><p>重绘：元素的外观，风格改变，而不会影响布局（不包含宽高、大小、位置等不变）。 如：outline, visibility, color, background-color......等</p><p>Reflow 的成本比 Repaint 高得多的多。DOM Tree 里的每个结点都会有 reflow 方法，一个结点的 reflow 很有可能导致子结点，甚至父点以及同级结点的 reflow。。回流一定会触发重绘，而重绘不一定会回流</p><p><strong>减少重绘与回流</strong></p><ul><li><p>CSS方法</p><ul><li>使用 visibility 替换 display: none ，因为前者只会引起重绘，后者会引发回流</li><li>避免使用table布局，可能很小的一个小改动会造成整个 table 的重新布局。</li><li>避免设置多层内联样式，CSS 选择符从右往左匹配查找，避免节点层级过多。</li><li>将动画效果应用到position属性为absolute或fixed的元素上，避免影响其他元素的布局，这样只是一个重绘，而不是回流，同时，控制动画速度可以选择 requestAnimationFrame</li><li>避免使用CSS表达式，可能会引发回流。</li><li>将频繁重绘或者回流的节点设置为图层，图层能够阻止该节点的渲染行为影响别的节点，例如will-change、video、iframe等标签，浏览器会自动将该节点变为图层。</li><li>CSS3 硬件加速（GPU加速），使用css3硬件加速，可以让transform、opacity、filters这些动画不会引起回流重绘 。但是对于动画的其它属性，比如background-color这些，还是会引起回流重绘的，不过它还是可以提升这些动画的性能。</li></ul></li><li><p>JavaScript方法</p><ul><li>避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。</li><li>避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。</li><li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。</li></ul></li></ul><h2 id="css3硬件加速-gpu加速" tabindex="-1"><a class="header-anchor" href="#css3硬件加速-gpu加速" aria-hidden="true">#</a> CSS3硬件加速（GPU加速）</h2><p>CSS3 硬件加速又叫做 GPU 加速，是利用 GPU 进行渲染，减少 CPU 操作的一种优化方案。</p><p>render tree -&gt; 渲染元素 -&gt; 图层 -&gt; GPU 渲染 -&gt; 浏览器复合图层 -&gt; 生成最终的屏幕图像。</p><p>浏览器在获取 render tree后，渲染树中包含了大量的渲染元素，每一个渲染元素会被分到一个个图层中，每个图层又会被加载到 GPU 形成渲染纹理。GPU 中 transform 是不会触发 repaint ，最终这些使用 transform 的图层都会由独立的合成器进程进行处理。</p><ul><li>CSS3触发硬件加速的属性： <ul><li>transform</li><li>opacity</li><li>filter</li><li>will-change</li></ul></li></ul><h2 id="http请求方法" tabindex="-1"><a class="header-anchor" href="#http请求方法" aria-hidden="true">#</a> http请求方法</h2><p>HTTP1.0定义了三种请求方法：GET, POST 和 HEAD方法。 HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</p><p><strong>OPTIONS</strong>：即预检请求，可用于检测服务器允许的http方法。当发起跨域请求时，由于安全原因，触发一定条件时浏览器会在正式请求之前自动先发起OPTIONS请求，即CORS预检请求，服务器若接受该跨域请求，浏览器才继续发起正式请求。</p><p><strong>HEAD</strong>: 向服务器索与GET请求相一致的响应，只不过响应体将不会被返回，用于获取报头。</p><p><strong>GET</strong>：向特定的资源发出请求。注意：GET方法不应当被用于产生“副作用”的操作中</p><p><strong>POST</strong>：向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</p><p><strong>PUT</strong>：向指定资源位置上传其最新内容</p><p><strong>DELETE</strong>：请求服务器删除Request-URL所标识的资源</p><p><strong>TRACE</strong>：回显服务器收到的请求，主要用于测试或诊断</p><p><strong>CONNECT</strong>：HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器</p><h2 id="js判断数据类型" tabindex="-1"><a class="header-anchor" href="#js判断数据类型" aria-hidden="true">#</a> js判断数据类型</h2><ul><li><p>typeof 操作符</p><ul><li>对于基本类型，除 null 以外，均可以返回正确的结果。</li><li>对于引用类型，除 function 以外，一律返回 object 类型。</li><li>对于 null ，返回 object 类型。</li><li>对于 function 返回 function 类型。</li></ul></li><li><p>instanceof</p></li></ul><p>用来判断 A 是否为 B 的实例，检测的是原型。instanceof 只能用来判断两个对象是否属于实例关系， 而不能判断一个对象实例具体属于哪种类型。 instanceof 主要的实现原理就是只要右边变量的 prototype 在左边变量的原型链上即可。</p><ul><li><p>constructor</p><ul><li>null 和 undefined 是无效的对象，不会有 constructor 存在的</li><li>函数的 constructor 是不稳定的，这个主要体现在自定义对象上，当开发者重写 prototype 后，原有的 constructor 引用会丢失，constructor 会默认为 Object。为了规范开发，在重写对象原型时一般都需要重新给 constructor 赋值。</li></ul></li><li><p>toString</p></li></ul><p>toString() 是 Object 的原型方法，调用该方法，默认返回当前对象的 [[Class]] 。这是一个内部属性，其格式为 [object Xxx] ，其中 Xxx 就是对象的类型。</p><h2 id="浏览器事件模型" tabindex="-1"><a class="header-anchor" href="#浏览器事件模型" aria-hidden="true">#</a> 浏览器事件模型</h2><p>DOM事件流（event flow ）存在三个阶段：事件捕获阶段、处于目标阶段、事件冒泡阶段。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// useCapture：true, 即采用事件捕获方式</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window 捕获&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// useCapture：false【默认为false】，即采用事件冒泡方式</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;window 冒泡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>目标元素（被点击的元素）绑定的事件都会发生在目标阶段，在绑定捕获代码之前写了绑定的冒泡阶段的代码，所以在目标元素上就不会遵守先发生捕获后发生冒泡这一规则，而是先绑定的事件先发生。</p><p>不是目标元素，它上面绑定的事件会遵守先发生捕获后发生冒泡的规则。</p><p>e.stopPropagation()：阻止事件传播。不仅可以阻止事件在冒泡阶段的传播，还能阻止事件在捕获阶段的传播。 e.preventDefault(): 阻止事件的默认行为。默认行为是指：点击a标签就转跳到其他页面、拖拽一个图片到浏览器会自动打开、点击表单的提交按钮会提交表单等</p><h2 id="http缓存-强制缓存和协商缓存" tabindex="-1"><a class="header-anchor" href="#http缓存-强制缓存和协商缓存" aria-hidden="true">#</a> http缓存: 强制缓存和协商缓存</h2><p>良好的缓存策略可以降低资源的重复加载提高网页的整体加载速度。</p><ul><li><p>缓存原理</p><ul><li>浏览器在加载资源时，根据请求头的expires和cache-control判断是否命中强缓存，是则直接从缓存读取资源，不会发请求到服务器。</li><li>如果没有命中强缓存，浏览器会发送一个请求到服务器，通过last-modified和etag验证是否命中协商缓存。当向服务端发起缓存校验的请求时，服务端会返回 200 ok表示返回正常的结果或者 304 Not Modified(不返回body)表示浏览器可以使用本地缓存文件。304的响应头也可以同时更新缓存文档的过期时间</li><li>如果前面两者都没有命中，直接从服务器加载资源。</li></ul></li><li><p>实现方式</p></li></ul><p>强缓存通过Expires和Cache-Control实现。 协商缓存是利用的是【Last-Modified，If-Modified-Since】和【ETag、If-None-Match】这两对Header来管理的。</p><ul><li>Expires</li></ul><p>Expires是http1.0提出的一个表示资源过期时间的header，它是一个绝对时间，由服务器返回。Expires 受限于本地时间，如果修改了本地时间，可能会造成缓存失效。 Expires: Wed, 11 May 2018 07:20:00 GMT</p><p>Cache-Control Cache-Control 出现于 HTTP / 1.1，优先级高于 Expires , 表示的是相对时间。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>no-store：没有缓存。缓存中不得存储任何关于客户端请求和服务端响应的内容。每次由客户端发起的请求都会下载完整的响应内容。
no-cache: 缓存但重新验证。每次有请求发出时，缓存会将此请求发到服务器（译者注：该请求应该会带有与本地缓存相关的验证字段），服务器端会验证请求中所描述的缓存是否过期，若未过期（返回304），则缓存才使用本地缓存副本。
private：只允许客户端浏览器缓存。
public: 允许所有用户缓存。例如中间代理、CDN等
max-age=&lt;seconds&gt;：表示资源能够被缓存的最大时间。相对Expires而言，max-age是距离请求发起的时间的秒数。针对应用中那些不会改变的文件，通常可以手动设置一定的时长以保证缓存有效，例如图片、css、js等静态资源。
must-revalidate:触发缓存验证。验证它的状态，已过期的缓存将不被使用
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Last-Modified，If-Modified-Since Last-Modifie表示本地文件最后修改日期，浏览器会在request header加 If-Modified-Since（上次返回的Last-Modified的值），询问服务器在该日期后资源是否有更新，有更新的话就会将新的资源发送回来。</p><p>但是如果在本地打开缓存文件，就会造成 Last-Modified 被修改，所以在 HTTP / 1.1 出现了 ETag。</p><p>ETag、If-None-Match Etag就像一个指纹，资源变化都会导致ETag变化，跟最后修改时间没有关系，ETag可以保证每一个资源是唯一的。</p><p>If-None-Match的header会将上次返回的Etag发送给服务器，询问该资源的Etag是否有更新，有变动就会发送新的资源回来。</p><p>ETag的优先级比Last-Modified更高。</p><ul><li>具体为什么要用ETag，主要出于下面几种情况考虑： <ul><li>一些文件也许会周期性的更改，但是他的内容并不改变(仅仅改变的修改时间)，这个时候我们并不希望客户端认为这个文件被修改了，而重新GET；</li><li>某些文件修改非常频繁，比如在秒以下的时间内进行修改，(比方说1s内修改了N次)，If-Modified-Since能检查到的粒度是s级的，这种修改无法判断(或者说UNIX记录MTIME只能精确到秒)；</li><li>某些服务器不能精确的得到文件的最后修改时间。</li></ul></li></ul><h2 id="防抖和节流" tabindex="-1"><a class="header-anchor" href="#防抖和节流" aria-hidden="true">#</a> 防抖和节流</h2><p>防抖：当你在频繁调用方法时，并不会执行，只有当你在指定间隔内没有再调用，才会执行函数。</p><p>节流：在一个单位时间内，只能触发一次函数。如果这个单位时间内触发多次函数，只有一次生效。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 防抖</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
      time <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    time <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 节流</span>

<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> lastTime<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
      <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">&gt;</span> lastTime <span class="token operator">+</span> wait <span class="token operator">||</span> <span class="token operator">!</span>lastTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        lastTime <span class="token operator">=</span> nowTime<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="大小单位区别" tabindex="-1"><a class="header-anchor" href="#大小单位区别" aria-hidden="true">#</a> 大小单位区别</h2><p>px：像素。 em：参考物是父元素的font-size，具有继承的特点。如果自身定义了font-size按自身来计算，整个页面内1em不是一个固定的值。 rem：相对于根元素html的font-size计算，不会像em那样，依赖于父元素的字体大小，而造成混乱。 vw：视窗宽度，1vw等于视窗宽度的1%。 vh：视窗高度，1vh等于视窗高度的1%。 vm：min(vw, vh)。 %：是相对于父元素的大小设定的比率，position:absolute;的元素是相对于已经定位的父元素，position：fixed；的元素是相对可视窗口。</p><blockquote><p>浏览器默认字体是16px, body设置font-size：62.5%, 那么1rem =62.5% * 16=10px 。</p></blockquote><blockquote><p>谷歌浏览器强制最小字体为12号，即使设置成 10px 最终都会显示成 12px，当把html的font-size设置成10px,子节点rem的计算还是以12px为基准。</p></blockquote><ul><li>Box-sizing <ul><li>content-box：这是默认情况，整个元素的高度和宽度就是元素内容</li><li>border-box：这种情况下，你设置的width和height属性值就是针对整个元素，包括了border，padding，和元素内容。</li></ul></li></ul><h2 id="函数声明和函数表达式" tabindex="-1"><a class="header-anchor" href="#函数声明和函数表达式" aria-hidden="true">#</a> 函数声明和函数表达式</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 函数声明</span>
<span class="token keyword">function</span> <span class="token function">wscat</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;wscat&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数表达式</span>
<span class="token keyword">var</span> <span class="token function-variable function">oaoafly</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&quot;oaoafly&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>JavaScript 解释器中存在一种变量声明被提升的机制，也就是说函数声明会被提升到作用域的最前面，即使写代码的时候是写在最后面，也还是会被提升至最前面。</p></li><li><p>用函数表达式创建的函数是在运行时进行赋值，且要等到表达式赋值完成后才能调用</p></li></ul><p>函数声明在JS解析时进行函数提升，因此在同一个作用域内，不管函数声明在哪里定义，该函数都可以进行调用。而函数表达式的值是在JS运行时确定，并且在表达式赋值完成后，该函数才能调用。这个微小的区别，可能会导致JS代码出现意想不到的bug，让你陷入莫名的陷阱中。</p><h2 id="事件循环eventloop" tabindex="-1"><a class="header-anchor" href="#事件循环eventloop" aria-hidden="true">#</a> 事件循环EventLoop</h2><p>JavaScript是一个单线程的脚本语言。</p><p>所有同步任务都在主线程上执行，形成一个执行栈 (Execution Context Stack)；而异步任务会被放置到 Task Table（异步处理模块），当异步任务有了运行结果，就将注册的回调函数移入任务队列（两种队列）。</p><p>一旦执行栈中的所有同步任务执行完毕，引擎就会读取任务队列，然后将任务队列中的第一个任务取出放到执行栈中运行。（所有会进入的异步都是指的事件回调中的那部分代码）</p><p>只要主线程空了，就会去读取任务队列，该过程不断重复，这就是所谓的 事件循环。</p><ul><li>宏任务和微任务</li></ul><p>宏任务会进入一个队列，微任务会进入到另一个队列，且微任务要优于宏任务执行。 宏任务：script(整体代码)、setTimeout、setInterval、I/O、事件、postMessage、 MessageChannel、setImmediate (Node.js) 微任务：Promise.then、 MutaionObserver、process.nextTick (Node.js)</p><p>宏任务会进入一个队列，而微任务会进入到另一个不同的队列，且微任务要优于宏任务执行。</p><h2 id="promise-1" tabindex="-1"><a class="header-anchor" href="#promise-1" aria-hidden="true">#</a> Promise</h2><ul><li>Promise.all: 全部fulfilled, 才进入then, 否则 catch</li><li>Promise.race: 任一个返回，不管是fulfilled还是rejected, 进入相应的then/catch</li><li>Promise.allSettled: 全部返回，不管是fulfilled还是rejected, 进入then</li><li>Promise.any: 任一个返回fulfilled, 就进入then, 否则 catch</li></ul><h2 id="虚拟dom原理" tabindex="-1"><a class="header-anchor" href="#虚拟dom原理" aria-hidden="true">#</a> 虚拟dom原理</h2><p>Virtual DOM是对DOM的抽象,本质上是JavaScript对象,这个对象就是更加轻量级的对DOM的描述.</p><h2 id="箭头函数与普通函数区别" tabindex="-1"><a class="header-anchor" href="#箭头函数与普通函数区别" aria-hidden="true">#</a> 箭头函数与普通函数区别</h2><ul><li><p>语法更加简洁、清晰</p></li><li><p>不绑定this，会捕获其所在的上下文的this值，作为自己的this值</p></li><li><p>箭头函数继承而来的this指向永远不变</p></li><li><p>.call()/.apply()/.bind()无法改变箭头函数中this的指向</p></li><li><p>不能作为构造函数使用， 因为没有自己的 this，无法调用 call，apply；没有 prototype 属性 ，而 new 命令在执行时需要将构造函数的 prototype 赋值给新的对象的__prpto__ 。</p></li><li><p>没有自己的arguments，在箭头函数中访问arguments实际上获得的是外层局部（函数）执行环境中的值。如果要用，可以用 rest 参数代替。</p></li><li><p>没有原型prototype, 指向 undefined</p></li><li><p>不能使用yeild关键字</p></li></ul><h2 id="new" tabindex="-1"><a class="header-anchor" href="#new" aria-hidden="true">#</a> new</h2><ul><li>new 关键字会进行如下的操作： <ul><li>创建一个空的简单JavaScript对象（即{}）；</li><li>链接该对象（设置该对象的__proto__）到构造器函数的原型 ；</li><li>将新创建的对象作为this的上下文 ；</li><li>返回。如果该函数没有返回对象，则返回this。</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">newFunc</span><span class="token punctuation">(</span><span class="token parameter">father<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 首先创建一个空对象</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 将空对象的原型赋值为构造器函数的原型</span>
  result<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> father<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token comment">// 更改构造器函数内部this，将其指向新创建的空对象</span>
  <span class="token keyword">var</span> result2 <span class="token operator">=</span> <span class="token function">father</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> rest<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> result2 <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> result2 <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> result2 <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> result2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="水平与垂直居中实现方式" tabindex="-1"><a class="header-anchor" href="#水平与垂直居中实现方式" aria-hidden="true">#</a> 水平与垂直居中实现方式</h2><ul><li>水平居中 <ul><li>text-align: center; 行内元素适用</li><li>margin: 0 auto; 适用块级元素</li><li>width: fit-content; 若子元素包含 float:left 属性, 为了让子元素水平居中, 则可让父元素宽度设置为fit-content, 并且配合margin。</li></ul></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>fit-content<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* flex */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 盒模型, 使用flex 2009年版本 */</span>


<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> box<span class="token punctuation">;</span>
  <span class="token property">box-orient</span><span class="token punctuation">:</span> horizontal<span class="token punctuation">;</span>
  <span class="token property">box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* transform */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 两种不同的绝对定位方法 */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 固定；
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -0.5 * 宽度<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 固定；
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>垂直居中 <ul><li>单行文本, line-height</li><li>行内块级元素, 使用 display: inline-block, vertical-align: middle; 加上伪元素辅助实现</li></ul></li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.parent::after, .son</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span>inline-block<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.parent::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>vertical-align。vertical-align只有在父层为 td 或者 th 时, 才会生效, 对于其他块级元素, 例如 div、p 等, 默认情况是不支持的. 为了使用vertical-align, 我们需要设置父元素display:table, 子元素 display:table-cell;vertical-align:middle;</li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* flex */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 盒模型 */</span>

<span class="token selector">.parent</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> box<span class="token punctuation">;</span>
  <span class="token property">box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span>
  <span class="token property">box-pack</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* transform */</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>两种不同的绝对定位方法</li></ul><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 固定<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -0.5 * height<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 固定<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>flex, 盒模型, transform, 绝对定位, 这几种方法同时适用于水平居中和垂直居中</p><h2 id="排序" tabindex="-1"><a class="header-anchor" href="#排序" aria-hidden="true">#</a> 排序</h2><ul><li>冒泡排序</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>选择排序</li></ul><p>选择排序(Selection-sort)是一种简单直观的排序算法。它的工作原理：首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">selectionSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">=</span> j<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!==</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>插入排序</li></ul><p>插入排序（Insertion-Sort）的算法描述是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。</p><p>插入排序在实现上，通常采用in-place排序（即只需用到O(1)的额外空间的排序），因而在从后向前扫描过程中，需要反复把已排序元素逐步向后挪位，为最新元素提供插入空间。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">insertionSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> value <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
      j<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>归并排序</li></ul><p>归并排序是建立在归并操作上的一种有效的排序算法。该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。归并排序是一种稳定的排序方法。先使每个子序列有序，再使子序列段间有序。若将两个有序表合并成一个有序表，称为2-路归并。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//采用自上而下的递归方法</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">;</span>

  <span class="token keyword">const</span> middle <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>len <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> middle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>middle<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">mergeSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> right<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> right<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>快速排序</li></ul><p>快速排序的基本思想：通过一趟排序将待排记录分隔成独立的两部分，其中一部分记录的关键字均比另一部分的关键字小，则可分别对这两部分记录继续进行排序，以达到整个序列有序。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
  <span class="token keyword">const</span> pivotIndex <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>pivotIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pivot<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="洗牌算法" tabindex="-1"><a class="header-anchor" href="#洗牌算法" aria-hidden="true">#</a> 洗牌算法</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> random <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    length<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 或</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">.5</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="react-生命周期" tabindex="-1"><a class="header-anchor" href="#react-生命周期" aria-hidden="true">#</a> react 生命周期</h2><p>React v16.0前的生命周期 初始化(initialization)阶段 此阶段只有一个生命周期方法：constructor。</p><h3 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor" aria-hidden="true">#</a> constructor()</h3><p>用来做一些组件的初始化工作，如定义this.state的初始内容。如果不初始化 state 或不进行方法绑定，则不需要为 React 组件实现构造函数。</p><p>为什么必须先调用super(props)?</p><p>因为子类自己的this对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，加上子类自己的实例属性和方法。如果不调用super方法，子类就得不到this对象。</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Checkbox</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 🔴 这时候还不能使用this</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ✅ 现在开始可以使用this</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// ✅ {}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ✅ {}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="为什么super要传-props" tabindex="-1"><a class="header-anchor" href="#为什么super要传-props" aria-hidden="true">#</a> 为什么super要传 props?</h3><p>把 props 传进 super 是必要的，这使得基类 React.Component 可以初始化 this.props。</p><p>然而，即便在调用 super() 时没有传入 props 参数，你依然能够在 render 和其它方法中访问 this.props。</p><p>其实是 React 在调用你的构造函数之后，马上又给实例设置了一遍 props。</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// React 内部</span>
<span class="token keyword">class</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span> <span class="token comment">// 初始化 this.props</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// React 内部</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
instance<span class="token punctuation">.</span>props <span class="token operator">=</span> props<span class="token punctuation">;</span> <span class="token comment">// 给实例设置 props</span>

<span class="token comment">// Button类组件</span>
<span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 😬 我们忘了传入 props</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// ✅ {}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 😬 undefined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="挂载-mounting-阶段" tabindex="-1"><a class="header-anchor" href="#挂载-mounting-阶段" aria-hidden="true">#</a> 挂载(Mounting)阶段</h3><p>此阶段生命周期方法：componentWillMount =&gt; render =&gt; componentDidMount</p><ol><li>componentWillMount():</li></ol><p>在组件挂载到DOM前调用，且只会被调用一次。 每一个子组件render之前立即调用； 在此方法调用this.setState不会引起组件重新渲染，也可以把写在这边的内容提前到constructor()中。</p><ol start="2"><li>render(): class 组件唯一必须实现的方法</li></ol><p>当 render 被调用时，它会检查 this.props 和 this.state 的变化并返回以下类型之一：</p><p>React 元素。通常通过 JSX 创建。例如，<code>&lt;div /&gt;</code> 会被 React 渲染为 DOM 节点，<code>&lt;MyComponent /&gt; </code>会被 React 渲染为自定义组件，无论是 <code>&lt;div /&gt;</code> 还是 <code>&lt;MyComponent /&gt;</code> 均为 React 元素。</p><p>数组或 fragments。使得 render 方法可以返回多个元素。Fragments 允许你将子列表分组，而无需向 DOM 添加额外节点。</p><p>Portals。可以渲染子节点到不同的 DOM 子树中。Portal 提供了一种将子节点渲染到存在于父组件以外的 DOM 节点的优秀的方案。</p><p>字符串或数值类型。它们在 DOM 中会被渲染为文本节点。</p><p>布尔类型或 null。什么都不渲染。</p><p>render() 函数应该为纯函数，这意味着在不修改组件 state 的情况下，每次调用时都返回相同的结果，并且它不会直接与浏览器交互。不能在里面执行this.setState，会有改变组件状态的副作用。</p><ol start="3"><li>componentDidMount</li></ol><p>会在组件挂载后（插入 DOM 树中）立即调用， 且只会被调用一次。依赖于 DOM 节点的初始化应该放在这里。 render之后并不会立即调用，而是所有的子组件都render完之后才会调用。</p><h3 id="更新-update-阶段" tabindex="-1"><a class="header-anchor" href="#更新-update-阶段" aria-hidden="true">#</a> 更新(update)阶段</h3><p>此阶段生命周期方法：componentWillReceiveProps =&gt; shouldComponentUpdate =&gt; componentWillUpdate =&gt; render =&gt; componentDidUpdate。</p><h3 id="react组件更新机制" tabindex="-1"><a class="header-anchor" href="#react组件更新机制" aria-hidden="true">#</a> react组件更新机制</h3><p>setState引起的state更新或父组件重新render引起的props更新，更新后的state和props相对之前无论是否有变化，都将引起子组件的重新render。</p><ol><li>父组件重新render</li></ol><p>直接重新渲染。每当父组件重新render导致的重传props，子组件将直接跟着重新渲染，无论props是否有变化。可通过shouldComponentUpdate方法优化。</p><p>更新state再渲染。在componentWillReceiveProps方法中，将props转换成自己的state，调用 this.setState() 将不会引起第二次渲染。</p><p>因为componentWillReceiveProps中判断props是否变化了，若变化了，this.setState将引起state变化，从而引起render，此时就没必要再做第二次因重传props引起的render了，不然重复做一样的渲染了。</p><ol start="2"><li>自身setState</li></ol><p>组件本身调用setState，无论state有没有变化。可通过shouldComponentUpdate方法优化。</p><p>生命周期分析</p><ol><li>componentWillReceiveProps(nextProps)</li></ol><p>此方法只调用于props引起的组件更新过程中，响应 Props 变化之后进行更新的唯一方式。 参数nextProps是父组件传给当前组件的新props。根据nextProps和this.props来判断重传的props是否改变，以及做相应的处理。</p><ol start="2"><li>shouldComponentUpdate(nextProps, nextState)</li></ol><p>根据 shouldComponentUpdate() 的返回值，判断 React 组件的输出是否受当前 state 或 props 更改的影响。默认行为是 state 每次发生变化组件都会重新渲染。</p><p>当 props 或 state 发生变化时，shouldComponentUpdate() 会在渲染执行之前被调用。返回值默认为 true。</p><p>首次渲染或使用 forceUpdate() 时不会调用该方法。</p><p>此方法可以将 this.props 与 nextProps 以及 this.state 与nextState 进行比较，返回true时当前组件将继续执行更新过程，返回false则跳过更新，以此可用来减少组件的不必要渲染，优化组件性能。</p><p>请注意，返回 false 并不会阻止子组件在 state 更改时重新渲染。</p><blockquote><p>如果在componentWillReceiveProps()中执行了this.setState，更新state，但在render前（如shouldComponentUpdate，componentWillUpdate），this.state依然指向更新前的state，不然nextState及当前组件的this.state的对比就一直是true了。 应该考虑使用内置的 PureComponent 组件，而不是手动编写 shouldComponentUpdate()。PureComponent 会对 props 和 state 进行浅层比较，并减少了跳过必要更新的可能性。</p></blockquote><ol start="3"><li>componentWillUpdate(nextProps, nextState)</li></ol><p>此方法在调用render方法前执行，在这边可执行一些组件更新发生前的工作，一般较少用。</p><ol start="4"><li>render</li></ol><p>render同上</p><ol start="5"><li>componentDidUpdate(prevProps, prevState)</li></ol><p>此方法在组件更新后立即调用，可以操作组件更新的DOM。 prevProps和prevState这两个参数指的是组件更新前的props和state。</p><h3 id="卸载阶段" tabindex="-1"><a class="header-anchor" href="#卸载阶段" aria-hidden="true">#</a> 卸载阶段</h3><p>此阶段只有一个生命周期方法：componentWillUnmount</p><p>componentWillUnmount</p><p>此方法在组件被卸载前调用，可以在这里执行一些清理工作，比如清楚组件中使用的定时器，清楚componentDidMount中手动创建的DOM元素等，以避免引起内存泄漏。 componentWillUnmount() 中不应调用 setState()，因为该组件将永远不会重新渲染。组件实例卸载后，将永远不会再挂载它。</p><h3 id="react-v16-0-后的生命周期" tabindex="-1"><a class="header-anchor" href="#react-v16-0-后的生命周期" aria-hidden="true">#</a> React v16.0 后的生命周期</h3><p>React v16.0刚推出的时候，增加了一个componentDidCatch生命周期函数，这只是一个增量式修改，完全不影响原有生命周期函数；</p><p>React v16.3，引入了两个新的生命周期：getDerivedStateFromProps，getSnapshotBeforeUpdate, 废弃掉componentWillMount、componentWillReceiveProps 以及 componentWillUpdate 三个周期(直到React 17前还可以使用，只是会有一个警告)。</p><h3 id="为什么要更改生命周期" tabindex="-1"><a class="header-anchor" href="#为什么要更改生命周期" aria-hidden="true">#</a> 为什么要更改生命周期？</h3><p>生命周期函数的更改是因为 16.3 采用了 Fiber 架构，在新的 Fiber 架构中，组件的更新分为了两个阶段：</p><p>render phase：这个阶段决定究竟哪些组件会被更新。</p><p>commit phase：这个阶段是 React 开始执行更新（比如插入，移动，删除节点）。</p><p>commit phase 的执行很快，但是真实 DOM 的更新很慢，所以 React 在更新的时候会暂停再恢复组件的更新以免长时间的阻塞浏览器，这就意味着 render phase 可能会被执行多次（因为有可能被打断再重新执行）。</p><p>constructor</p><p>componentWillMount</p><p>componentWillReceiveProps</p><p>componentWillUpdate</p><p>getDerivedStateFromProps</p><p>shouldComponentUpdate</p><p>render</p><p>这些生命周期都属于 render phase，render phase 可能被多次执行，所以要避免在 render phase 中的生命周期函数中引入副作用。在 16.3 之前的生命周期很容易引入副作用，所以 16.3 之后引入新的生命周期来限制开发者引入副作用。</p><p>getDerivedStateFromProps(nextProps, prevState)</p><p>React v16.3中，static getDerivedStateFromProps只在组件创建和由父组件引发的更新中调用。如果不是由父组件引发，那么getDerivedStateFromProps也不会被调用，如自身setState引发或者forceUpdate引发。</p><p>在React v16.4中改正了这一点，static getDerivedStateFromProps会在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。</p><ul><li>特点： <ul><li>无副作用 。因为是处于 Fiber 的 render 阶段，所以有可能会被多次执行。所以 API 被设计为了静态函数，无法访问到实例的方法，也没有 ref 来操作 DOM，这就避免了实例方法带来副作用的可能性。但是依旧可以从 props 中获得方法触发副作用，所以在执行可能触发副作用的函数前要三思。</li><li>只用来更新 state 。其这个生命周期唯一的作用就是从 nextProps 和 prevState 中衍生出一个新的 state。它应返回一个对象来更新 state，或者返回null来不更新任何内容。</li></ul></li></ul><blockquote><p>getDerivedStateFromProps前面要加上static保留字，声明为静态方法，不然会被react忽略掉。 getDerivedStateFromProps里面的this为undefined。 static静态方法只能Class来调用，而实例是不能调用，所以React Class组件中，静态方法getDerivedStateFromProps无权访问Class实例的this，即this为undefined。</p></blockquote><h3 id="getsnapshotbeforeupdate" tabindex="-1"><a class="header-anchor" href="#getsnapshotbeforeupdate" aria-hidden="true">#</a> getSnapshotBeforeUpdate()</h3><p>getSnapshotBeforeUpdate() 只会调用一次，在最近一次渲染输出（提交到 DOM 节点）之前调用，，所以在这个生命周期能够获取这一次更新前的 DOM 的信息。此生命周期的任何返回值将作为 componentDidUpdate() 的第三个参数 “snapshot” 参数传递， 否则componentDidUpdate的第三个参数将为 undefined。</p><p>应返回 snapshot 的值（或 null）。</p><h3 id="错误处理" tabindex="-1"><a class="header-anchor" href="#错误处理" aria-hidden="true">#</a> 错误处理</h3><p>当渲染过程，生命周期，或子组件的构造函数中抛出错误时，会调用如下方法：</p><p>static getDerivedStateFromError()：此生命周期会在后代组件抛出错误后被调用。它将抛出的错误作为参数，并返回一个值以更新 state</p><p>componentDidCatch()：此生命周期在后代组件抛出错误后被调用，它应该用于记录错误之类的情况。</p><p>它接收两个参数：</p><p>error —— 抛出的错误。</p><p>info —— 带有 componentStack key 的对象</p><h2 id="react-16做了哪些更新" tabindex="-1"><a class="header-anchor" href="#react-16做了哪些更新" aria-hidden="true">#</a> react 16做了哪些更新</h2><p>react作为一个ui库，将前端编程由传统的命令式编程转变为声明式编程，即所谓的数据驱动视图。如果直接更新真实dom，比如将生成的html直接采用innerHtml替换，会带来重绘重排之类的性能问题。为了尽量提高性能，React团队引入了虚拟dom，即采用js对象来描述dom树，通过对比前后两次的虚拟对象，来找到最小的dom操作（vdom diff），以此提高性能。</p><p>上面提到的reactDom diff，在react 16之前，这个过程我们称之为stack reconciler，它是一个递归的过程，在树很深的时候，单次diff时间过长会造成JS线程持续被占用，用户交互响应迟滞，页面渲染会出现明显的卡顿，这在现代前端是一个致命的问题。</p><p>所以为了解决这种问题，react 团队对整个架构进行了调整，引入了fiber架构，将以前的stack reconciler替换为fiber reconciler。采用增量式渲染。引入了任务优先级(expiration)和requestIdleCallback的循环调度算法，简单来说就是将以前的一根筋diff更新，首先拆分成两个阶段：reconciliation与commit;第一个reconciliation阶段是可打断的，被拆分成一个个的小任务（fiber），在每一侦的渲染空闲期做小任务diff。然后是commit阶段，这个阶段是不拆分且不能打断的，将diff节点的effectTag一口气更新到页面上。</p><p>由于reconciliation是可以被打断的，且存在任务优先级的问题，所以会导致commit前的一些生命周期函数多次被执行， 如componentWillMount、componentWillReceiveProps 和 componetWillUpdate，但react官方已声明，在React17中将会移除这三个生命周期函数。</p><p>由于每次唤起更新是从根节点(RootFiber)开始，为了更好的节点复用与性能优化。在react中始终存workInprogressTree(future vdom) 与 oldTree（current vdom）两个链表，两个链表相互引用。这无形中又解决了另一个问题，当workInprogressTree生成报错时，这时也不会导致页面渲染崩溃，而只是更新失败,页面仍然还在。</p><h2 id="react-hooks原理" tabindex="-1"><a class="header-anchor" href="#react-hooks原理" aria-hidden="true">#</a> React hooks原理</h2><p>在React 16前，函数式组件不能拥有状态管理？因为16以前只有类组件有对应的实例，而16以后Fiber 架构的出现，让每一个节点都拥有对应的实例，也就拥有了保存状态的能力。</p><p>Hooks的本质就是闭包和两级链表。</p><blockquote><p>闭包是指有权访问另一个函数作用域中变量或方法的函数，创建闭包的方式就是在一个函数内创建闭包函数，通过闭包函数访问这个函数的局部变量, 利用闭包可以突破作用链域的特性，将函数内部的变量和方法传递到外部。</p></blockquote><h3 id="hooks-链表" tabindex="-1"><a class="header-anchor" href="#hooks-链表" aria-hidden="true">#</a> hooks 链表</h3><p>一个组件包含的hooks 以链表的形式存储在fiber节点的memoizedState属性上，currentHook链表就是当前正在遍历的fiber节点的。nextCurrentHook 就是即将被添加到正在遍历fiber节点的hooks的新链表。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token literal-property property">currentHook</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">nextCurrentHook</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

type Hooks <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">memoizedState</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// 指向当前渲染节点 Fiber</span>
  <span class="token literal-property property">baseState</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token comment">// 初始化 initialState， 最新的state</span>
  <span class="token literal-property property">baseUpdate</span><span class="token operator">:</span> Update<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token comment">// 当前需要更新的 Update ，每次更新完之后，会赋值上一个 update，方便 react 在渲染错误的边缘，数据回溯</span>
  <span class="token literal-property property">queue</span><span class="token operator">:</span> UpdateQueue<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">// 可以让state变化的，即update或dispach产生的update</span>
  <span class="token literal-property property">next</span><span class="token operator">:</span> Hook <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// link 到下一个 hooks</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="state" tabindex="-1"><a class="header-anchor" href="#state" aria-hidden="true">#</a> state</h3><p>其实state不是hooks独有的，类操作的setState也存在。</p><p>memoizedState，cursor 是存在哪里的？如何和每个函数组件一一对应的？ react 会生成一棵组件树（或Fiber 单链表），树中每个节点对应了一个组件，hooks 的数据就作为组件的一个信息，存储在这些节点上，伴随组件一起出生，一起死亡。</p><p>为什么只能在函数最外层调用 Hook？ memoizedState 是按 hook定义的顺序来放置数据的，如果 hook 顺序变化，memoizedState 并不会感知到。</p><p>自定义的 Hook 是如何影响使用它的函数组件的？ 共享同一个 memoizedState，共享同一个顺序。</p><p>“Capture Value” 特性是如何产生的？ 每一次 ReRender 的时候，都是重新去执行函数组件了，对于之前已经执行过的函数组件，并不会做任何操作。</p><h2 id="react-setstate-异步更新" tabindex="-1"><a class="header-anchor" href="#react-setstate-异步更新" aria-hidden="true">#</a> react setState 异步更新</h2><h3 id="setstate-实现原理" tabindex="-1"><a class="header-anchor" href="#setstate-实现原理" aria-hidden="true">#</a> setState 实现原理</h3><p>setState 通过一个队列机制来实现 state 更新，当执行 setState() 时，会将需要更新的 state 浅合并后放入 状态队列，而不会立即更新 state，队列机制可以高效的批量更新 state。如果不通过setState，直接修改this.state 的值，则不会放入状态队列，当下一次调用 setState 对状态队列进行合并时，之前对 this.state 的修改将会被忽略，造成无法预知的错误。</p><h3 id="setstate-有的同步有的异步" tabindex="-1"><a class="header-anchor" href="#setstate-有的同步有的异步" aria-hidden="true">#</a> setState()有的同步有的异步？</h3><p>在React中， 如果是由React引发的事件处理（比如通过onClick引发的事件处理），调用setState不会同步更新this.state，除此之外的setState调用会同步执行this.state 。</p><p>所谓“除此之外”，指的是绕过React通过addEventListener直接添加的事件处理函数，还有通过setTimeout/setInterval产生的异步调用。</p><p>原因： 在React的setState函数实现中，会根据一个变量isBatchingUpdates判断是直接更新this.state还是放到队列中回头再说，而isBatchingUpdates默认是false，也就表示setState会同步更新this.state，但是，有一个函数batchedUpdates，这个函数会把isBatchingUpdates修改为true，而当React在调用事件处理函数之前就会调用这个batchedUpdates，造成的后果，就是由React控制的事件处理过程setState不会同步更新this.state。</p><blockquote><p>setState的“异步”并不是说内部由异步代码实现，其实本身执行的过程和代码都是同步的，只是合成事件和钩子函数的调用顺序在更新之前，导致在合成事件和钩子函数中没法立马拿到更新后的值，形式了所谓的“异步”，可以通过第二个参数 setState(partialState, callback) 中的callback拿到更新后的结果。</p></blockquote><h3 id="调用风险" tabindex="-1"><a class="header-anchor" href="#调用风险" aria-hidden="true">#</a> 调用风险</h3><p>当调用 setState 时，实际上是会执行 enqueueSetState 方法，并会对 partialState 及 _pendingStateQueue 队列进行合并操作，最终通过 enqueueUpdate 执行 state 更新。</p><p>而 performUpdateIfNecessary 获取 _pendingElement、 _pendingStateQueue、_pendingForceUpdate，并调用 reaciveComponent 和 updateComponent 来进行组件更新。</p><p>但，如果在 shouldComponentUpdate 或 componentWillUpdate 方法里调用 this.setState 方法，就会造成崩溃。</p><p>这是因为在 shouldComponentUpdate 或 componentWillUpdate 方法里调用 this.setState 时，this._pendingStateQueue!=null，则 performUpdateIfNecessary 方法就会调用 updateComponent 方法进行组件更新，而 updateComponent 方法又会调用 shouldComponentUpdate和componentWillUpdate 方法，因此造成循环调用，使得浏览器内存占满后崩溃。</p><h2 id="react-fiber" tabindex="-1"><a class="header-anchor" href="#react-fiber" aria-hidden="true">#</a> React Fiber</h2><p>掉帧：在页面元素很多，且需要频繁刷新的场景下，React 15 会出现掉帧的现象，其根本原因，是大量的同步计算任务阻塞了浏览器的 UI 渲染。</p><p>默认情况下，JS 运算、页面布局和页面绘制都是运行在浏览器的主线程当中，他们之间是互斥的关系。</p><p>如果 JS 运算持续占用主线程，页面就没法得到及时的更新。</p><p>当我们调用setState更新页面的时候，React 会遍历应用的所有节点，计算出差异，然后再更新 UI，整个过程不能被打断。</p><p>如果页面元素很多，整个过程占用的时机就可能超过 16 毫秒，就容易出现掉帧的现象。</p><p>如何解决主线程长时间被 JS 运算？将JS运算切割为多个步骤，分批完成。在完成一部分任务之后，将控制权交回给浏览器，让浏览器有时间进行页面的渲染。等浏览器忙完之后，再继续之前未完成的任务。</p><p>React 15 及以下版本通过递归的方式进行渲染，使用的是 JS 引擎自身的函数调用栈，它会一直执行到栈空为止。</p><p>而Fiber实现了自己的组件调用栈，它以链表的形式遍历组件树，可以灵活的暂停、继续和丢弃执行的任务。实现方式是使用了浏览器的requestIdleCallback</p><blockquote><p>window.requestIdleCallback()会在浏览器空闲时期依次调用函数，这就可以让开发者在主事件循环中执行后台或低优先级的任务，而且不会对像动画和用户交互这些延迟触发但关键的事件产生影响。函数一般会按先进先调用的顺序执行，除非函数在浏览器调用它之前就到了它的超时时间。</p></blockquote><ul><li>React 框架内部的运作可以分为 3 层： <ul><li>Virtual DOM 层，描述页面长什么样。</li><li>Reconciler 层，负责调用组件生命周期方法，进行 Diff 运算等。</li><li>Renderer 层，根据不同的平台，渲染出相应的页面，比较常见的是 ReactDOM 和 ReactNative。</li></ul></li></ul><p>Fiber 表征reconciliation阶段所能拆分的最小工作单元，其实指的是一种链表树，它可以用一个纯 JS 对象来表示：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fiber <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">stateNode</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 节点实例</span>
  <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// 子节点</span>
  <span class="token literal-property property">sibling</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// 兄弟节点</span>
  <span class="token keyword">return</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>       <span class="token comment">// 表示处理完成后返回结果所要合并的目标，通常指向父节点</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="reconciler区别" tabindex="-1"><a class="header-anchor" href="#reconciler区别" aria-hidden="true">#</a> Reconciler区别</h3><ul><li><p>以前的 Reconciler 被命名为Stack Reconciler。Stack Reconciler 运作的过程是不能被打断的，必须一条道走到黑；</p></li><li><p>Fiber Reconciler 每执行一段时间，都会将控制权交回给浏览器，可以分段执行；</p></li></ul><p>从Stack Reconciler到Fiber Reconciler，源码层面其实就是干了一件递归改循环的事情。</p><h3 id="scheduling-调度" tabindex="-1"><a class="header-anchor" href="#scheduling-调度" aria-hidden="true">#</a> scheduling(调度)</h3><ul><li>scheduling(调度)是fiber reconciliation的一个过程，主要是进行任务分配，达到分段执行。任务的优先级有六种： <ul><li>synchronous，与之前的Stack Reconciler操作一样，同步执行</li><li>task，在next tick之前执行</li><li>animation，下一帧之前执行</li><li>high，在不久的将来立即执行</li><li>low，稍微延迟执行也没关系</li><li>offscreen，下一次render时或scroll时才执行</li></ul></li></ul><p>优先级高的任务（如键盘输入）可以打断优先级低的任务（如Diff）的执行，从而更快的生效。</p><ul><li>Fiber Reconciler 在执行过程中，会分为 2 个阶段： <ul><li>阶段一，生成 Fiber 树，得出需要更新的节点信息。这一步是一个渐进的过程，可以被打断。</li><li>阶段二，将需要更新的节点一次过批量更新，这个过程不能被打断。</li></ul></li></ul><p>阶段一可被打断的特性，让优先级更高的任务先执行，从框架层面大大降低了页面掉帧的概率。</p><h2 id="hoc-与render-props区别" tabindex="-1"><a class="header-anchor" href="#hoc-与render-props区别" aria-hidden="true">#</a> HOC 与render props区别</h2><p>Render Props: 把将要包裹的组件作为props属性传入，然后容器组件调用这个属性，并向其传参。</p><p>实现方式：</p><p>1.通过props.children(props)，props.children返回的是UI元素。<code>&lt;RenderProps&gt;</code> JSX 标签中的所有内容都会作为一个 children prop 传递给 RenderProps组件。因为 RenderProps 将 {props.children} 渲染在一个 <code>&lt;div&gt;</code> 中，被传递的这些子组件最终都会出现在输出结果中。</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 定义</span>
<span class="token keyword">const</span> <span class="token function-variable function">RenderProps</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
   </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">// 调用</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">RenderProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello RenderProps</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">RenderProps</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.通过props中的任何函数, 自行定义传入内容</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 定义</span>
<span class="token keyword">const</span> <span class="token function-variable function">LoginForm</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> allProps <span class="token operator">=</span> <span class="token punctuation">{</span> flag<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>allProps<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token function">notLogin</span><span class="token punctuation">(</span>allProps<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 调用</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoginForm</span></span>
  <span class="token attr-name">login</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">LOGIN</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
  <span class="token attr-name">noLogin</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">NOT LOGIN</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>优点： <ul><li>支持ES6</li><li>不用担心props命名问题，在render函数中只取需要的state</li><li>不会产生无用的组件加深层级</li><li>render props模式的构建都是动态的，所有的改变都在render中触发，可以更好的利用组件内的生命周期。</li></ul></li></ul><p>HOC: 接受一个组件作为参数，返回一个新的组件的函数。</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// UI</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Home<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>高阶组件由于每次都会返回一个新的组件，对于react来说，这是不利于diff和状态复用的，所以高阶组件的包装不能在render 方法中进行，而只能像上面那样在组件声明时包裹，这样也就不利于动态传参。</p><ul><li><p>优点：</p><ul><li>支持ES6</li><li>复用性强，HOC为纯函数且返回值为组件，可以多层嵌套</li><li>支持传入多个参数，增强了适用范围</li></ul></li><li><p>缺点：</p><ul><li>当多个HOC一起使用时，无法直接判断子组件的props是哪个HOC负责传递的</li><li>多个组件嵌套，容易产生同样名称的props</li><li>HOC可能会产生许多无用的组件，加深了组件的层级</li></ul></li></ul><p>总的来说，render props其实和高阶组件类似，就是在puru component上增加state，响应react的生命周期。</p><h2 id="react-通信" tabindex="-1"><a class="header-anchor" href="#react-通信" aria-hidden="true">#</a> React 通信</h2><p>react的数据流是单向的，最常见的就是通过props由父组件向子组件传值。</p><ul><li><p>父向子通信：传入props</p></li><li><p>子向父通信：父组件向子组件传一个函数，然后通过这个函数的回调，拿到子组件传过来的值</p></li><li><p>父向孙通信：利用context传值。React.createContext()</p></li><li><p>兄弟间通信：</p><ul><li>找一个相同的父组件，既可以用props传递数据，也可以用context的方式来传递数据。</li><li>用一些全局机制去实现通信，比如redux等</li><li>发布订阅模式</li></ul></li></ul><h2 id="react合成事件" tabindex="-1"><a class="header-anchor" href="#react合成事件" aria-hidden="true">#</a> react合成事件</h2><p>React 合成事件（SyntheticEvent）是 React 模拟原生 DOM 事件所有能力的一个事件对象，即浏览器原生事件的跨浏览器包装器。</p><p>为什么要使用合成事件？</p><ul><li><p>进行浏览器兼容，实现更好的跨平台 React 采用的是顶层事件代理机制，能够保证冒泡一致性，可以跨浏览器执行。React 提供的合成事件用来抹平不同浏览器事件对象之间的差异，将不同平台事件模拟合成事件。</p></li><li><p>避免垃圾回收 事件对象可能会被频繁创建和回收，因此 React 引入事件池，在事件池中获取或释放事件对象。即 React 事件对象不会被释放掉，而是存放进一个数组中，当事件触发，就从这个数组中弹出，避免频繁地去创建和销毁(垃圾回收)。</p></li><li><p>方便事件统一管理和事务机制</p></li></ul><h3 id="实现原理" tabindex="-1"><a class="header-anchor" href="#实现原理" aria-hidden="true">#</a> 实现原理</h3><p>在 React 中，“合成事件”会以事件委托方式绑定在 document 对象上，并在组件卸载（unmount）阶段自动销毁绑定的事件。</p><p>合成事件和原生事件 当真实 DOM 元素触发事件，会冒泡到 document 对象后，再处理 React 事件；所以会先执行原生事件，然后处理 React 事件；最后真正执行 document 上挂载的事件。 合成事件和原生事件最好不要混用。原生事件中如果执行了stopPropagation方法，则会导致其他React事件失效。因为所有元素的事件将无法冒泡到document上，所有的 React 事件都将无法被注册。</p><h3 id="合成事件的事件池" tabindex="-1"><a class="header-anchor" href="#合成事件的事件池" aria-hidden="true">#</a> 合成事件的事件池</h3><p>合成事件对象池，是 React 事件系统提供的一种性能优化方式。合成事件对象在事件池统一管理，不同类型的合成事件具有不同的事件池。</p><h2 id="react-虚拟dom" tabindex="-1"><a class="header-anchor" href="#react-虚拟dom" aria-hidden="true">#</a> react 虚拟dom</h2><h3 id="什么是虚拟dom" tabindex="-1"><a class="header-anchor" href="#什么是虚拟dom" aria-hidden="true">#</a> 什么是虚拟dom?</h3><p>在 React 中，render 执行的结果得到的并不是真正的 DOM 节点，而是轻量级的 JavaScript 对象，我们称之为 virtual DOM。它通过JS的Object对象模拟DOM中的节点，然后再通过特定的render方法将其渲染成真实的DOM节点。</p><p>虚拟 DOM 是 React 的一大亮点，具有batching(批处理) 和高效的 Diff 算法。batching 把所有的 DOM 操作搜集起来，一次性提交给真实的 DOM。diff 算法时间复杂度也从标准的的 Diff 算法的 O(n^3) 降到了 O(n)。</p><h3 id="batching-批处理" tabindex="-1"><a class="header-anchor" href="#batching-批处理" aria-hidden="true">#</a> batching(批处理)</h3><p>主要思想是，无论setState您在React事件处理程序或同步生命周期方法中进行多少次调用，它都将被批处理成一个更新, 最终只有一次重新渲染。</p><h3 id="虚拟-dom-与-原生-dom" tabindex="-1"><a class="header-anchor" href="#虚拟-dom-与-原生-dom" aria-hidden="true">#</a> 虚拟 DOM 与 原生 DOM</h3><p>如果没有 Virtual DOM，就需要直接操作原生 DOM。在一个大型列表所有数据都变了的情况下，直接重置 innerHTML还算合理，但是，只有一行数据发生变化时，它也需要重置整个 innerHTML，这就造成了大量浪费。</p><p>innerHTML 和 Virtual DOM 的重绘性能消耗： innerHTML: render html string + 重新创建所有 DOM 元素 Virtual DOM: render Virtual DOM + diff + 必要的 DOM 更新</p><p>Virtual DOM render + diff 显然比渲染 html 字符串要慢，但是它依然是纯 js 层面的计算，比起后面的 DOM 操作来说，依然便宜了太多。innerHTML 的总计算量不管是 js 计算还是 DOM 操作都是和整个界面的大小相关，但 Virtual DOM 的计算量只有 js 计算和界面大小相关，DOM 操作是和数据的变动量相关。</p><table><thead><tr><th>Real DOM</th><th>Virtual DOM</th></tr></thead><tbody><tr><td>更新缓慢。</td><td>更新更快。</td></tr><tr><td>可以直接更新 HTML。</td><td>无法直接更新 HTML。</td></tr><tr><td>如果元素更新，则创建新DOM。</td><td>如果元素更新，则更新 JSX 。</td></tr><tr><td>DOM操作代价很高。</td><td>DOM 操作非常简单。</td></tr><tr><td>消耗的内存较多。</td><td>很少的内存消耗。</td></tr></tbody></table><h3 id="虚拟-dom-与-mvvm" tabindex="-1"><a class="header-anchor" href="#虚拟-dom-与-mvvm" aria-hidden="true">#</a> 虚拟 DOM 与 MVVM</h3><p>相比起 React，其他 MVVM 系框架比如 Angular, Knockout , Vue ，Avalon 采用的都是数据绑定。通过 Directive/Binding 对象，观察数据变化并保留对实际 DOM 元素的引用，当有数据变化时进行对应的操作。MVVM 的变化检查是数据层面的，而 React 的检查是 DOM 结构层面的。</p><p>MVVM 的性能也根据变动检测的实现原理有所不同：Angular 依赖于脏检查；Knockout/Vue/Avalon 采用了依赖收集。</p><p>脏检查：scope digest(watcher count) ) + 必要 DOM 更新</p><p>依赖收集：重新收集依赖(data change) ) + 必要 DOM 更新</p><p>Angular 最不效率的地方在于任何小变动都有的和 watcher 数量相关的性能代价，当所有数据都变了的时候，Angular更有效。依赖收集在初始化和数据变化的时候都需要重新收集依赖，这个代价在小量更新的时候几乎可以忽略，但在数据量庞大的时候也会产生一定的消耗。</p><h3 id="性能比较" tabindex="-1"><a class="header-anchor" href="#性能比较" aria-hidden="true">#</a> 性能比较</h3><p>在比较性能的时候，要分清楚初始渲染、小量数据更新、大量数据更新这些不同的场合。Virtual DOM、脏检查 MVVM、数据收集 MVVM 在不同场合各有不同的表现和不同的优化需求。</p><p>Virtual DOM 为了提升小量数据更新时的性能，也需要针对性的优化，比如 shouldComponentUpdate 或是 immutable data。</p><ul><li><p>初始渲染：Virtual DOM &gt; 脏检查 &gt;= 依赖收集</p></li><li><p>小量数据更新：依赖收集 &gt;&gt; Virtual DOM + 优化 &gt; 脏检查（无法优化）&gt; Virtual DOM 无优化</p></li><li><p>大量数据更新：脏检查 + 优化 &gt;= 依赖收集 + 优化 &gt; Virtual DOM（无法/无需优化）&gt;&gt; MVVM 无优化</p></li></ul><h3 id="diff-算法" tabindex="-1"><a class="header-anchor" href="#diff-算法" aria-hidden="true">#</a> diff 算法</h3><p>传统 diff 算法通过循环递归对节点进行依次对比，算法复杂度达到 O(n^3)，其中 n 是树中节点的总数。O(n^3) 意味着如果要展示1000个节点，就要依次执行上十亿次的比较， 这是无法满足现代前端性能要求的。</p><ul><li>diff 算法主要包括几个步骤： <ul><li>用 JS 对象的方式来表示 DOM 树的结构，然后根据这个对象构建出真实的 DOM 树，插到文档中。</li><li>当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树的差异, 最后把所记录的差异应用到所构建的真正的DOM树上，视图更新。</li></ul></li></ul><h3 id="diff-策略" tabindex="-1"><a class="header-anchor" href="#diff-策略" aria-hidden="true">#</a> diff 策略</h3><ul><li>React 通过制定大胆的diff策略，将diff算法复杂度从 O(n^3) 转换成 O(n) 。 <ul><li>React 通过分层求异的策略，对 tree diff 进行算法优化；</li><li>React 通过相同类生成相似树形结构，不同类生成不同树形结构的策略，对 component diff 进行算法优化；</li><li>React 通过设置唯一 key的策略，对 element diff 进行算法优化；</li></ul></li></ul><h3 id="tree-diff-层级比较" tabindex="-1"><a class="header-anchor" href="#tree-diff-层级比较" aria-hidden="true">#</a> tree diff（层级比较）</h3><p>React 对树进行分层比较，两棵树只会对同一层次的节点进行比较。 当发现节点已经不存在，则该节点及其子节点会被完全删除掉，不会进行进一步的比较。</p><p>这样只需要对树进行一次遍历，便能完成整个 DOM 树的比较。 当出现节点跨层级移动时，并不会出现移动操作，而是以该节点为根节点的树被重新创建，这是一种影响 React 性能的操作，因此 React 官方建议不要进行 DOM 节点跨层级的操作。</p><p>先进行树结构的层级比较，对同一个父节点下的所有子节点进行比较；</p><p>接着看节点是什么类型的，是组件就做 Component Diff;</p><p>如果节点是标签或者元素，就做 Element Diff;</p><blockquote><p>注意：在开发组件时，保持稳定的 DOM 结构会有助于性能的提升。例如，可以通过 CSS 隐藏或显示节点，而不是真的移除或添加 DOM 节点。</p></blockquote><ul><li>component diff（组件比较） <ul><li>如果是同一类型的组件，按照原策略继续比较 virtual DOM tree。</li><li>如果不是，则将该组件判断为 dirty component，替换整个组件下的所有子节点。举个例子，当一个元素从 <code>&lt;Article&gt;</code> 变成 <code>&lt;Comment&gt;</code>会触发一个完整的重建流程。</li></ul></li></ul><p>对于同一类型的组件，有可能其 Virtual DOM 没有任何变化，如果能够确切的知道这点那可以节省大量的 diff 运算时间。因此 React 允许用户通过 shouldComponentUpdate() 来判断该组件是否需要进行 diff。</p><p>对于两个不同类型但结构相似的组件，不会比较二者的结构，而且替换整个组件的所有内容。不同类型的 component 是很少存在相似 DOM tree 的机会，因此这种极端因素很难在实现开发过程中造成重大影响的。</p><h3 id="element-diff-元素比较" tabindex="-1"><a class="header-anchor" href="#element-diff-元素比较" aria-hidden="true">#</a> element diff (元素比较)</h3><p>当节点处于同一层级时，React diff 提供了三种节点操作，分别为：INSERT_MARKUP（插入）、MOVE_EXISTING（移动）和 REMOVE_NODE（删除）。</p><p>INSERT_MARKUP，新的 component 类型不在老集合里， 即是全新的节点，需要对新节点执行插入操作。</p><p>MOVE_EXISTING，在老集合有新 component 类型，且 element 是可更新的类型，这种情况下需要做移动操作，可以复用以前的 DOM 节点。</p><p>REMOVE_NODE，老 component 类型，在新集合里也有，但对应的 element 不同则不能直接复用和更新，需要执行删除操作，或者老 component 不在新集合里的，也需要执行删除操作。</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Connecticut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Duke<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Villanova<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>React 并不会意识到应该保留<code>&lt;li&gt;Duke&lt;/li&gt;</code>和<code>&lt;li&gt;Villanova&lt;/li&gt;</code>，而是会重建每一个子元素,不会进行移动 DOM 操作。</p><h3 id="key-优化" tabindex="-1"><a class="header-anchor" href="#key-优化" aria-hidden="true">#</a> key 优化</h3><p>为了解决上述问题，React 引入了 key 属性, 对同一层级的同组子节点，添加唯一 key 进行区分。</p><p>当子元素拥有 key 时，React 使用 key 来匹配原有树上的子元素以及最新树上的子元素。如果有相同的节点，无需进行节点删除和创建，只需要将老集合中节点的位置进行移动，更新为新集合中节点的位置。</p><blockquote><p>在开发过程中，尽量减少类似将最后一个节点移动到列表首部的操作，当节点数量过大或更新操作过于频繁时，在一定程度上会影响 React 的渲染性能。 key 不需要全局唯一，但在列表中需要保持唯一。 Key 应该具有稳定，可预测，以及列表内唯一的特质。不稳定的 key（比如通过 Math.random() 生成的）会导致许多组件实例和 DOM 节点被不必要地重新创建，这可能导致性能下降和子组件中的状态丢失。</p></blockquote><h2 id="react与vue区别" tabindex="-1"><a class="header-anchor" href="#react与vue区别" aria-hidden="true">#</a> react与vue区别</h2><ul><li>监听数据变化的实现原理不同</li></ul><p>Vue通过 getter/setter以及一些函数的劫持，能精确知道数据变化。 React默认是通过比较引用的方式（diff）进行的，如果不优化可能导致大量不必要的VDOM的重新渲染。</p><ul><li>数据流不同</li></ul><p>Vue1.0中可以实现两种双向绑定：父子组件之间props可以双向绑定；组件与DOM之间可以通过v-model双向绑定。 Vue2.x中父子组件之间不能双向绑定了（但是提供了一个语法糖自动帮你通过事件的方式修改)。 React一直不支持双向绑定，提倡的是单向数据流，称之为onChange/setState()模式。</p><ul><li>HoC和mixins</li></ul><p>Vue组合不同功能的方式是通过mixin，Vue中组件是一个被包装的函数，并不简单的就是我们定义组件的时候传入的对象或者函数。 React组合不同功能的方式是通过HoC(高阶组件）。</p><ul><li>模板渲染方式的不同</li></ul><p>模板的语法不同，React是通过JSX渲染模板， Vue是通过一种拓展的HTML语法进行渲染。 模板的原理不同，React通过原生JS实现模板中的常见语法，比如插值，条件，循环等。而Vue是在和组件JS代码分离的单独的模板中，通过指令来实现的，比如 v-if 。</p><p>举个例子，说明React的好处：react中render函数是支持闭包特性的，所以我们import的组件在render中可以直接调用。但是在Vue中，由于模板中使用的数据都必须挂在 this 上进行一次中转，所以我们import 一个组件完了之后，还需要在 components 中再声明下。</p><ul><li>渲染过程不同</li></ul><p>Vue可以更快地计算出Virtual DOM的差异，这是由于它会跟踪每一个组件的依赖关系，不需要重新渲染整个组件树。 React当状态被改变时，全部子组件都会重新渲染。通过shouldComponentUpdate这个生命周期方法可以进行控制，但Vue将此视为默认的优化。</p><ul><li>框架本质不同</li></ul><p>Vue本质是MVVM框架，由MVC发展而来； React是前端组件化框架，由后端组件化发展而来。</p><h2 id="性能优化" tabindex="-1"><a class="header-anchor" href="#性能优化" aria-hidden="true">#</a> 性能优化</h2><ul><li>静态资源使用 CDN</li></ul><p>CDN是一组分布在多个不同地理位置的 Web 服务器。当服务器离用户越远时，延迟越高。</p><ul><li>无阻塞</li></ul><p>头部内联的样式和脚本会阻塞页面的渲染，样式放在头部并使用link方式引入，脚本放在尾部并使用异步方式加载</p><ul><li>压缩文件</li></ul><p>压缩文件可以减少文件下载时间。</p><p>在 webpack 可以使用如下插件进行压缩： JavaScript：UglifyPlugin CSS ：MiniCssExtractPlugin HTML：HtmlWebpackPlugin</p><p>使用 gzip 压缩。通过向 HTTP 请求头中的 Accept-Encoding 头添加 gzip 标识来开启这一功能。</p><ul><li>图片优化</li></ul><p>图片懒加载</p><p>响应式图片：浏览器根据屏幕大小自动加载合适的图片。</p><p>降低图片质量：方法有两种，一是通过 webpack 插件 image-webpack-loader，二是通过在线网站进行压缩。</p><ul><li>减少重绘重排</li></ul><p>降低 CSS 选择器的复杂性</p><p>使用 transform 和 opacity 属性更改来实现动画</p><p>用 JavaScript 修改样式时，最好不要直接写样式，而是替换 class 来改变样式。</p><p>如果要对 DOM 元素执行一系列操作，可以将 DOM 元素脱离文档流，修改完成后，再将它带回文档。推荐使用隐藏元素（display:none）或文档碎片（DocumentFragement），都能很好的实现这个方案。</p><ul><li>使用 requestAnimationFrame 来实现视觉变化</li></ul><p>window.requestAnimationFrame() 告诉浏览器——你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行</p><ul><li>webpack 打包， 添加文件缓存 index.html 设置成 no-cache，这样每次请求的时候都会比对一下 index.html 文件有没变化，如果没变化就使用缓存，有变化就使用新的 index.html 文件。 其他所有文件一律使用长缓存，例如设置成缓存一年 maxAge: 1000 * 60 * 60 * 24 * 365。 前端代码使用 webpack 打包，根据文件内容生成对应的文件名，每次重新打包时只有内容发生了变化，文件名才会发生变化。</li></ul><blockquote><p>max-age: 设置缓存存储的最大周期，超过这个时间缓存被认为过期(单位秒)。在这个时间前，浏览器读取文件不会发出新请求，而是直接使用缓存。 指定 no-cache 表示客户端可以缓存资源，每次使用缓存资源前都必须重新验证其有效性</p></blockquote><h2 id="输入url后发生了什么" tabindex="-1"><a class="header-anchor" href="#输入url后发生了什么" aria-hidden="true">#</a> 输入url后发生了什么</h2><ol><li><p>DNS域名解析；</p></li><li><p>建立TCP连接（三次握手）；</p></li><li><p>发送HTTP请求；</p></li><li><p>服务器处理请求；</p></li><li><p>返回响应结果；</p></li><li><p>关闭TCP连接（四次握手）；</p></li><li><p>浏览器解析HTML；</p></li><li><p>浏览器布局渲染；</p></li></ol><ul><li>DNS域名解析：拿到服务器ip</li></ul><p>客户端收到你输入的域名地址后，它首先去找本地的hosts文件，检查在该文件中是否有相应的域名、IP对应关系，如果有，则向其IP地址发送请求，如果没有，再去找DNS服务器。</p><ul><li>建立TCP链接：客户端链接服务器</li></ul><p>TCP提供了一种可靠、面向连接、字节流、传输层的服务。对于客户端与服务器的TCP链接，必然要说的就是『三次握手』。“3次握手”的作用就是双方都能明确自己和对方的收、发能力是正常的。</p><p>客户端发送一个带有SYN标志的数据包给服务端，服务端收到后，回传一个带有SYN/ACK标志的数据包以示传达确认信息，最后客户端再回传一个带ACK标志的数据包，代表握手结束，连接成功。</p><p>SYN —— 用于初如化一个连接的序列号。 ACK —— 确认，使得确认号有效。 RST —— 重置连接。 FIN —— 该报文段的发送方已经结束向对方发送数据。</p><blockquote><p>客户端：“你好，在家不。” -- SYN 服务端：“在的，你来吧。” -- SYN + ACK 客户端：“好嘞。” -- ACK</p></blockquote><ul><li><p>发送HTTP请求</p></li><li><p>服务器处理请求</p></li><li><p>返回响应结果</p></li><li><p>关闭TCP连接（需要4次握手）</p></li></ul><p>为了避免服务器与客户端双方的资源占用和损耗，当双方没有请求或响应传递时，任意一方都可以发起关闭请求。</p><p>关闭连接时，服务器收到对方的FIN报文时，仅仅表示客户端不再发送数据了但是还能接收数据，而服务器也未必全部数据都发送给客户端，所以服务器可以立即关闭，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送，从而导致多了一次。</p><blockquote><p>客户端：“兄弟，我这边没数据要传了，咱关闭连接吧。” -- FIN + seq 服务端：“收到，我看看我这边有木有数据了。” -- ACK + seq + ack 服务端：“兄弟，我这边也没数据要传你了，咱可以关闭连接了。” - FIN + ACK + seq + ack 客户端：“好嘞。” -- ACK + seq + ack</p></blockquote><ul><li>浏览器解析HTML</li></ul><p>浏览器需要加载解析的不仅仅是HTML，还包括CSS、JS，以及还要加载图片、视频等其他媒体资源。</p><p>浏览器通过解析HTML，生成DOM树，解析CSS，生成CSSOM树，然后通过DOM树和CSSPOM树生成渲染树。渲染树与DOM树不同，渲染树中并没有head、display为none等不必显示的节点。</p><blockquote><p>浏览器的解析过程并非是串连进行的，比如在解析CSS的同时，可以继续加载解析HTML，但在解析执行JS脚本时，会停止解析后续HTML，会出现阻塞问题。</p></blockquote><ul><li>浏览器渲染页面</li></ul><p>根据渲染树布局，计算CSS样式，即每个节点在页面中的大小和位置等几何信息。HTML默认是流式布局的，CSS和js会打破这种布局，改变DOM的外观样式以及大小和位置。最后浏览器绘制各个节点，将页面展示给用户。</p><blockquote><p>replaint：屏幕的一部分重画，不影响整体布局，比如某个CSS的背景色变了，但元素的几何尺寸和位置不变。 reflow：意味着元素的几何尺寸变了，需要重新计算渲染树。</p></blockquote><h2 id="前端路由" tabindex="-1"><a class="header-anchor" href="#前端路由" aria-hidden="true">#</a> 前端路由</h2><h3 id="什么是路由" tabindex="-1"><a class="header-anchor" href="#什么是路由" aria-hidden="true">#</a> 什么是路由</h3><p>路由是用来跟后端服务器进行交互的一种方式，通过不同的路径请求不同的资源。 路由这概念最开始是在后端出现, 在前后端不分离的时期, 由后端来控制路由, 服务器接收客户端的请求,解析对应的url路径, 并返回对应的页面/资源。</p><h3 id="前端路由-1" tabindex="-1"><a class="header-anchor" href="#前端路由-1" aria-hidden="true">#</a> 前端路由</h3><p>Ajax，全称 Asynchronous JavaScript And XML，是浏览器用来实现异步加载的一种技术方案。</p><p>在Ajax没有出现时期，大多数的网页都是通过直接返回 HTML，用户的每次更新操作都需要重新刷新页面，及其影响交互体验。为了解决这个问题，提出了Ajax(异步加载方案), 有了 Ajax 后，用户交互就不用每次都刷新页面。后来出现SPA单页应用。</p><ul><li>SPA 中用户的交互是通过 JS 改变 HTML 内容来实现的，页面本身的 url 并没有变化，这导致了两个问题： <ul><li>SPA 无法记住用户的操作记录，无论是刷新、前进还是后退，都无法展示用户真实的期望内容。</li><li>SPA 中虽然由于业务的不同会有多种页面展示形式，但只有一个 url，对 SEO 不友好，不方便搜索引擎进行收录。</li></ul></li></ul><p>前端路由就是为了解决上述问题而出现的。</p><h3 id="前端路由的实现方式" tabindex="-1"><a class="header-anchor" href="#前端路由的实现方式" aria-hidden="true">#</a> 前端路由的实现方式</h3><p>前端路由的实现实际上是检测 url 的变化，截获 url 地址，解析来匹配路由规则。有下面两种实现方式：</p><ul><li>Hash模式 hash 就是指 url 后的 # 号以及后面的字符。 #后面 hash 值的变化，并不会导致浏览器向服务器发出请求，浏览器不发请求，也就不会刷新页面。</li></ul><p>hash 的改变会触发 hashchange 事件，可以用onhashchange事件来监听hash值的改变。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 监听hash变化，点击浏览器的前进后退会触发</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onhashchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;hashchange&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>History 模式</li></ul><p>在 HTML5 之前，浏览器就已经有了 history 对象。但在早期的 history 中只能用于多页面的跳转：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 后退一页</span>
history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 前进两页</span>
history<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 前进一页</span>
history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 后退一页</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 HTML5 的规范中，history 新增了几个 API:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 向当前浏览器会话的历史堆栈中添加一个状态</span>
history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 修改了当前的历史记录项（不是新建一个）</span>
history<span class="token punctuation">.</span>state          <span class="token comment">// 返回一个表示历史堆栈顶部的状态的值</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于 history.pushState() 和 history.replaceState() 可以改变 url 同时，不会刷新页面，所以在 HTML5 中的 histroy 具备了实现前端路由的能力。 window对象提供了onpopstate事件来监听历史栈的改变,一旦历史栈信息发生改变, 便会触发该事件。</p><blockquote><p>调用history.pushState()或history.replaceState()不会触发popstate事件。只有在做出浏览器动作时，才会触发该事件，例如执行history.back()或history.forward()后触发 window.onpopstate事件。</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 历史栈改变</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>注意： pushState() 不会造成 hashchange 事件调用, 即使新的URL和之前的URL只是锚的数据不同。</p></blockquote><ul><li>两种模式对比</li></ul><table><thead><tr><th>对比</th><th>Hash</th><th>History</th></tr></thead><tbody><tr><td>路径</td><td>带#, 路径丑</td><td>正常路径</td></tr><tr><td>兼容性</td><td>&gt;=ie8</td><td>&gt;=ie10</td></tr><tr><td>实用性</td><td>直接使用，无需服务端配合处理。</td><td>需服务端配合处理</td></tr><tr><td>命名空间</td><td>同一document</td><td>同源</td></tr><tr><td>锚点</td><td>导致锚点功能失效</td><td>锚点功能正常</td></tr></tbody></table><h3 id="前端路由实践" tabindex="-1"><a class="header-anchor" href="#前端路由实践" aria-hidden="true">#</a> 前端路由实践</h3><ul><li>vue-router/react-router 都是基于前端路由的原理实现的~ react-router常用的 history 有三种形式: <ul><li>browserHistory: 使用浏览器中的History API 用于处理 URL。history 在 DOM 上的实现，用于支持 HTML5 history API 的浏览器。</li><li>hashHistory: 使用 URL 中的 hash（#）部分去创建路由。history 在 DOM 上的实现，用于旧版浏览器。</li><li>createMemoryHistory: 不会在地址栏被操作或读取，history 在内存上的实现，用于测试或非 DOM 环境（例如 React Native）。</li></ul></li></ul><h2 id="babel-plugin与preset区别" tabindex="-1"><a class="header-anchor" href="#babel-plugin与preset区别" aria-hidden="true">#</a> Babel Plugin与preset区别</h2><p>Babel是代码转换器，比如将ES6转成ES5，或者将JSX转成JS等。借助Babel，开发者可以提前用上新的JS特性。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>原始代码 --&gt; [Babel Plugin] --&gt; 转换后的代码
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="plugin" tabindex="-1"><a class="header-anchor" href="#plugin" aria-hidden="true">#</a> Plugin</h3><p>实现Babel代码转换功能的核心，就是Babel插件（plugin）。Babel插件一般尽可能拆成小的力度，开发者可以按需引进, 既提高了性能，也提高了扩展性。比如对ES6转ES5的功能，Babel官方拆成了20+个插件。开发者想要体验ES6的箭头函数特性，那只需要引入transform-es2015-arrow-functions插件就可以，而不是加载ES6全家桶。</p><h3 id="preset" tabindex="-1"><a class="header-anchor" href="#preset" aria-hidden="true">#</a> Preset</h3><p>可以简单的把Babel Preset视为Babel Plugin的集合。想要将所有ES6的代码转成ES5，逐个插件引入的效率比较低下, 就可以采用Babel Preset。比如babel-preset-es2015就包含了所有跟ES6转换有关的插件。</p><p>Plugin与Preset执行顺序</p><p>可以同时使用多个Plugin和Preset，此时，它们的执行顺序非常重要。</p><ul><li><p>先执行完所有Plugin，再执行Preset。</p></li><li><p>多个Plugin，按照声明次序顺序执行。</p></li><li><p>多个Preset，按照声明次序逆序执行。</p></li><li><p>比如.babelrc配置如下，那么执行的顺序为：</p><ul><li>Plugin：transform-react-jsx、transform-async-to-generator</li><li>Preset：es2016、es2015</li></ul></li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;es2015&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;es2016&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;transform-react-jsx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transform-async-to-generator&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="怎样开发和部署前端代码" tabindex="-1"><a class="header-anchor" href="#怎样开发和部署前端代码" aria-hidden="true">#</a> 怎样开发和部署前端代码</h2><p>为了进一步提升网站性能，会把静态资源和动态网页分集群部署，静态资源会被部署到CDN节点上，网页中引用的资源也会变成对应的部署路径。当需要更新静态资源的时候，同时也会更新html中的引用。</p><p>如果同时改了页面结构和样式，也更新了静态资源对应的url地址，现在要发布代码上线，是先上线页面，还是先上线静态资源？</p><ul><li><p>先部署页面，再部署资源：在二者部署的时间间隔内，如果有用户访问页面，就会在新的页面结构中加载旧的资源，并且把这个旧版本的资源当做新版本缓存起来，其结果就是：用户访问到了一个样式错乱的页面，除非手动刷新，否则在资源缓存过期之前，页面会一直执行错误。</p></li><li><p>先部署资源，再部署页面：在部署时间间隔之内，有旧版本资源本地缓存的用户访问网站，由于请求的页面是旧版本的，资源引用没有改变，浏览器将直接使用本地缓存，这种情况下页面展现正常；但没有本地缓存或者缓存过期的用户访问网站，就会出现旧版本页面加载新版本资源的情况，导致页面执行错误，但当页面完成部署，这部分用户再次访问页面又会恢复正常了。</p></li></ul><p>这个奇葩问题，起源于资源的 覆盖式发布，用待发布资源覆盖已发布资源，就有这种问题。</p><p>解决它也好办，就是实现非覆盖式发布。用文件的摘要信息来对资源文件进行重命名，把摘要信息放到资源文件发布路径中，这样，内容有修改的资源就变成了一个新的文件发布到线上，不会覆盖已有的资源文件。</p><p>上线过程中，先全量部署静态资源，再灰度部署页面，整个问题就比较完美的解决了。</p><ul><li>大公司的静态资源优化方案，基本上要实现这么几个东西： <ul><li>配置超长时间的本地缓存 —— 节省带宽，提高性能</li><li>采用内容摘要作为缓存更新依据 —— 精确的缓存控制</li><li>静态资源CDN部署 —— 优化网络请求</li><li>更改资源发布路径实现非覆盖式发布 —— 平滑升级</li></ul></li></ul><h2 id="大数相加" tabindex="-1"><a class="header-anchor" href="#大数相加" aria-hidden="true">#</a> 大数相加</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">const</span> maxLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">,</span> b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
   a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>maxLength<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   b <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span>maxLength<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> maxLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      t <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> f<span class="token punctuation">;</span>
      f <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      sum <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>t <span class="token operator">%</span> <span class="token number">10</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      sum <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="斐波那契数列求和" tabindex="-1"><a class="header-anchor" href="#斐波那契数列求和" aria-hidden="true">#</a> 斐波那契数列求和</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>n2<span class="token punctuation">,</span> sum<span class="token punctuation">]</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mankueng1011@gmail.com">mankueng</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/docs/mk-data/other_article/18.html" class="" aria-label="移动端必备的H5问题及解决方案"><!--[--><!--]--> 移动端必备的H5问题及解决方案 <!--[--><!--]--></a></span><span class="next"><a href="/docs/mk-data/other_article/20.html" class="" aria-label="如何优雅处理前端异常"><!--[--><!--]--> 如何优雅处理前端异常 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/docs/mk-data/assets/app.36dd9d4a.js" defer></script>
  </body>
</html>
