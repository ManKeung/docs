<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-config/scripts">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">scripts | mk-koa</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mankeung.github.io//docs/mk-koa/docs/config/scripts"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="scripts | mk-koa"><meta data-rh="true" name="description" content="pnpm install"><meta data-rh="true" property="og:description" content="pnpm install"><link data-rh="true" rel="icon" href="/docs/mk-koa/img/logo.png"><link data-rh="true" rel="canonical" href="https://mankeung.github.io//docs/mk-koa/docs/config/scripts"><link data-rh="true" rel="alternate" href="https://mankeung.github.io//docs/mk-koa/docs/config/scripts" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://mankeung.github.io//docs/mk-koa/docs/config/scripts" hreflang="x-default"><link rel="stylesheet" href="/docs/mk-koa/assets/css/styles.dacd16c5.css">
<link rel="preload" href="/docs/mk-koa/assets/js/runtime~main.f5bbddb3.js" as="script">
<link rel="preload" href="/docs/mk-koa/assets/js/main.9ea7c0f5.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a href="#" class="skipToContent_khVw">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/mk-koa/"><div class="navbar__logo"><img src="/docs/mk-koa/img/logo.png" alt="My Site Logo" class="themedImage_ayT4 themedImage--light_La5_"><img src="/docs/mk-koa/img/logo.png" alt="My Site Logo" class="themedImage_ayT4 themedImage--dark_Imjs"></div><b class="navbar__title text--truncate">mk-koa</b></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_qTZR"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><a class="navbar__item navbar__link" href="/docs/mk-koa/docs/intro">👉指栏</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/mk-koa/docs/config">📝配置参考</a><a class="navbar__item navbar__link" href="/docs/mk-koa/docs/function">🪧基础功能</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">✨v1.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/mk-koa/docs/changelog">🔖更新日志</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/mk-koa/docs/reward">🙈打赏</a><a href="https://gitee.com/mankeung/mk-koa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_jMts"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/mankeung/mk-koa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_jMts"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_SShN colorModeToggle_EKqX"><button class="clean-btn toggleButton_t_8H toggleButtonDisabled_JoAa" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_sIlw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_HDN1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_FMlQ docsWrapper_D5uq"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_McQr" type="button"></button><div class="docPage_A3mC"><aside class="theme-doc-sidebar-container docSidebarContainer_yCF8"><div class="sidebar_oJzC"><nav class="menu thin-scrollbar menu_EsEW"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mk-koa/docs/config">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/mk-koa/docs/config/lint">代码规范</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/mk-koa/docs/config/scripts">scripts</a></li></ul></nav></div></aside><main class="docMainContainer_F9e2"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_cbmN"><div class="docItemContainer_elsL"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_nLu4" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/docs/mk-koa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_yqhZ"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">scripts</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_QLQY theme-doc-toc-mobile tocMobile_widH"><button type="button" class="clean-btn tocCollapsibleButton_Bggp">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>scripts</h1><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-install">pnpm install<a class="hash-link" href="#pnpm-install" title="标题的直接链接">​</a></h2><p>安装项目模块依赖，此时会触发<code>npm</code>钩子，会运行<code>npm run prepare</code>。</p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-run-prepare">pnpm run prepare<a class="hash-link" href="#pnpm-run-prepare" title="标题的直接链接">​</a></h3><p>初始化项目，效果如下图</p><p><img loading="lazy" alt="图片" src="data:image/png;base64,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" width="373" height="161" class="img_wrHa"></p><blockquote><p>根据提示选择是否需要<code>lint</code>和提交规范</p></blockquote><h4 class="anchor anchorWithStickyNavbar_w7M_" id="实现逻辑如下代码">实现逻辑如下代码：<a class="hash-link" href="#实现逻辑如下代码" title="标题的直接链接">​</a></h4><details class="details_wal9 alert alert--info details_591C" data-collapsed="true"><summary>点击查看详情</summary><div><div class="collapsibleContent_EOdf"><div class="language-js codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-js codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> prompt </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;enquirer&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chalk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;chalk&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> funExec </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./utils&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> arr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;pnpm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;yarn&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">arr</span><span class="token template-string interpolation punctuation" style="color:#393A34">[</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation punctuation" style="color:#393A34">]</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> --version</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 没有包管理工具</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;请安装包管理工具&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> git </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;git init&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 没有git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">git</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;请你使用git办理管理工具&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 处理husky</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> husky </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;npx husky install&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 命令失败</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">husky</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;npx husky install error&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cyan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;项目初始化 ...&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> answer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">prompt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;confirm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;q1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;是否需要lint&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">initial</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;confirm&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;q2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;手否需要commitlint&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">initial</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;出错了&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">answer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;出错了&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> npm </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> run precommit</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">answer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">q1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> npm </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">&amp;&amp; </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> run lint</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">npm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">npx husky add .husky/pre-commit &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">npm</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">&quot;</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cyan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">answer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">q2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;npx husky add .husky/commit-msg &quot;npx --no-install commitlint --edit &quot;$1&quot;&quot;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cyan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cyan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;项目初始化完成&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><blockquote><p>你可以根据自己业务需要修改逻辑代码</p></blockquote><ul><li>代码提交规范，看如下代码（git钩子实现）</li></ul><details class="details_wal9 alert alert--info details_591C" data-collapsed="true"><summary>点击查看详情</summary><div><div class="collapsibleContent_EOdf"><div class="language-js codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-js codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;@commitlint/config-conventional&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">rules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;type-enum&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;feat&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 新特性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;improvement&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 加强现有特性</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;fix&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 修补bug</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;refactor&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 重构</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;docs&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 文档</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;test&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 单元测试</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;config&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;style&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 格式需改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;perf&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 性能提升</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;ci&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ci 主要目的是修改项目继续集成流程(例如 Travis，Jenkins，GitLab CI，Circle等)的提交</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;revert&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 版本回退</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;chore&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 其他修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&#x27;scope&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// commit 影响的范围（选填）, 比如: route, component, utils, build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;type-empty&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;never&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// type不能为空</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;type-case&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lower-case&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// type不限制大小写</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;subject-empty&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;never&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// subject（简短得描述）不能为空</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;subject-max-length&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// subject最大长度，超出只会警告，不阻止提交</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;body-leading-blank&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;footer-leading-blank&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-property property" style="color:#36acaa">&#x27;header-max-length&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;always&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">72</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><ul><li>示例</li></ul><div class="language-bash codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-bash codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&#x27;docs: 说明文档&#x27;</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w7M_" id="代码提交权限逻辑如下代码">代码提交权限逻辑如下代码<a class="hash-link" href="#代码提交权限逻辑如下代码" title="标题的直接链接">​</a></h3><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_FA4o"><div class="admonitionHeading_w31k"><span class="admonitionIcon_ghJJ"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>注意</div><div class="admonitionContent_ahRa"><p>本项目中默认要权限验证，如不需要看下方取消方法。</p></div></div><details class="details_wal9 alert alert--info details_591C" data-collapsed="true"><summary>点击查看详情</summary><div><div class="collapsibleContent_EOdf"><div class="language-js codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-js codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> funExec </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./utils&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chalk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;chalk&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> child </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;git diff --cached --name-only&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">child</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">red</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;没有待提交内容&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> disSubmitFiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">inExcludeFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">child</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;\n&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">disSubmitFiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        disSubmitFiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">chalk</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">red</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&#x27;禁止提交文件：&#x27;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">chalk</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">green</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation">file</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">chalk</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">red</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&#x27;你可以使用：&#x27;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">chalk</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">green</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation template-string string" style="color:#e3116c">git reset -- </span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation template-string interpolation">file</span><span class="token template-string interpolation template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string interpolation template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">chalk</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">red</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&#x27;撤销暂存区&#x27;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">green</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;用户权限校验完成&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">inExcludeFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">files</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Promise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token parameter">resolve</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 获取用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> userEmail </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funExec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;git config --get user.email&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        userEmail </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> userEmail</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replaceAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;\n&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">chalk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">green</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">校验</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">userEmail</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">的权限...</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 请求服务器拉取当前用户可操作目录文件（src下根文件哦！）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> allowPaths </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> userEmail </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mankueng1011@gmail.com&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;pages&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 这里写死</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> disSubmitFiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword module" style="color:#00009f">from</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">files</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> arr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> isSrc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> arr</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;src&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">isSrc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">allowPaths</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            disSubmitFiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                allowPaths</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">allowPath</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> reg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">RegExp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">^src/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">allowPath</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;i&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">test</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        disSubmitFiles</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                disSubmitFiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> disSubmitFiles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">file</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">disSubmitFiles</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>上面代码<code>标记</code>你可以发请求到后端拿去用户权限，逻辑可以根据自己业务修改，此处只做简单处理。</p><ul><li>示例如下图</li></ul><h4 class="anchor anchorWithStickyNavbar_w7M_" id="不需要代码提交权限校验">不需要代码提交权限校验<a class="hash-link" href="#不需要代码提交权限校验" title="标题的直接链接">​</a></h4><ol><li>去掉<code>/scripts/prepare.js</code>下代码如下：</li></ol><div class="language-diff codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-diff codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> let npm = `${name} run precommit` // 56</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> let npm = &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> if (answer.q1) npm += `&amp;&amp; ${name} run lint` // 57</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> if (answer.q1) npm += `${name} run lint`</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>去掉<code>package.json</code>里的<code>scripts</code></li></ol><div class="language-diff codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-diff codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> &quot;precommit&quot;: &quot;node ./scripts/precommit.js&quot;,</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>运行<code>pnpm install</code></li></ol><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-dev">pnpm dev<a class="hash-link" href="#pnpm-dev" title="标题的直接链接">​</a></h2><p>启动项目开发模式</p><blockquote><p>可以根据自己业务需要添加配置</p></blockquote><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-build">pnpm build<a class="hash-link" href="#pnpm-build" title="标题的直接链接">​</a></h2><p>生产环境打包</p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="代码规范">代码规范<a class="hash-link" href="#代码规范" title="标题的直接链接">​</a></h2><div class="language-bash codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-bash codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># eslint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"> lint:eslint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 格式规范</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"> lint:prettier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"> prettier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 样式规范</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">pnpm</span><span class="token plain"> lint:style</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-lint">pnpm lint<a class="hash-link" href="#pnpm-lint" title="标题的直接链接">​</a></h2><p>代码规范校验</p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-prepare">pnpm prepare<a class="hash-link" href="#pnpm-prepare" title="标题的直接链接">​</a></h2><p>安装依赖npm钩子</p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-precommit">pnpm precommit<a class="hash-link" href="#pnpm-precommit" title="标题的直接链接">​</a></h2><p>提交权限规范</p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-war">pnpm war<a class="hash-link" href="#pnpm-war" title="标题的直接链接">​</a></h2><p>打包<code>./dist</code>为<code>war</code>包</p><ul><li>逻辑代码如下：</li></ul><details class="details_wal9 alert alert--info details_591C" data-collapsed="true"><summary>点击查看详情</summary><div><div class="collapsibleContent_EOdf"><div class="language-js codeBlockContainer_I9vm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_S15g"><pre tabindex="0" class="prism-code language-js codeBlock_NcR6 thin-scrollbar"><code class="codeBlockLines_dAKT"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> zipFolder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;folder-zip-sync&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;../package.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">zipFolder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;./dist&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">./dist/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">pkg</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">warName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">.war</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;压缩文件出错了&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_FqRE"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eoCw" aria-hidden="true"><svg class="copyButtonIcon_gGRS" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LrkZ" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><blockquote><p>war包名字看<code>packages.json</code>，<code>warName</code>默认为<code>vite</code>，可以自定义。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_w7M_" id="pm2"><a href="https://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank" rel="noopener noreferrer">pm2</a><a class="hash-link" href="#pm2" title="标题的直接链接">​</a></h2><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_FA4o"><div class="admonitionHeading_w31k"><span class="admonitionIcon_ghJJ"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>注意</div><div class="admonitionContent_ahRa"><p><code>pnpm start</code>、<code>pnpm restart</code>、<code>pnpm stop</code>和<code>pnpm delete</code>命令针对<strong>打包后</strong>部署服务用，你还需要安装<code>npm i -g pm2</code>哦。</p></div></div><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-start">pnpm start<a class="hash-link" href="#pnpm-start" title="标题的直接链接">​</a></h3><p>启动服务</p><p><img loading="lazy" alt="图片" src="/docs/mk-koa/assets/images/02-15d00cff0c6fa70b946f06381e24cb22.png" width="1240" height="307" class="img_wrHa"></p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-restart">pnpm restart<a class="hash-link" href="#pnpm-restart" title="标题的直接链接">​</a></h3><p>重启服务</p><p><img loading="lazy" alt="图片" src="/docs/mk-koa/assets/images/03-15c118860000bc819dc407ea32a091ac.png" width="1241" height="654" class="img_wrHa"></p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-stop">pnpm stop<a class="hash-link" href="#pnpm-stop" title="标题的直接链接">​</a></h3><p>暂停服务</p><p><img loading="lazy" alt="图片" src="/docs/mk-koa/assets/images/04-5a9f12c8eb6bb2f44629513868dbf77c.png" width="1241" height="218" class="img_wrHa"></p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-delete">pnpm delete<a class="hash-link" href="#pnpm-delete" title="标题的直接链接">​</a></h3><p>删除服务</p><p><img loading="lazy" alt="图片" src="/docs/mk-koa/assets/images/05-14e4f353f3dd0ad007e9f4fcf7b2d19a.png" width="1242" height="178" class="img_wrHa"></p><h2 class="anchor anchorWithStickyNavbar_w7M_" id="docusaurus"><a href="https://www.docusaurus.io/zh-CN/" target="_blank" rel="noopener noreferrer">Docusaurus</a><a class="hash-link" href="#docusaurus" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-dev-1">pnpm dev<a class="hash-link" href="#pnpm-dev-1" title="标题的直接链接">​</a></h3><p>文档开发模式</p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="pnpm-build-1">pnpm build<a class="hash-link" href="#pnpm-build-1" title="标题的直接链接">​</a></h3><p>文档打包</p><h3 class="anchor anchorWithStickyNavbar_w7M_" id="去掉文档">去掉文档<a class="hash-link" href="#去掉文档" title="标题的直接链接">​</a></h3><p>删除<code>website</code>文件。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mankeung/mk-koa/edit/master/docs/config/scripts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_BJG6" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_uXFU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/mk-koa/docs/config/lint"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">代码规范</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_LUX6 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pnpm-install" class="table-of-contents__link toc-highlight">pnpm install</a><ul><li><a href="#pnpm-run-prepare" class="table-of-contents__link toc-highlight">pnpm run prepare</a></li><li><a href="#代码提交权限逻辑如下代码" class="table-of-contents__link toc-highlight">代码提交权限逻辑如下代码</a></li></ul></li><li><a href="#pnpm-dev" class="table-of-contents__link toc-highlight">pnpm dev</a></li><li><a href="#pnpm-build" class="table-of-contents__link toc-highlight">pnpm build</a></li><li><a href="#代码规范" class="table-of-contents__link toc-highlight">代码规范</a></li><li><a href="#pnpm-lint" class="table-of-contents__link toc-highlight">pnpm lint</a></li><li><a href="#pnpm-prepare" class="table-of-contents__link toc-highlight">pnpm prepare</a></li><li><a href="#pnpm-precommit" class="table-of-contents__link toc-highlight">pnpm precommit</a></li><li><a href="#pnpm-war" class="table-of-contents__link toc-highlight">pnpm war</a></li><li><a href="#pm2" class="table-of-contents__link toc-highlight">pm2</a><ul><li><a href="#pnpm-start" class="table-of-contents__link toc-highlight">pnpm start</a></li><li><a href="#pnpm-restart" class="table-of-contents__link toc-highlight">pnpm restart</a></li><li><a href="#pnpm-stop" class="table-of-contents__link toc-highlight">pnpm stop</a></li><li><a href="#pnpm-delete" class="table-of-contents__link toc-highlight">pnpm delete</a></li></ul></li><li><a href="#docusaurus" class="table-of-contents__link toc-highlight">Docusaurus</a><ul><li><a href="#pnpm-dev-1" class="table-of-contents__link toc-highlight">pnpm dev</a></li><li><a href="#pnpm-build-1" class="table-of-contents__link toc-highlight">pnpm build</a></li><li><a href="#去掉文档" class="table-of-contents__link toc-highlight">去掉文档</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">mkimq版权所有 © 2022</div></div></div></footer></div>
<script src="/docs/mk-koa/assets/js/runtime~main.f5bbddb3.js"></script>
<script src="/docs/mk-koa/assets/js/main.9ea7c0f5.js"></script>
</body>
</html>